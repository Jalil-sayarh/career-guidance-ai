(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1000:function(e,t,a){"use strict";a.r(t);var n=a(40),r=a(0),i=a.n(r),o=a(87),l=a.n(o),s=a(562),c=a(575),u=a.n(c),m=a(576),d=a(1094),p=a(1016),h=a(1017);a(653),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var g,y,f=a(128),E=a(51),b=a(12),v=a(49),C="".concat("TASKS","/ADD_TASK"),w="".concat("TASKS","/RUN_TASK"),O="".concat("TASKS","/COMPLETE_TASK"),N="".concat("TASKS","/REMOVE_TASK"),I="ADDED",P="RUNNING",T="COMPLETED",S=function(e){var t=e.taskId,a=e.group,n=e.algorithm,r=e.startTime,i=e.parameters,o=e.formParameters,l=(e.query,e.persisted),s=e.database;return{type:C,taskId:t,group:a,algorithm:n,startTime:r,parameters:i,formParameters:o,persisted:l,database:s}},L=function(e){var t=e.taskId,a=e.query,n=e.namedGraphQueries,r=e.parameters,i=e.formParameters,o=e.persisted;return{type:w,taskId:t,query:a,namedGraphQueries:n,parameters:r,formParameters:i,persisted:o}},k=function(e){var t=e.taskId,a=e.result,n=e.error;return{type:O,taskId:t,result:a,error:n}},R=function(e){var t=e.taskId;return{type:N,taskId:t}},A=a(1084),j=a(1012),D=a(1089),x=a(1006),F=a(574),M=function(e){var t=e.title,a=e.children,r=e.className,o=i.a.useState(!0),l=Object(n.a)(o,2),s=l[0],c=l[1],u={display:s?"":"none"};return i.a.createElement(x.a,{className:r||""},i.a.createElement(F.a,{as:"a",attached:"top left",onClick:function(){return c(!s)}},t),i.a.createElement("div",{style:u},a))},H=function(e){var t=e.readOnly,a=e.label,n=e.labelOptions,r=e.relationshipType,o=e.direction,l=e.relationshipTypeOptions,s=e.relPropertyKeyOptions,c=e.relationshipOrientationOptions,u=(e.propertyKeyOptions,e.weightProperty),m=e.defaultValue,d=e.onChange,p=e.showWeightProperty;return i.a.createElement(M,{title:"Projected Graph"},i.a.createElement(A.a.Field,{inline:!0,className:t?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Label"),i.a.createElement(D.a,{disabled:t,placeholder:"Label",value:a,search:!0,selection:!0,options:n,onChange:function(e,t){return d("label",t.value)}})),i.a.createElement(A.a.Field,{inline:!0,className:t?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Relationship Type"),i.a.createElement(D.a,{disabled:t,placeholder:"RelationshipType",value:r,search:!0,selection:!0,options:l,onChange:function(e,t){return d("relationshipType",t.value)}})),r?i.a.createElement(A.a.Field,{inline:!0,className:t?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Relationship Orientation"),i.a.createElement(D.a,{disabled:t,placeholder:"RelationshipOrientation",value:o,search:!0,selection:!0,options:c,onChange:function(e,t){return d("direction",t.value)}})):null,p&&r?i.a.createElement(A.a.Field,{inline:!0,className:t?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Weight Property"),i.a.createElement(D.a,{disabled:t,placeholder:"Weight Property",value:u,search:!0,selection:!0,options:s,onChange:function(e,t){return d("weightProperty",t.value)}})):null,p&&u?i.a.createElement(A.a.Field,{inline:!0,className:t?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Default weight"),i.a.createElement(j.a,{disabled:t,size:"mini",basic:"true",value:m,onChange:function(e){return d("defaultValue",e.target.value)}})):null)},K=function(e){var t=Object(b.a)({},e,{showWeightProperty:!0});return i.a.createElement(H,t)},V=function(e){var t=Object(b.a)({},e,{showWeightProperty:!1});return i.a.createElement(H,t)},W=a(1011),B=a(1015),G=function(e){var t=e.persist,a=e.onChange,n=e.writeProperty,r=e.readOnly,o=e.children;return i.a.createElement(M,{title:"Results"},i.a.createElement(A.a.Field,{className:r?"disabled":null,inline:!0,style:{display:"flex",alignItems:"center"}},i.a.createElement("label",{style:{width:"12em"}},"Store results?"),i.a.createElement(W.a,{disabled:r,toggle:!0,checked:t,onChange:function(e,t){a("persist",t.checked)}})),t?i.a.createElement(A.a.Field,{inline:!0,className:r?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Write Property"),i.a.createElement(j.a,{disabled:r,basic:"true",value:n,placeholder:"Write Property",onChange:function(e){return a("writeProperty",e.target.value)}})):null,i.a.createElement(B.a,null),o)},$=function(e){var t=e.maxIterations,a=e.dampingFactor,n=e.onChange,r=e.readOnly;return i.a.createElement(M,{title:"Algorithm Parameters"},i.a.createElement(A.a.Field,{disabled:r,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Iterations"),control:j.a,type:"number",value:t,onChange:function(e,t){return n("maxIterations",t.value)},min:1,max:50,step:1}),i.a.createElement(A.a.Field,{disabled:r,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Damping Factor"),control:j.a,type:"number",value:a,step:.01,onChange:function(e,t){return n("dampingFactor",t.value)}}))},z=function(e){var t=e.readOnly,a=e.label,n=e.relationshipType,r=e.labelOptions,o=e.relationshipTypeOptions,l=e.relationshipOrientationOptions,s=e.relPropertyKeyOptions,c=e.propertyKeyOptions,u=e.writeProperty,m=e.onChange,d=e.maxIterations,p=e.dampingFactor,h=e.weightProperty,g=e.defaultValue,y=e.direction,f=e.persist,E=e.children,b={label:a,labelOptions:r,relationshipType:n,direction:y,relationshipTypeOptions:o,relationshipOrientationOptions:l,propertyKeyOptions:c,weightProperty:h,defaultValue:g,onChange:m,readOnly:t,relPropertyKeyOptions:s};return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(K,b),i.a.createElement($,{maxIterations:d,dampingFactor:p,onChange:m,readOnly:t}),i.a.createElement(G,{persist:f,onChange:m,writeProperty:u,readOnly:t}," ",E," "))},U=a(63),Q="neo4j",Y=function(){return g},_=function(){return y},q=function(){return Q},J=function(){return ne()>=4},X=function(e){return(g=Object(U.driver)(e.host||"bolt://localhost:7687",U.auth.basic(e.username,e.password))).verifyConnectivity().then(function(e){return Z(e.version.split("/")[1]),Promise.resolve(_())})},Z=function(e){y=e},ee=function(e){Q=e},te=function(e){return Y().session({database:e})},ae=function(e){return parseInt(e.split(".").slice(0,1).join("."))},ne=function(){return ae(_())},re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return 4===ne()?te(Q).run(e,t):Y().session().run(e,t)},ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return te("system").run(e,t)},oe=function(e,t,a){var n=parseInt(t.gdsVersion.split(".")[0]),r="in-memory-graph-".concat(Date.now());t.generatedName=r;var i="CALL gds.graph.".concat(1===n?"create":"project",'("').concat(r,'", $graphConfig.nodeProjection, $graphConfig.relationshipProjection ').concat(t.graphConfig.nodeProperties?",{ nodeProperties: [$graphConfig.nodeProperties]}":"",")"),o='CALL gds.graph.drop("'.concat(r,'")');return new Promise(function(n,r){re(i,t).then(function(){return re(e,t).then(function(e){re(o),n(a(e))}).catch(r)}).catch(r)})},le=function(e,t,a,n){var r=parseInt(a.gdsVersion.split(".")[0]),i="in-memory-graph-".concat(Date.now());a.generatedName=i;var o="CALL gds.graph.".concat(1===r?"create":"project",'("').concat(i,'", $graphConfig.nodeProjection, $graphConfig.relationshipProjection ').concat(a.graphConfig.nodeProperties?",{ nodeProperties: [$graphConfig.nodeProperties]}":"",")"),l='CALL gds.graph.drop("'.concat(i,'")');return new Promise(function(r,i){re(o,a).then(function(){return re(e,a).then(function(){re(t,a).then(function(e){re(l),r(n(e))}).catch(i)}).catch(i)})})},se=function(e){return Object.keys(e).reduce(function(t,a){var n=e[a];return Object(U.isInt)(n)?t[a]=n.toNumber():Array.isArray(n)?t[a]=n.map(function(e){return e.toString()}).join(", "):Object(U.isDate)(n)||Object(U.isDateTime)(n)||Object(U.isDuration)(n)||Object(U.isLocalDateTime)(n)||Object(U.isLocalTime)(n)?t[a]=n.toString():t[a]=n,t},{})},ce=function(e){var t=e.streamCypher,a=e.storeCypher,n=e.fetchCypher,r=e.parameters;return e.persisted?le(a,n,r,ue):oe(t,r,ue)},ue=function(e){if(e.records){var t=e.records.map(function(e){var t=e.get("node"),a=t.properties,n=t.labels,r=t.identity;return{properties:se(a),identity:r.toNumber(),labels:n,score:e.get("score")}});return{rows:t,ids:t.map(function(e){return e.identity}),labels:Object(v.a)(new Set(t.flatMap(function(e){return e.labels})))}}throw console.error(e.error),new Error(e.error)},me=function(e){if(e.records){var t=e.records.map(function(e){var t=e.get("node"),a=t.properties,n=t.labels,r=t.identity;return{properties:se(a),identity:r.toNumber(),labels:n,hubScore:e.get("hubScore"),authScore:e.get("authScore")}});return{rows:t,ids:t.map(function(e){return e.identity}),labels:Object(v.a)(new Set(t.flatMap(function(e){return e.labels})))}}throw console.error(e.error),new Error(e.error)},de=a(24),pe=function(e){return"".concat(e,"\nWITH gds.util.asNode(nodeId) AS node, score\nRETURN node, score\nORDER BY score DESC\nLIMIT toInteger($limit)")},he=function(e){return"".concat(e,"\nWITH gds.util.asNode(nodeId) AS node, community\nWITH collect(node) AS allNodes, community\nRETURN community, allNodes[0..$communityNodeLimit] AS nodes, size(allNodes) AS size \nORDER BY size DESC\nLIMIT toInteger($limit);")},ge=function(e,t,a){var n=a.nodeProjection&&"*"!==a.nodeProjection?":`"+a.nodeProjection+"`":"";return"MATCH (node".concat(n,")\nWHERE exists(node.`").concat(t.writeProperty,"`)\nRETURN node, node.`").concat(t.writeProperty,"` AS score\nORDER BY score DESC\nLIMIT toInteger($limit)")},ye=function(e,t,a){var n=a.nodeProjection&&"*"!==a.nodeProjection?":`"+a.nodeProjection+"`":"";return"MATCH (node".concat(n,")\nWHERE exists(node.`").concat(t.writeProperty,"`)\nWITH node.`").concat(t.writeProperty,"` AS community, collect(node) AS allNodes\nRETURN community, allNodes[0..$communityNodeLimit] AS nodes, size(allNodes) AS size\nORDER BY size DESC\nLIMIT toInteger($limit)")},fe=function(e){var t=e.startNode,a=e.endNode,n=e.latitudeProperty,r=e.longitudeProperty,i=e.label,o=e.relationshipType,l=e.direction,s=e.persist,c=e.writeProperty,u=e.weightProperty,m=(e.clusteringCoefficientProperty,e.communityProperty,e.includeIntermediateCommunities,e.intermediateCommunitiesWriteProperty,e.defaultValue),d=e.limit,p=e.requiredProperties,h={limit:parseInt(d)||50,config:{}};h.startNode=t||null,h.endNode=a||null;var g=u?u.trim():u,y=c?c.trim():c,f={nodeProjection:i||"*",relationshipProjection:Ie(o,l,u,m),relationshipWeightProperty:g||null,write:!0,latitudeProperty:n,longitudeProperty:r};(n||r)&&(f.nodeProjection={nodeLabel:{label:f.nodeProjection,properties:[n,r]}}),s&&(f.writeProperty=y);return h.graphConfig=Te(Object(b.a)({},h.config,f),["nodeProjection","relationshipProjection"]),h.config=Te(Object(b.a)({},h.config,f),p),h},Ee=function(e){var t=e.startNode,a=e.endNode,n=e.delta,r=e.propertyKeyLat,i=e.propertyKeyLon,o=e.label,l=e.relationshipType,s=e.direction,c=e.persist,u=e.writeProperty,m=e.weightProperty,d=e.defaultValue,p=e.limit,h=e.requiredProperties,g={limit:parseInt(p)||50,config:{}};g.startNode=t||null,g.endNode=a||null;var y=m?m.trim():m,f=u?u.trim():u,E={nodeProjection:o||"*",relationshipProjection:Ie(l,s,m,d),relationshipWeightProperty:y||null,write:!0,propertyKeyLat:r,propertyKeyLon:i,delta:n};(r||i)&&(E.nodeProjection={nodeLabel:{label:E.nodeProjection,properties:[r,i]}}),c&&(E.writeProperty=f);return g.graphConfig=Te(Object(b.a)({},g.config,E),["nodeProjection","relationshipProjection"]),g.config=Te(Object(b.a)({},g.config,E),h),g},be=function(e,t,a,n){t&&(e.writeProperty=a||null,e.writeRelationshipType=n||null)},ve=function(e){var t=e.label,a=e.relationshipType,n=e.direction,r=e.persist,i=e.writeProperty,o=e.defaultValue,l=e.weightProperty,s=e.writeRelationshipType,c=e.nodeWeightProperty,u=e.topK,m=e.sampleRate,d=e.deltaThreshold,p=e.randomJoins,h=e.limit,g=e.requiredProperties,y=e.similarityMetric,f={limit:parseInt(h)||50},E={nodeProjection:t||"*",relationshipProjection:Ie(a,n,l,o),topK:Object(U.int)(u)||10,randomJoins:Object(U.int)(p)||10,sampleRate:parseFloat(m)||.5,deltaThreshold:parseFloat(d)||.001};c&&(E.nodeProperties=[c],g.push("nodeProperties")),be(E,r,i,s);return f.graphConfig=Te(Object(b.a)({},f.config,E),["nodeProjection","relationshipProjection","nodeProperties"]),f.config=Te(Object(b.a)({},f.config,E),g),f.config.nodeProperties={},f.config.nodeProperties[c]=y,f},Ce=function(e){var t=e.itemLabel,a=e.relationshipType,n=e.categoryLabel,r=(e.direction,e.persist,e.writeProperty),i=e.weightProperty,o=e.writeRelationshipType,l=e.similarityCutoff,s=e.degreeCutoff,c=e.limit,u=e.requiredProperties,m={limit:parseInt(c)||50,itemLabel:t||null,relationshipType:a||null,categoryLabel:n||null,weightProperty:i||null,config:{}},d={nodeProjection:"*",relationshipProjection:"*",writeProperty:r||null,writeRelationshipType:o||null,similarityCutoff:parseFloat(l),degreeCutoff:null==s?null:Object(U.int)(s)};return u.push("nodeProjection"),u.push("relationshipProjection"),m.config=Te(Object(b.a)({},m.config,d),u),m},we=function(e){var t=e.label,a=e.relationshipType,n=e.direction,r=e.persist,i=e.maxIterations,o=e.minAssociationStrength,l=e.tolerance,s=e.writeProperty,c=e.weightProperty,u=e.clusteringCoefficientProperty,m=e.seedProperty,d=e.includeIntermediateCommunities,p=(e.intermediateCommunitiesWriteProperty,e.defaultValue),h=e.limit,g=e.communityNodeLimit,y=e.requiredProperties,f=Pe(t,a,n,h,c,p);f.communityNodeLimit=g?parseInt(g):10;var E=s?s.trim():s,v=null==i?null:Object(U.int)(i),C=null==l?null:parseFloat(l),w={write:!0,minAssociationStrength:parseFloat(o)||null,clusteringCoefficientProperty:u,includeIntermediateCommunities:d||!1,seedProperty:m||"",maxIterations:v&&v>0?v:null,tolerance:C&&C>0?C:null};m&&(w.nodeProperties=[m]),r&&(w.writeProperty=E),y.push("nodeProperties");return f.graphConfig=Te(Object(b.a)({},f.config,w),["nodeProjection","relationshipProjection"]),f.config=Te(Object(b.a)({},f.config,w),y),f},Oe=function(e){var t=e.label,a=e.relationshipType,n=e.direction,r=e.persist,i=e.writeProperty,o=e.weightProperty,l=e.defaultValue,s=e.dampingFactor,c=e.maxIterations,u=e.hitsIterations,m=e.maxDepth,d=e.probability,p=e.strategy,h=e.limit,g=e.normalization,y=e.requiredProperties,f=e.samplingSize,E=Pe(t,a,n,h,o,l),v=parseFloat(d),C=null==m?null:Object(U.int)(m),w=null==c?null:Object(U.int)(c),O=null==u?null:Object(U.int)(u),N=i?i.trim():i,I=null==f?null:Object(U.int)(f),P={dampingFactor:parseFloat(s)||null,maxIterations:w&&w>0?w:null,hitsIterations:O&&O>0?O:null,maxDepth:C&&C>0?C:null,probability:v&&v>0?v:null,strategy:p,write:!0,normalization:g||null,samplingSize:I||null};r&&(P.writeProperty=N);return E.graphConfig=Te(Object(b.a)({},E.config,P),["nodeProjection","relationshipProjection"]),E.config=Te(Object(b.a)({},E.config,P),y),E},Ne=function(e){var t=e.label,a=e.relationshipType,n=e.direction,r=e.persist,i=e.writeProperty,o=e.weightProperty,l=e.defaultValue,s=e.limit,c=e.requiredProperties,u=e.iterations,m=e.embeddingDimension,d=e.walkLength,p=e.inOutFactor,h=e.returnFactor,g=e.modelName,y=e.batchSize,f=e.normalizationStrength,E=e.embeddingSize,v=e.maxIterations,C=Pe(t,a,n,s,o,l),w=i?i.trim():i,O=null==u?null:Object(U.int)(u),N=null==v?null:Object(U.int)(v),I=null==m?null:Object(U.int)(m),P=null==E?null:Object(U.int)(E),T=null==y?null:Object(U.int)(y),S=null==d?null:Object(U.int)(d),L=parseFloat(p),k=parseFloat(h),R=parseFloat(f),A={write:!0,iterations:O&&O>0?O:null,maxIterations:N&&N>0?N:null,embeddingDimension:I&&I>0?I:null,embeddingSize:P&&P>0?P:null,walkLength:S&&S>0?S:null,inOutFactor:L&&L>0?L:null,returnFactor:k&&k>0?k:null,batchSize:T&&T>0?T:null,normalizationStrength:R&&R>0?R:null,modelName:g};r&&(A.writeProperty=w);return C.graphConfig=Te(Object(b.a)({},C.config,A),["nodeProjection","relationshipProjection"]),C.config=Te(Object(b.a)({},C.config,A),c),C},Ie=function(e,t,a,n){return null===e||void 0===e?Object(de.a)({},"relType",{type:"*",orientation:null===t||void 0===t?"NATURAL":t.toUpperCase()}):Object(de.a)({},"relType",{type:e,orientation:null===t||void 0===t?"NATURAL":t.toUpperCase(),properties:a?Object(de.a)({},a,{property:a,defaultValue:parseFloat(n)||null}):{}})},Pe=function(e,t,a,n,r,i){var o=r?r.trim():r;return{limit:parseInt(n)||50,config:{nodeProjection:e||"*",relationshipProjection:Ie(t,a,r,i),relationshipWeightProperty:o||null}}},Te=function(e,t){return Object.keys(e).filter(function(e){return t.includes(e)}).reduce(function(t,a){return Object(b.a)({},t,Object(de.a)({},a,e[a]))},{})},Se=function(e){var t=e.relationshipType,a=e.readOnly,n=e.onChange,r=e.direction,o=e.persist,l=e.writeProperty,s=e.weightProperty,c=e.label,u=e.labelOptions,m=e.relationshipTypeOptions,d=e.relationshipOrientationOptions,p=e.children,h={label:c,labelOptions:u,relationshipType:t,direction:r,relationshipTypeOptions:m,relationshipOrientationOptions:d,weightProperty:s,onChange:n,readOnly:a};return i.a.createElement(i.a.Fragment,null,i.a.createElement(V,h),i.a.createElement(G,{persist:o,onChange:n,writeProperty:l,readOnly:a},p))},Le=function(e){var t=e.taskId,a=e.readOnly,n=e.label,r=e.relationshipType,o=e.labelOptions,l=e.relationshipTypeOptions,s=e.propertyKeyOptions,c=e.relPropertyKeyOptions,u=e.relationshipOrientationOptions,m=e.onChange,d=e.writeProperty,p=e.weightProperty,h=e.defaultValue,g=e.direction,y=e.persist,f=e.children,E={readOnly:a,label:n,labelOptions:o,relationshipType:r,direction:g,relationshipTypeOptions:l,relationshipOrientationOptions:u,propertyKeyOptions:s,relPropertyKeyOptions:c,weightProperty:p,defaultValue:h,onChange:m,taskId:t};return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(K,E),i.a.createElement(G,{persist:y,onChange:m,writeProperty:d,readOnly:a},f))},ke=a(1090),Re=function(e){var t=e.propertyKeyOptions,a=e.seedProperty,n=e.includeIntermediateCommunities,r=e.onChange,o=e.readOnly;return i.a.createElement(M,{title:"Algorithm Parameters"},i.a.createElement(A.a.Field,{inline:!0},i.a.createElement("label",{style:{width:"12em"}},"Seed Property"),i.a.createElement(D.a,{disabled:o,placeholder:"Seed Property",defaultValue:a,search:!0,selection:!0,options:t,onChange:function(e,t){return r("seedProperty",t.value)}})),i.a.createElement(A.a.Field,{inline:!0},i.a.createElement("label",{style:{width:"12em"}},"Intermediate Communities?"),i.a.createElement(W.a,{disabled:o,toggle:!0,checked:n,onChange:function(e,t){r("includeIntermediateCommunities",t.checked)}})))},Ae=function(e){var t=e.readOnly,a=e.onChange,n=e.labelOptions,r=e.label,o=e.relationshipType,l=e.relationshipTypeOptions,s=e.relationshipOrientationOptions,c=e.relPropertyKeyOptions,u=e.propertyKeyOptions,m=e.weightProperty,d=e.writeProperty,p=e.seedProperty,h=e.includeIntermediateCommunities,g=e.defaultValue,y=e.direction,f=e.persist,E=e.children,b={label:r,labelOptions:n,relationshipType:o,direction:y,relationshipTypeOptions:l,relationshipOrientationOptions:s,propertyKeyOptions:u,weightProperty:m,defaultValue:g,onChange:a,readOnly:t,relPropertyKeyOptions:c},v={propertyKeyOptions:u,seedProperty:p,includeIntermediateCommunities:h,onChange:a,readOnly:t};return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(K,b),i.a.createElement(Re,v),i.a.createElement(G,{persist:f,onChange:a,writeProperty:d,readOnly:t},E))},je=function(e){var t=e.streamCypher,a=e.storeCypher,n=e.fetchCypher,r=e.parameters,i=e.persisted,o=e.parseResultStreamFn,l=void 0===o?De:o;return i?le(a,n,r,l):oe(t,r,l)},De=function(e){if(e.records){var t=e.records.map(function(e){var t=e.get("nodes"),a=e.has("communities")?e.get("communities"):null;return{nodes:t.map(function(e){return{properties:se(e.properties),identity:e.identity.toNumber(),labels:e.labels}}),size:e.get("size").toNumber(),community:e.get("community").toNumber(),communities:a?a.map(function(e){return e.toNumber()}).toString():null}});return{rows:t,ids:Object(v.a)(new Set(t.flatMap(function(e){return e.nodes.map(function(e){return e.identity})}))),labels:Object(v.a)(new Set(t.flatMap(function(e){return e.nodes.flatMap(function(e){return e.labels})})))}}throw console.error(e.error),new Error(e.error)},xe=a(1098),Fe=function(){return i.a.createElement(p.a,{active:!0,inline:"centered"},"Algorithm running")},Me=function(e){var t=e.task;return i.a.createElement(xe.a.Pane,{key:t.startTime.toLocaleString(),style:{padding:"1em 0",borderTop:"0"}},i.a.createElement(ke.a,{color:"green"},i.a.createElement(ke.a.Header,null,i.a.createElement(ke.a.Row,null,i.a.createElement(ke.a.HeaderCell,null,"Community"),i.a.createElement(ke.a.HeaderCell,null,"Size"),i.a.createElement(ke.a.HeaderCell,null,"Nodes"))),i.a.createElement(ke.a.Body,null,t.result?t.result&&t.result.rows.map(function(e,a){return i.a.createElement(ke.a.Row,{key:a},i.a.createElement(ke.a.Cell,null,e.community),i.a.createElement(ke.a.Cell,null,e.size),i.a.createElement(ke.a.Cell,null,e.nodes.map(function(e,a){return i.a.createElement(na,{key:"properties-"+a,properties:e.properties,labels:e.labels,database:t.database})})))}):i.a.createElement(ke.a.Row,{key:"loading-centrality-result"},i.a.createElement(ke.a.Cell,{colSpan:3},i.a.createElement(Fe,null))))))},He=function(e){var t=e.children,a=e.readOnly,n=e.onChange,r=e.labelOptions,o=e.label,l=e.relationshipType,s=e.relationshipOrientationOptions,c=e.relationshipTypeOptions,u=e.propertyKeyOptions,m=e.writeProperty,d=e.weightProperty,p=e.defaultValue,h=e.direction,g=e.persist,y={label:o,labelOptions:r,relationshipType:l,direction:h,relationshipTypeOptions:c,relationshipOrientationOptions:s,propertyKeyOptions:u,weightProperty:d,defaultValue:p,onChange:n,readOnly:a,relPropertyKeyOptions:e.relPropertyKeyOptions};return i.a.createElement(A.a,{style:{marginBottom:"1em"}},i.a.createElement(K,y),i.a.createElement(G,{persist:g,onChange:n,writeProperty:m,readOnly:a},t))},Ke=function(e){var t=e.children,a=e.readOnly,n=e.onChange,r=e.labelOptions,o=e.relationshipType,l=e.label,s=e.relationshipOrientationOptions,c=e.relationshipTypeOptions,u=e.propertyKeyOptions,m=e.writeProperty,d=e.weightProperty,p=e.defaultValue,h=e.direction,g=e.persist,y={label:l,labelOptions:r,relationshipType:o,direction:h,relationshipTypeOptions:c,relationshipOrientationOptions:s,propertyKeyOptions:u,weightProperty:d,defaultValue:p,onChange:n,readOnly:a,relPropertyKeyOptions:e.relPropertyKeyOptions};return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(K,y),i.a.createElement(G,{persist:g,onChange:n,writeProperty:m,readOnly:a},t))},Ve=function(e){var t=e.readOnly,a=e.onChange,n=e.label,r=e.relationshipType,o=e.direction,l=e.persist,s=e.writeProperty,c=e.labelOptions,u=e.relationshipTypeOptions,m=e.relationshipOrientationOptions,d=e.children,p={label:n,labelOptions:c,relationshipType:r,direction:o,relationshipTypeOptions:u,relationshipOrientationOptions:m,onChange:a,readOnly:t};return i.a.createElement(i.a.Fragment,null,i.a.createElement(V,p),i.a.createElement(G,{persist:l,onChange:a,writeProperty:s,readOnly:t},d))},We=function(e){var t=e.readOnly,a=e.onChange,n=e.relationshipType,r=e.label,o=e.relationshipOrientationOptions,l=e.labelOptions,s=e.relationshipTypeOptions,c=e.writeProperty,u=e.direction,m=e.persist,d=e.children;return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(Ve,{readOnly:t,label:r,relationshipOrientationOptions:o,relationshipType:n,onChange:a,direction:u,persist:m,writeProperty:c,labelOptions:l,relationshipTypeOptions:s},d))},Be=function(e){var t=e.limit,a=e.communityNodeLimit,n=e.returnsCommunities,r=e.updateCommunityNodeLimit,o=e.updateLimit,l=e.readOnly;return i.a.createElement(i.a.Fragment,null,i.a.createElement(A.a.Field,{disabled:l,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Rows to show"),control:j.a,type:"number",value:t,onChange:o,min:1,max:1e3,step:1}),n?i.a.createElement(A.a.Field,{disabled:l,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Community Node Limit"),control:j.a,type:"number",value:a,onChange:r,min:1,max:1e3,step:1}):null)},Ge=function(e){var t=e.children;return i.a.createElement(M,{title:"Results"},t)},$e=function(e){var t=e.onChange,a=e.readOnly,n=e.relationshipType,r=e.label,o=e.direction,l=(e.persist,e.labelOptions),s=e.relationshipTypeOptions,c=e.relationshipOrientationOptions,u=e.children,m={label:r,labelOptions:l,relationshipType:n,direction:o,relationshipTypeOptions:s,relationshipOrientationOptions:c,onChange:t,readOnly:a};return i.a.createElement(i.a.Fragment,null,i.a.createElement(V,m),i.a.createElement(Ge,null,u))},ze=function(e){var t=e.readOnly,a=e.onChange,n=e.label,r=e.relationshipType,o=e.labelOptions,l=e.relationshipTypeOptions,s=e.direction,c=e.persist,u=e.children;return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement($e,{label:n,readOnly:t,onChange:a,relationshipType:r,relationshipOrientationOptions:[{key:"Undirected",value:"Undirected",text:"Undirected"}],direction:s,persist:c,labelOptions:o,relationshipTypeOptions:l},u))},Ue=function(){return i.a.createElement(p.a,{active:!0,inline:"centered"},"Algorithm running")},Qe=function(){return i.a.createElement(p.a,{size:"big",active:!0,inline:"centered"},"Algorithm running")},Ye=function(){return i.a.createElement(p.a,{active:!0,inline:"centered"},"Algorithm running")},_e=function(e){var t=e.readOnly,a=e.label,n=e.onChange,r=e.labelOptions,o=e.relationshipType,l=e.relationshipTypeOptions,s=e.writeProperty,c=e.direction,u=e.persist,m=e.children;return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(Ve,{readOnly:t,onChange:n,direction:c,persist:u,writeProperty:s,labelOptions:r,label:a,relationshipType:o,relationshipOrientationOptions:[{key:"Undirected",value:"Undirected",text:"Undirected"}],relationshipTypeOptions:l},m))},qe=function(){return i.a.createElement(p.a,{active:!0,inline:"centered"},"Algorithm running")},Je=function(e){var t=e.readOnly,a=e.onChange,n=e.label,r=e.labelOptions,o=e.relationshipType,l=e.relationshipTypeOptions,s=e.writeProperty,c=e.direction,u=e.persist,m=e.children;return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(Ve,{readOnly:t,onChange:a,direction:c,persist:u,writeProperty:s,labelOptions:r,label:n,relationshipType:o,relationshipOrientationOptions:[{key:"Undirected",value:"Undirected",text:"Undirected"}],relationshipTypeOptions:l},m))},Xe=function(e){var t=e.propertyKeyOptions,a=e.seedProperty,n=e.maxIterations,r=e.onChange,o=e.tolerance,l=e.readOnly;return i.a.createElement(M,{title:"Algorithm Parameters"},i.a.createElement(A.a.Field,{disabled:l,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Iterations"),control:j.a,type:"number",value:n,onChange:function(e,t){return r("maxIterations",t.value)},min:1,max:50,step:1}),i.a.createElement(A.a.Field,{disabled:l,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Damping Factor"),control:j.a,type:"number",value:o,step:.001,onChange:function(e,t){return r("tolerance",t.value)}}),i.a.createElement(A.a.Field,{inline:!0,className:l?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Seed Property"),i.a.createElement(D.a,{disabled:l,placeholder:"Seed Property",defaultValue:a,search:!0,selection:!0,options:t,onChange:function(e,t){return r("seedProperty",t.value)}})))},Ze=function(e){var t=e.children,a=e.readOnly,n=e.onChange,r=e.labelOptions,o=e.maxIterations,l=e.tolerance,s=e.label,c=e.relationshipType,u=e.relationshipTypeOptions,m=e.relationshipOrientationOptions,d=e.propertyKeyOptions,p=e.weightProperty,h=e.writeProperty,g=e.seedProperty,y=e.defaultValue,f=e.direction,E=e.persist,b={label:s,labelOptions:r,relationshipType:c,direction:f,relationshipTypeOptions:u,relationshipOrientationOptions:m,propertyKeyOptions:d,weightProperty:p,defaultValue:y,onChange:n,readOnly:a,relPropertyKeyOptions:e.relPropertyKeyOptions},v={propertyKeyOptions:d,seedProperty:g,maxIterations:o,onChange:n,tolerance:l,readOnly:a};return i.a.createElement(A.a,{style:{marginBottom:"1em"}},i.a.createElement(K,b),i.a.createElement(Xe,v),i.a.createElement(G,{persist:E,onChange:n,writeProperty:h,readOnly:a},t))},et=function(e){var t=e.maxIterations,a=e.onChange,n=e.readOnly;return i.a.createElement(M,{title:"Algorithm Parameters"},i.a.createElement(A.a.Field,{disabled:n,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Iterations"),control:j.a,type:"number",value:t,onChange:function(e,t){return a("maxIterations",t.value)},min:1,max:50,step:1}))},tt=function(e){var t=e.readOnly,a=e.children,n=e.onChange,r=e.label,o=e.labelOptions,l=e.maxIterations,s=e.relationshipType,c=e.relationshipTypeOptions,u=e.relPropertyKeyOptions,m=e.relationshipOrientationOptions,d=e.propertyKeyOptions,p=e.weightProperty,h=e.writeProperty,g=e.defaultValue,y=e.direction,f=e.persist,E={label:r,labelOptions:o,relationshipType:s,direction:y,relationshipTypeOptions:c,relationshipOrientationOptions:m,propertyKeyOptions:d,weightProperty:p,defaultValue:g,onChange:n,readOnly:t,relPropertyKeyOptions:u};return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(K,E),i.a.createElement(et,{maxIterations:l,onChange:n,readOnly:t}),i.a.createElement(G,{persist:f,onChange:n,writeProperty:h,readOnly:t},a))},at=function(e){var t=e.maxIterations,a=e.minAssociationStrength,n=e.onChange,r=e.readOnly;return i.a.createElement(M,{title:"Algorithm Parameters"},i.a.createElement(A.a.Field,{disabled:r,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Iterations"),control:j.a,type:"number",value:t,onChange:function(e,t){return n("maxIterations",t.value)},min:1,max:50,step:1}),i.a.createElement(A.a.Field,{disabled:r,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Min Association Strength"),control:j.a,type:"number",value:a,step:.01,onChange:function(e,t){return n("minAssociationStrength",t.value)}}))},nt=function(e){var t=e.readOnly,a=e.onChange,n=e.labelOptions,r=e.label,o=e.relationshipType,l=e.relationshipTypeOptions,s=e.relationshipOrientationOptions,c=e.propertyKeyOptions,u=e.weightProperty,m=e.writeProperty,d=e.maxIterations,p=e.minAssociationStrength,h=e.defaultValue,g=e.direction,y=e.persist,f=e.children,E={label:r,labelOptions:n,relationshipType:o,direction:g,relationshipTypeOptions:l,relationshipOrientationOptions:s,propertyKeyOptions:c,weightProperty:u,defaultValue:h,onChange:a,readOnly:t},b={maxIterations:d,minAssociationStrength:p,onChange:a,readOnly:t};return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(K,E),i.a.createElement(at,b),i.a.createElement(G,{persist:y,onChange:a,writeProperty:m,readOnly:t},f))},rt=function(){return i.a.createElement(p.a,{size:"big",active:!0,inline:"centered"},"Algorithm running")},it=function(e){return e.replace(/^[^\S\r\n]+|[^\S\r\n]+$/gm,"")},ot={label:"*",relationshipType:"*",persist:!1,direction:"Undirected"},lt=Object(b.a)({},ot,{defaultValue:1,relationshipWeightProperty:null}),st={Louvain:{algorithmName:"gds.louvain",Form:Ae,parametersBuilder:we,service:je,ResultView:function(e){var t=e.task;return i.a.createElement(xe.a.Pane,{key:t.startTime.toLocaleString(),style:{padding:"1em 0"}},i.a.createElement(ke.a,{color:"green"},i.a.createElement(ke.a.Header,null,i.a.createElement(ke.a.Row,null,i.a.createElement(ke.a.HeaderCell,null,"Community"),i.a.createElement(ke.a.HeaderCell,null,"Communities"),i.a.createElement(ke.a.HeaderCell,null,"Size"),i.a.createElement(ke.a.HeaderCell,null,"Nodes"))),i.a.createElement(ke.a.Body,null,t.result?t.result&&t.result.rows.map(function(e,a){return i.a.createElement(ke.a.Row,{key:a},i.a.createElement(ke.a.Cell,null,e.community),i.a.createElement(ke.a.Cell,null,e.communities),i.a.createElement(ke.a.Cell,null,e.size),i.a.createElement(ke.a.Cell,null,e.nodes.map(function(e,a){return i.a.createElement(na,{key:a,properties:e.properties,labels:e.labels,database:t.database})})))}):i.a.createElement(ke.a.Row,{key:"loading-centrality-result"},i.a.createElement(ke.a.Cell,{colSpan:4},i.a.createElement(Qe,null))))))},parameters:Object(b.a)({},lt,{writeProperty:"louvain",includeIntermediateCommunities:!1,intermediateCommunitiesWriteProperty:"louvainIntermediate",seedProperty:null}),streamQuery:"CALL gds.louvain.stream($generatedName, $config)\nYIELD nodeId, communityId AS community, intermediateCommunityIds AS communities\nWITH gds.util.asNode(nodeId) AS node, community, communities\nWITH community, communities, collect(node) AS nodes\nRETURN community, communities, nodes[0..$communityNodeLimit] AS nodes, size(nodes) AS size\nORDER BY size DESC\nLIMIT toInteger($limit)",storeQuery:"CALL gds.louvain.write($generatedName, $config)",getFetchQuery:function(e,t,a){var n=a.nodeProjection&&"*"!==a.nodeProjection?":`"+a.nodeProjection+"`":"";return"MATCH (node".concat(n,")\nWHERE exists(node.`").concat(t.writeProperty,"`)\nWITH node, node.`").concat(t.writeProperty,'` AS community\nWITH collect(node) AS allNodes, \n     CASE WHEN apoc.meta.type(community) = "long[]" THEN community[-1] ELSE community END AS community, \n     CASE WHEN apoc.meta.type(community) = "long[]" THEN community ELSE null END as communities\nRETURN community, communities, allNodes[0..$communityNodeLimit] AS nodes, size(allNodes) AS size\nORDER BY size DESC\nLIMIT toInteger($limit)')},description:"one of the fastest modularity-based algorithms and also reveals a hierarchy of communities at different scales",returnsCommunities:!0},SLLPA:{algorithmName:"gds.alpha.sllpa",Form:nt,parametersBuilder:we,service:function(e){var t=e.streamCypher,a=e.storeCypher,n=e.fetchCypher,r=e.parameters,i=e.persisted;return je({streamCypher:t,storeCypher:a,fetchCypher:n,parameters:r,persisted:i,parseResultStreamFn:function(e){if(e.records){var t=e.records.map(function(e){var t=e.get("nodes"),a=e.get("communities");return{nodes:t.map(function(e){return{properties:se(e.properties),identity:e.identity.toNumber(),labels:e.labels}}),size:e.get("size").toNumber(),communities:a?a.map(function(e){return e.toNumber()}).toString():null}});return{rows:t,ids:Object(v.a)(new Set(t.flatMap(function(e){return e.nodes.map(function(e){return e.identity})}))),labels:Object(v.a)(new Set(t.flatMap(function(e){return e.nodes.flatMap(function(e){return e.labels})})))}}throw console.error(e.error),new Error(e.error)}})},ResultView:function(e){var t=e.task;return i.a.createElement(xe.a.Pane,{key:t.startTime.toLocaleString(),style:{padding:"1em 0"}},i.a.createElement(ke.a,{color:"green"},i.a.createElement(ke.a.Header,null,i.a.createElement(ke.a.Row,null,i.a.createElement(ke.a.HeaderCell,null,"Communities"),i.a.createElement(ke.a.HeaderCell,null,"Size"),i.a.createElement(ke.a.HeaderCell,null,"Nodes"))),i.a.createElement(ke.a.Body,null,t.result?t.result&&t.result.rows.map(function(e,a){return i.a.createElement(ke.a.Row,{key:a},i.a.createElement(ke.a.Cell,null,e.communities),i.a.createElement(ke.a.Cell,null,e.size),i.a.createElement(ke.a.Cell,null,e.nodes.map(function(e,a){return i.a.createElement(na,{key:a,properties:e.properties,labels:e.labels,database:t.database})})))}):i.a.createElement(ke.a.Row,{key:"loading-centrality-result"},i.a.createElement(ke.a.Cell,{colSpan:4},i.a.createElement(rt,null))))))},parameters:Object(b.a)({},lt,{writeProperty:"pregel_",maxIterations:10,minAssociationStrength:.1}),streamQuery:"CALL gds.alpha.sllpa.stream($generatedName, $config)\nYIELD nodeId, values        \nWITH gds.util.asNode(nodeId) AS node, values.communityIds AS communities\nWITH communities, collect(node) AS nodes\nRETURN communities, nodes[0..$communityNodeLimit] AS nodes, size(nodes) AS size\nORDER BY size DESC\nLIMIT toInteger($limit)",storeQuery:"CALL gds.alpha.sllpa.write($generatedName, $config)",getFetchQuery:function(e,t,a){var n=a.nodeProjection&&"*"!==a.nodeProjection?":`"+a.nodeProjection+"`":"";return"MATCH (node".concat(n,")\nWHERE exists(node.`").concat(t.writeProperty,"communityIds`)\nWITH node, node.`").concat(t.writeProperty,'communityIds` AS community\nWITH collect(node) AS allNodes,  \n     CASE WHEN apoc.meta.type(community) = "long[]" THEN community ELSE null END as communities\nRETURN communities, allNodes[0..$communityNodeLimit] AS nodes, size(allNodes) AS size\nORDER BY size DESC\nLIMIT toInteger($limit)')},description:"variation of the Label Propagation algorithm that is able to detect multiple communities per node.",returnsCommunities:!0},"Modularity Optimization":{algorithmName:"gds.beta.modularityOptimization",Form:Ze,parametersBuilder:we,service:je,ResultView:Me,parameters:Object(b.a)({},lt,{writeProperty:"modularityOptimization",seedProperty:null,maxIterations:10,tolerance:1e-4}),streamQuery:he("CALL gds.beta.modularityOptimization.stream($generatedName, $config) YIELD nodeId, communityId AS community"),storeQuery:"CALL gds.beta.modularityOptimization.write($generatedName, $config)",getFetchQuery:ye,description:"detect communities in the graph based on their modularity.",returnsCommunities:!0},"K1-Coloring":{algorithmName:"gds.beta.k1coloring",Form:tt,parametersBuilder:we,service:je,ResultView:Me,parameters:Object(b.a)({},lt,{writeProperty:"k1Coloring",maxIterations:10}),streamQuery:he("CALL gds.beta.k1coloring.stream($generatedName, $config) YIELD nodeId, color AS community"),storeQuery:"CALL gds.beta.k1coloring.write($generatedName, $config)",getFetchQuery:ye,description:"assigns a color to each node trying to use as few colours as possible and making sure neighbors of a node have a different color to that node.",returnsCommunities:!0},"Label Propagation":{algorithmName:"gds.labelPropagation",Form:He,parametersBuilder:we,service:je,ResultView:Me,parameters:Object(b.a)({},lt,{writeProperty:"lpa"}),streamQuery:he("CALL gds.labelPropagation.stream($generatedName, $config) YIELD nodeId, communityId AS community"),storeQuery:"CALL gds.labelPropagation.write($generatedName, $config)",getFetchQuery:ye,description:"a fast algorithm for finding communities in a graph",returnsCommunities:!0},"Connected Components":{algorithmName:"gds.wcc",Form:Ke,parametersBuilder:we,service:je,ResultView:Me,parameters:Object(b.a)({},ot,{writeProperty:"wcc",defaultValue:1}),streamQuery:he("CALL gds.wcc.stream($generatedName, $config) YIELD nodeId, componentId AS community"),storeQuery:"CALL gds.wcc.write($generatedName, $config)",getFetchQuery:ye,description:"finds sets of connected nodes in an undirected graph where each node is reachable from any other node in the same set",returnsCommunities:!0},"Strongly Connected Components":{algorithmName:"gds.alpha.scc",Form:We,parametersBuilder:we,service:je,ResultView:Me,parameters:Object(b.a)({},ot,{writeProperty:"scc",defaultValue:1}),streamQuery:he("CALL gds.alpha.scc.stream($generatedName, $config) YIELD nodeId, componentId AS community"),storeQuery:"CALL gds.alpha.scc.write($generatedName, $config)",getFetchQuery:ye,description:"finds sets of connected nodes in a directed graph where each node is reachable in both directions from any other node in the same set",returnsCommunities:!0},"Local Clustering Coefficient":{algorithmName:"gds.localClusteringCoefficient",parametersBuilder:we,ResultView:function(e){var t=e.task;return i.a.createElement(xe.a.Pane,{key:t.startTime.toLocaleString(),style:{padding:"1em 0"}},i.a.createElement(ke.a,{color:"green"},i.a.createElement(ke.a.Header,null,i.a.createElement(ke.a.Row,null,i.a.createElement(ke.a.HeaderCell,null,"Node"),i.a.createElement(ke.a.HeaderCell,null,"Coefficient"))),i.a.createElement(ke.a.Body,null,t.result?t.result&&t.result.rows.map(function(e,a){return i.a.createElement(ke.a.Row,{key:a},i.a.createElement(ke.a.Cell,null," ",i.a.createElement(na,{properties:e.properties,labels:e.labels,database:t.database})),i.a.createElement(ke.a.Cell,null,e.coefficient))}):i.a.createElement(ke.a.Row,{key:"loading-centrality-result"},i.a.createElement(ke.a.Cell,{colSpan:4},i.a.createElement(qe,null))))))},service:function(e){var t=e.streamCypher,a=e.storeCypher,n=e.fetchCypher,r=e.parameters,i=e.persisted;return je({streamCypher:t,storeCypher:a,fetchCypher:n,parameters:r,persisted:i,parseResultStreamFn:function(e){if(e.records){var t=e.records.map(function(e){var t=e.get("node"),a=t.properties,n=t.labels,r=t.identity;return{properties:se(a),identity:r.toNumber(),labels:n,coefficient:e.get("coefficient")}});return{rows:t,ids:t.map(function(e){return e.identity}),labels:Object(v.a)(new Set(t.flatMap(function(e){return e.labels})))}}throw console.error(e.error),new Error(e.error)}})},description:"describes the likelihood that the neighbours of node are also connected",Form:Je,streamQuery:it("CALL gds.localClusteringCoefficient.stream($generatedName, $config)\n          YIELD nodeId, localClusteringCoefficient AS coefficient\n          WITH gds.util.asNode(nodeId) AS node, coefficient\n          RETURN node, coefficient\n          ORDER BY coefficient DESC\n          LIMIT toInteger($limit)"),storeQuery:"CALL gds.localClusteringCoefficient.write($generatedName, $config)",parameters:Object(b.a)({},ot,{writeProperty:"coefficient"}),getFetchQuery:function(e,t,a){var n=a.nodeProjection&&"*"!==a.nodeProjection?":`"+a.nodeProjection+"`":"";return"MATCH (node".concat(n,")\nWHERE exists(node.`").concat(t.writeProperty,"`)\nRETURN node, node.`").concat(t.writeProperty,"` AS coefficient\nORDER BY coefficient DESC\nLIMIT toInteger($limit)")}},"Triangle Count":{algorithmName:"gds.triangleCount",Form:_e,service:function(e){var t=e.streamCypher,a=e.storeCypher,n=e.fetchCypher,r=e.parameters,i=e.persisted;return je({streamCypher:t,storeCypher:a,fetchCypher:n,parameters:r,persisted:i,parseResultStreamFn:function(e){if(e.records){var t=e.records.map(function(e){var t=e.get("node"),a=t.properties,n=t.labels,r=t.identity;return{properties:se(a),identity:r.toNumber(),labels:n,triangles:e.get("triangles").toNumber()}});return{rows:t,ids:t.map(function(e){return e.identity}),labels:Object(v.a)(new Set(t.flatMap(function(e){return e.labels})))}}throw console.error(e.error),new Error(e.error)}})},ResultView:function(e){var t=e.task;return i.a.createElement(xe.a.Pane,{key:t.startTime.toLocaleString(),style:{padding:"1em 0"}},i.a.createElement(ke.a,{color:"green"},i.a.createElement(ke.a.Header,null,i.a.createElement(ke.a.Row,null,i.a.createElement(ke.a.HeaderCell,null,"Node"),i.a.createElement(ke.a.HeaderCell,null,"Triangles"))),i.a.createElement(ke.a.Body,null,t.result?t.result&&t.result.rows.map(function(e,a){return i.a.createElement(ke.a.Row,{key:a},i.a.createElement(ke.a.Cell,null," ",i.a.createElement(na,{properties:e.properties,labels:e.labels,database:t.database})),i.a.createElement(ke.a.Cell,null,e.triangles))}):i.a.createElement(ke.a.Row,{key:"loading-centrality-result"},i.a.createElement(ke.a.Cell,{colSpan:4},i.a.createElement(Ye,null))))))},streamQuery:it("CALL gds.triangleCount.stream($generatedName, $config)\n          YIELD nodeId, triangleCount AS triangles\n          WITH gds.util.asNode(nodeId) AS node, triangles\n          RETURN node, triangles\n          ORDER BY triangles DESC\n          LIMIT toInteger($limit)"),storeQuery:"CALL gds.triangleCount.write($generatedName, $config)",parameters:Object(b.a)({},ot,{writeProperty:"trianglesCount"}),getFetchQuery:function(e,t,a){var n=a.nodeProjection&&"*"!==a.nodeProjection?":`"+a.nodeProjection+"`":"";return"MATCH (node".concat(n,")\nWHERE exists(node.`").concat(t.writeProperty,"`) \nRETURN node, node.`").concat(t.writeProperty,"` AS triangles\nORDER BY triangles DESC\nLIMIT toInteger($limit)")},parametersBuilder:we,description:"finds set of three nodes, where each node has a relationship to all other nodes"},Triangles:{algorithmName:"gds.alpha.triangles",Form:ze,parametersBuilder:we,service:function(e){var t=e.streamCypher,a=e.parameters;return oe(t,a,function(e){if(e.records){var t=e.records.map(function(e){var t=e.get("nodeA"),a=e.get("nodeB"),n=e.get("nodeC");return{nodeAProperties:se(t.properties),nodeALabels:t.labels,nodeAIdentity:t.identity.toNumber(),nodeBProperties:se(a.properties),nodeBLabels:a.labels,nodeBIdentity:a.identity.toNumber(),nodeCProperties:se(n.properties),nodeCLabels:n.labels,nodeCIdentity:n.identity.toNumber()}});return{rows:t,ids:Object(v.a)(new Set(t.flatMap(function(e){return[e.nodeAIdentity,e.nodeBIdentity,e.nodeCIdentity]}))),labels:Object(v.a)(new Set(t.flatMap(function(e){return e.nodeALabels.concat(e.nodeBLabels).concat(e.nodeCLabels)})))}}throw console.error(e.error),new Error(e.error)})},ResultView:function(e){var t=e.task;return i.a.createElement(xe.a.Pane,{key:t.startTime.toLocaleString(),style:{padding:"1em 0"}},i.a.createElement(ke.a,{color:"green"},i.a.createElement(ke.a.Header,null,i.a.createElement(ke.a.Row,null,i.a.createElement(ke.a.HeaderCell,null,"Node A"),i.a.createElement(ke.a.HeaderCell,null,"Node B"),i.a.createElement(ke.a.HeaderCell,null,"Node C"))),i.a.createElement(ke.a.Body,null,t.result?t.result&&t.result.rows.map(function(e,a){return i.a.createElement(ke.a.Row,{key:a},i.a.createElement(ke.a.Cell,null," ",i.a.createElement(na,{properties:e.nodeAProperties,labels:e.nodeALabels,database:t.database})),i.a.createElement(ke.a.Cell,null," ",i.a.createElement(na,{properties:e.nodeBProperties,labels:e.nodeBLabels,database:t.database})),i.a.createElement(ke.a.Cell,null," ",i.a.createElement(na,{properties:e.nodeCProperties,labels:e.nodeCLabels,database:t.database})))}):i.a.createElement(ke.a.Row,{key:"loading-centrality-result"},i.a.createElement(ke.a.Cell,{colSpan:3},i.a.createElement(Ue,null))))))},parameters:ot,storeQuery:"",getFetchQuery:function(){return""},description:"finds set of three nodes, where each node has a relationship to all other nodes",streamQuery:it("CALL gds.alpha.triangles($generatedName, $config)\n    YIELD nodeA, nodeB, nodeC\n    RETURN gds.util.asNode(nodeA) AS nodeA, gds.util.asNode(nodeB) AS nodeB, gds.util.asNode(nodeC) AS nodeC\n    LIMIT toInteger($limit)")}},ct={algorithmList:function(e){parseInt(e.split(".")[1]);return["Louvain","Modularity Optimization","Label Propagation","K1-Coloring","Connected Components","Strongly Connected Components","Triangles","Triangle Count","Local Clustering Coefficient","SLLPA"]},algorithmDefinitions:function(e,t){parseInt(t.split(".")[1]);return st[e]}},ut="".concat("SETTINGS","/SET"),mt="".concat("SETTINGS","/LIMIT"),dt="".concat("SETTINGS","/COMMUNITY_NODE_LIMIT"),pt="".concat("SETTINGS","/HIDE_PROPERTY"),ht="".concat("SETTINGS","/RESET_LABELS"),gt=function(){var e=new Set;return Object.values(ga.algorithmDefinitions).concat(Object.values(ct.algorithmDefinitions)).forEach(function(t){t.parameters.writeProperty&&e.add(t.parameters.writeProperty),t.parameters.intermediateCommunitiesWriteProperty&&e.add(t.parameters.intermediateCommunitiesWriteProperty)}),Array.from(e)},yt=function(e){return{type:mt,limit:e}},ft=function(e){return{type:dt,limit:e}},Et=a(1085),bt=a(1008),vt=a(628),Ct=a(14),wt=a.n(Ct),Ot="".concat("METADATA","/SET_METADATA"),Nt="".concat("METADATA","/SET_LABELS"),It="".concat("METADATA","/SET_RELATIONSHIPTYPES"),Pt="".concat("METADATA","/SET_PROPERTY_KEYS"),Tt="".concat("METADATA","/SET_NODE_PROPERTY_KEYS"),St="".concat("METADATA","/SET_REL_PROPERTY_KEYS"),Lt="".concat("METADATA","/SET_VERSIONS"),kt="".concat("METADATA","/SET_DATABASES"),Rt="".concat("METADATA","/SET_ACTIVE_DATABASE"),At="".concat("METADATA","/ADD_DATABASE"),jt="".concat("METADATA","/INIT_LABEL"),Dt="".concat("METADATA","/UPDATE_LABEL_COLOR"),xt="".concat("METADATA","/UPDATE_LABEL_PROPERTY_KEYS"),Ft=function(e){return{type:Nt,labels:e}},Mt=function(e){return{type:It,relationshipTypes:e}},Ht=function(e){return{type:Pt,propertyKeys:e}},Kt=function(e){return{type:Tt,nodePropertyKeys:e}},Vt=function(e){return{type:St,relPropertyKeys:e}},Wt=function(e){return{type:Lt,version:e}},Bt=function(e){return{type:kt,databases:e}},Gt=function(e){return{type:Rt,activeDatabase:e}},$t=function(e){return{type:At,database:e}},zt=function(e,t,a,n){return{type:jt,database:e,label:t,color:a,propertyKeys:n}},Ut={labels:[],relationshipTypes:[],databases:[],activeDatabase:"neo4j",allLabels:{}},Qt=function(e,t,a){var n=e[t][a];return n||{color:"#efefef",propertyKeys:[]}},Yt=Object(E.b)(function(e){return{metadata:e.metadata,globalLabels:e.metadata.allLabels}},function(e){return{updateLabelPropertyKeys:function(t,a,n){return e(function(e,t,a){return{type:xt,database:e,label:t,propertyKeys:a}}(t,a,n))}}})(function(e){var t=e.metadata,a=e.globalLabels,r=e.database,o=e.label,l=e.updateLabelPropertyKeys,s=Qt(a,r,o),c=i.a.useState(s.propertyKeys),u=Object(n.a)(c,2),m=u[0],d=u[1];return i.a.createElement("div",{key:m},i.a.createElement(bt.a,{columns:3},o in t.nodePropertyKeys&&t.nodePropertyKeys[o].map(function(e){return i.a.createElement(bt.a.Column,{key:e},i.a.createElement(W.a,{name:e,checked:m.includes(e),onChange:function(e,t){t.checked?(d([].concat(Object(v.a)(m),[t.name])),l(r,o,[].concat(Object(v.a)(m),[t.name]))):(d(m.filter(function(e){return e!==t.name})),l(r,o,m.filter(function(e){return e!==t.name})))},label:i.a.createElement("label",{title:e},e)}))})))}),_t=Object(E.b)(function(e){return{globalLabels:e.metadata.allLabels,metadata:e.metadata}},function(e){return{updateLabelColor:function(t,a,n){return e(function(e,t,a){return{type:Dt,database:e,label:t,color:a}}(t,a,n))}}})(function(e){var t=e.updateLabelColor,a=(e.metadata,e.database),r=e.open,o=e.setOpen,l=e.label,s=e.globalLabels,c=i.a.useState(!1),u=Object(n.a)(c,2),m=u[0],d=u[1],p=Qt(s,a,l),h=i.a.useState(null),g=Object(n.a)(h,2),y=g[0],f=g[1];i.a.useEffect(function(){f(p.color)},[p.color]);var E=wt()({default:{color:{width:"36px",height:"14px",borderRadius:"2px",background:"".concat(y)},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return i.a.createElement(Et.a,{open:r,onClose:function(){o(!1),d(!1)},onOpen:function(){return o(!0)},centered:!1,closeIcon:!0,size:"small"},i.a.createElement(Et.a.Header,null,"Update ",l),i.a.createElement(Et.a.Content,null,i.a.createElement("div",{key:y},i.a.createElement("div",{className:"update-node-row"},i.a.createElement("h4",null,"Color"),i.a.createElement("div",null,i.a.createElement("div",{style:E.swatch,onClick:function(){return d(!0)}},i.a.createElement("div",{style:E.color})),m?i.a.createElement("div",{style:E.popover},i.a.createElement("div",{style:E.cover,onClick:function(){return d(!1)}}),i.a.createElement(vt.a,{disableAlpha:!0,color:y,onChange:function(e){return f(e.hex)},onChangeComplete:function(e){f(e.hex),t(a,l,e.hex)}})):null)),i.a.createElement(B.a,null),i.a.createElement("div",{className:"update-node-row"},i.a.createElement("h4",null,"Caption"),i.a.createElement(Yt,{database:a,label:l})))))}),qt=a(859),Jt=function(e){return qt({count:10,hue:e,luminosity:"light"})},Xt=Jt("green").concat(Jt("blue")).concat(Jt("orange")).concat(Jt("red")).concat(Jt("yellow")),Zt=function(e,t,a){var r=Object(n.a)(t,1)[0];return e.background=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return a.reduce(function(e,t){return e&&e[t]},e)}(a,r,"color")||"#efefef",e},ea=Object(E.b)(function(e){return{globalLabels:e.metadata.allLabels,metadata:e.metadata}})(function(e){var t=e.labels,a=e.database,r=e.globalLabels,o=e.caption,l=e.readOnly,s=i.a.useState(!1),c=Object(n.a)(s,2),u=c[0],m=c[1],d=Object(n.a)(t,1)[0],p=r[a];return l?i.a.createElement("span",{title:t,style:Zt({maxWidth:"40em",overflow:"hidden"},t,p),className:"label"},o):i.a.createElement("div",{key:r&&Qt(r,a,d).color},i.a.createElement("span",{title:"Edit "+d,onClick:function(){return m(!u)},key:o,style:Zt({maxWidth:"40em",overflow:"hidden",cursor:"pointer"},t,p),className:"label"},o),i.a.createElement(_t,{database:a,open:u,setOpen:m,label:d}))}),ta=function(e,t,a){var r=Object(n.a)(t,1)[0];return e.background=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return a.reduce(function(e,t){return e&&e[t]},e)}(a,r,"color")||"#efefef",e},aa=Object(E.b)(function(e){return{globalLabels:e.metadata.allLabels,metadata:e.metadata}})(function(e){var t=e.labels,a=e.database,n=e.globalLabels,r=e.caption,o=e.similarity,l=n[a];return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{title:t,style:ta({maxWidth:"40em",overflow:"hidden"},t,l),className:"label left"},r),i.a.createElement("span",{className:"label right",style:{maxWidth:"40em",overflow:"hidden",background:"#EFEFEF"}},o))}),na=Object(E.b)(function(e){return{hiddenProperties:e.settings.hiddenProperties,globalLabels:e.metadata.allLabels}},function(e){return{hideProp:function(t,a){return e(function(e,t){return{type:pt,labels:e,key:t}}(t,a))},resetLabelsProperties:function(t){return e(function(e){return{type:ht,labels:e}}(t))}}})(function(e){var t=e.labels,a=e.globalLabels,r=e.properties,o=e.database,l=e.similarity,s=Object(n.a)(t,1)[0];if(s){var c=a[o][s].propertyKeys,u=Object.keys(r).filter(function(e){return c.includes(e)}).map(function(e){return r[e].toString()}).join(", ");return l?i.a.createElement(aa,{labels:t,caption:u,database:o,similarity:l}):i.a.createElement(ea,{labels:t,caption:u,database:o,readOnly:!0})}return null}),ra=function(){return i.a.createElement(p.a,{active:!0,inline:"centered"},"Algorithm running")},ia=function(e){var t=e.task;return i.a.createElement("div",null,i.a.createElement(ke.a,{color:"green"},i.a.createElement(ke.a.Header,null,i.a.createElement(ke.a.Row,null,i.a.createElement(ke.a.HeaderCell,null,"Node"),i.a.createElement(ke.a.HeaderCell,{style:{textAlign:"right"}},"Score"))),i.a.createElement(ke.a.Body,null,t.result?t.result&&t.result.rows.map(function(e,a){return i.a.createElement(ke.a.Row,{key:a},i.a.createElement(ke.a.Cell,null," ",i.a.createElement(na,{properties:e.properties,labels:e.labels,database:t.database})),i.a.createElement(ke.a.Cell,{style:{textAlign:"right"}},e.score))}):i.a.createElement(ke.a.Row,{key:"loading-centrality-result"},i.a.createElement(ke.a.Cell,{colSpan:3},i.a.createElement(ra,null))))))},oa=function(e){var t=e.label,a=e.readOnly,n=e.onChange,r=e.labelOptions,o=e.relationshipType,l=e.relationshipTypeOptions,s=e.writeProperty,c=e.direction,u=e.persist,m=(e.maxDepth,e.relationshipOrientationOptions),d=e.children;return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(Se,{label:t,readOnly:a,onChange:n,direction:c,relationshipType:o,writeProperty:s,persist:u,labelOptions:r,relationshipOrientationOptions:m,relationshipTypeOptions:l},d))},la=function(e){var t=e.samplingSize,a=e.onChange,n=e.readOnly;return i.a.createElement(M,{title:"Algorithm Parameters"},i.a.createElement(A.a.Field,{disabled:n,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Sampling size"),control:j.a,type:"number",value:t,onChange:function(e){return a("samplingSize",e.target.value)},min:1,step:1}))},sa=function(){return i.a.createElement(p.a,{active:!0,inline:"centered"},"Algorithm running")},ca=function(e){var t=e.hitsIterations,a=e.onChange,n=e.readOnly;return i.a.createElement(M,{title:"Algorithm Parameters"},i.a.createElement(A.a.Field,{disabled:n,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Iterations"),control:j.a,type:"number",value:t,onChange:function(e,t){return a("hitsIterations",t.value)},min:1,max:50,step:1}))},ua=function(e){var t=e.maxIterations,a=e.onChange,n=e.readOnly;return i.a.createElement(M,{title:"Algorithm Parameters"},i.a.createElement(A.a.Field,{disabled:n,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Iterations"),control:j.a,type:"number",value:t,onChange:function(e,t){return a("maxIterations",t.value)},min:1,max:50,step:1}))},ma=function(e){var t=e.readOnly,a=e.label,n=e.relationshipType,r=e.labelOptions,o=e.relationshipTypeOptions,l=e.relationshipOrientationOptions,s=e.relPropertyKeyOptions,c=e.propertyKeyOptions,u=e.writeProperty,m=e.onChange,d=e.maxIterations,p=e.weightProperty,h=e.defaultValue,g=e.direction,y=e.persist,f=e.children,E={label:a,labelOptions:r,relationshipType:n,direction:g,relationshipTypeOptions:o,relationshipOrientationOptions:l,propertyKeyOptions:c,weightProperty:p,defaultValue:h,onChange:m,readOnly:t,relPropertyKeyOptions:s};return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(K,E),i.a.createElement(ua,{maxIterations:d,onChange:m,readOnly:t}),i.a.createElement(G,{persist:y,onChange:m,writeProperty:u,readOnly:t}," ",f," "))},da={label:"*",relationshipType:"*",persist:!1,direction:"Natural"},pa={HITS:{algorithmName:"gds.alpha.hits.stream",Form:function(e){var t=e.readOnly,a=e.label,n=e.relationshipType,r=e.labelOptions,o=e.relationshipTypeOptions,l=e.relationshipOrientationOptions,s=e.propertyKeyOptions,c=e.writeProperty,u=e.onChange,m=e.hitsIterations,d=e.weightProperty,p=e.defaultValue,h=e.direction,g=e.persist,y=e.relPropertyKeyOptions,f=e.children,E={label:a,labelOptions:r,relationshipType:n,direction:h,relationshipTypeOptions:o,relationshipOrientationOptions:l,propertyKeyOptions:s,weightProperty:d,defaultValue:p,onChange:u,readOnly:t,relPropertyKeyOptions:y};return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(K,E),i.a.createElement(ca,{hitsIterations:m,onChange:u,readOnly:t}),i.a.createElement(G,{persist:g,onChange:u,writeProperty:c,readOnly:t}," ",f," "))},service:function(e){var t=e.streamCypher,a=e.storeCypher,n=e.fetchCypher,r=e.parameters;return e.persisted?le(a,n,r,me):oe(t,r,me)},ResultView:function(e){var t=e.task;return i.a.createElement("div",null,i.a.createElement(ke.a,{color:"green"},i.a.createElement(ke.a.Header,null,i.a.createElement(ke.a.Row,null,i.a.createElement(ke.a.HeaderCell,null,"Node"),i.a.createElement(ke.a.HeaderCell,{style:{textAlign:"right"}},"Authority Score"),i.a.createElement(ke.a.HeaderCell,{style:{textAlign:"right"}},"Hub Score"))),i.a.createElement(ke.a.Body,null,t.result?t.result&&t.result.rows.map(function(e,a){return i.a.createElement(ke.a.Row,{key:a},i.a.createElement(ke.a.Cell,null,i.a.createElement(na,{properties:e.properties,labels:e.labels,database:t.database})),i.a.createElement(ke.a.Cell,{style:{textAlign:"right"}},e.authScore),i.a.createElement(ke.a.Cell,{style:{textAlign:"right"}},e.hubScore))}):i.a.createElement(ke.a.Row,{key:"loading-centrality-result"},i.a.createElement(ke.a.Cell,{colSpan:3},i.a.createElement(sa,null))))))},parameters:Object(b.a)({},da,{writeProperty:"pregel_",hitsIterations:20,defaultValue:1,relationshipWeightProperty:null}),parametersBuilder:Oe,streamQuery:"CALL gds.alpha.hits.stream($generatedName, $config) YIELD nodeId, values\nWITH gds.util.asNode(nodeId) AS node, values.auth AS authScore, values.hub AS hubScore\nRETURN node, authScore, hubScore\nORDER BY authScore DESC\nLIMIT toInteger($limit)",storeQuery:"CALL gds.alpha.hits.write($generatedName, $config)",getFetchQuery:function(e,t,a){var n=a.nodeProjection&&"*"!==a.nodeProjection?":`"+a.nodeProjection+"`":"";return"MATCH (node".concat(n,")\nWHERE exists(node.`").concat(t.writeProperty,"auth`) AND exists(node.`").concat(t.writeProperty,"hub`)\nRETURN node, node.`").concat(t.writeProperty,"auth` AS authScore, node.`").concat(t.writeProperty,"hub` AS hubScore\nORDER BY authScore DESC\nLIMIT toInteger($limit)")},description:"link analysis algorithm that rates nodes based on two scores, a hub score and an authority score."},"Page Rank":{algorithmName:"gds.pageRank",Form:z,service:ce,ResultView:ia,parameters:Object(b.a)({},da,{writeProperty:"pagerank",dampingFactor:.85,maxIterations:20,defaultValue:1,relationshipWeightProperty:null}),parametersBuilder:Oe,streamQuery:pe("CALL gds.pageRank.stream($generatedName, $config) YIELD nodeId, score"),storeQuery:"CALL gds.pageRank.write($generatedName, $config)",getFetchQuery:ge,description:i.a.createElement("div",null,"Measures the ",i.a.createElement("strong",null,"transitive")," influence or connectivity of nodes")},Harmonic:{algorithmName:"gds.alpha.harmonic",Form:oa,service:ce,ResultView:ia,parameters:Object(b.a)({},da,{writeProperty:"harmonic"}),parametersBuilder:Oe,streamQuery:pe("CALL gds.alpha.harmonic.stream($config) YIELD nodeId, centrality AS score"),storeQuery:"CALL gds.alpha.harmonic.stream($config)",getFetchQuery:ge,description:"a variant of closeness centrality, that was invented to solve the problem the original\n-                  formula had when dealing with unconnected graphs."},Degree:{algorithmName:"gds.degree",Form:Le,service:ce,ResultView:ia,parameters:Object(b.a)({},da,{direction:"Reverse",writeProperty:"degree",defaultValue:1,relationshipWeightProperty:null}),parametersBuilder:Oe,getFetchQuery:ge,streamQuery:pe("CALL gds.degree.stream($generatedName, $config) YIELD nodeId, score"),storeQuery:"CALL gds.degree.write($generatedName, $config)",description:"detects the number of direct connections a node has"},Eigenvector:{algorithmName:"gds.eigenvector",Form:ma,service:ce,ResultView:ia,parameters:Object(b.a)({},da,{writeProperty:"eigenvector",maxIterations:20,defaultValue:1}),parametersBuilder:Oe,getFetchQuery:ge,description:i.a.createElement("div",null,"Measures the ",i.a.createElement("strong",null,"transitive")," influence or connectivity of nodes"),streamQuery:pe("CALL gds.eigenvector.stream($generatedName, $config) YIELD nodeId, score"),storeQuery:"CALL gds.eigenvector.write($generatedName, $config)"},"Article Rank":{algorithmName:"gds.articleRank",Form:z,service:ce,ResultView:ia,parameters:Object(b.a)({},da,{writeProperty:"articlerank",dampingFactor:.85,maxIterations:20,defaultValue:1,relationshipWeightProperty:null}),parametersBuilder:Oe,getFetchQuery:ge,description:"a variant of the PageRank algorithm",streamQuery:pe("CALL gds.articleRank.stream($generatedName, $config) YIELD nodeId, score"),storeQuery:"CALL gds.articleRank.write($generatedName, $config)"},Betweenness:{algorithmName:"gds.betweenness",Form:function(e){var t=e.readOnly,a=e.label,n=e.onChange,r=e.labelOptions,o=e.relationshipType,l=e.relationshipTypeOptions,s=e.writeProperty,c=e.direction,u=e.persist,m=(e.maxDepth,e.relationshipOrientationOptions),d=e.children;return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(Se,{label:a,readOnly:t,onChange:n,direction:c,relationshipType:o,persist:u,writeProperty:s,labelOptions:r,relationshipOrientationOptions:m,relationshipTypeOptions:l},d))},service:ce,ResultView:ia,parameters:Object(b.a)({},da,{writeProperty:"betweenness"}),parametersBuilder:Oe,getFetchQuery:ge,description:"a way of detecting the amount of influence a node has over the flow of information in a graph",streamQuery:pe("CALL gds.betweenness.stream($generatedName, $config) YIELD nodeId, score"),storeQuery:"CALL gds.betweenness.write($generatedName, $config)"},"Approx Betweenness":{algorithmName:"gds.betweenness",service:ce,ResultView:ia,parametersBuilder:Oe,getFetchQuery:ge,description:"calculates shortest paths between a subset of nodes, unlike Betweenness which considers all pairs of nodes",Form:function(e){var t=e.readOnly,a=e.onChange,n=e.labelOptions,r=e.relationshipTypeOptions,o=e.relationshipOrientationOptions,l=e.label,s=e.relationshipType,c=e.writeProperty,u=e.direction,m=e.persist,d=(e.maxDepth,e.strategy,e.probability,e.samplingSize),p=e.children,h={label:l,labelOptions:n,relationshipType:s,direction:u,relationshipTypeOptions:r,relationshipOrientationOptions:o,onChange:a,readOnly:t};return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(V,h),i.a.createElement(la,{samplingSize:d,onChange:a,readOnly:t}),i.a.createElement(G,{persist:m,onChange:a,writeProperty:c,readOnly:t},p))},parameters:Object(b.a)({},da,{samplingSize:100,writeProperty:"approxBetweenness"}),streamQuery:pe("CALL gds.betweenness.stream($generatedName, $config) YIELD nodeId, score"),storeQuery:"CALL gds.betweenness.write($generatedName, $config)"}},ha={algorithmName:"gds.beta.closeness",Form:oa,service:ce,ResultView:ia,parameters:Object(b.a)({},da,{writeProperty:"closeness"}),parametersBuilder:Oe,streamQuery:pe("CALL gds.beta.closeness.stream($generatedName, $config) YIELD nodeId, score"),storeQuery:"CALL gds.beta.closeness.write($generatedName, $config)",getFetchQuery:ge,description:"detect nodes that are able to spread information very efficiently through a graph"},ga={algorithmList:function(e){parseInt(e.split(".")[0]),parseInt(e.split(".")[1]);return["Degree","Eigenvector","Page Rank","Article Rank","Betweenness","Approx Betweenness","Closeness","HITS"]},algorithmDefinitions:function(e,t){var a=parseInt(t.split(".")[0]);parseInt(t.split(".")[1]);switch(e){case"Closeness":return 1==a&&(ha.streamQuery=pe("CALL gds.alpha.closeness.stream($generatedName, $config) YIELD nodeId, score"),ha.storeQuery="CALL gds.alpha.closeness.write($generatedName, $config)",ha.algorithmName="gds.alpha.closeness"),ha;default:return pa[e]}}},ya=function(e){var t=e.streamCypher,a=e.storeCypher,n=e.fetchCypher,r=e.parameters,i=e.persisted,o=e.parseResultStreamFn,l=void 0===o?fa:o;return i?le(a,n,r,l):oe(t,r,l)},fa=function(e){if(e.records){var t=e.records.map(function(e){var t=e.get("node"),a=t.properties,n=t.labels,r=t.identity,i=e.has("embedding")?e.get("embedding"):null;return{properties:se(a),identity:r.toNumber(),labels:n,embedding:i?i.map(function(e){return parseFloat(e)}):null}});return{rows:t,ids:t.map(function(e){return e.identity}),labels:Object(v.a)(new Set(t.flatMap(function(e){return e.labels})))}}throw console.error(e.error),new Error(e.error)},Ea=function(){return i.a.createElement(p.a,{size:"big",active:!0,inline:"centered"},"Algorithm running")},ba=function(e){var t=e.task;return i.a.createElement(xe.a.Pane,{key:t.startTime.toLocaleString(),style:{padding:"1em 0"}},i.a.createElement(ke.a,{color:"green"},i.a.createElement(ke.a.Header,null,i.a.createElement(ke.a.Row,null,i.a.createElement(ke.a.HeaderCell,null,"Node"),i.a.createElement(ke.a.HeaderCell,null,"Embedding"))),i.a.createElement(ke.a.Body,null,t.result?t.result&&t.result.rows.map(function(e,a){return i.a.createElement(ke.a.Row,{key:a},i.a.createElement(ke.a.Cell,null," ",i.a.createElement(na,{properties:e.properties,labels:e.labels,database:t.database})),i.a.createElement(ke.a.Cell,null,e.embedding?e.embedding.join(", "):null))}):i.a.createElement(ke.a.Row,{key:"loading-centrality-result"},i.a.createElement(ke.a.Cell,{colSpan:4},i.a.createElement(Ea,null))))))},va=function(e){var t=e.iterations,a=e.embeddingDimension,n=e.walkLength,r=e.inOutFactor,o=e.returnFactor,l=e.onChange,s=e.readOnly,c=e.windowSize;return i.a.createElement(M,{title:"Algorithm Parameters"},i.a.createElement(A.a.Field,{disabled:s,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Iterations"),control:j.a,type:"number",value:t,onChange:function(e,t){return l("iterations",t.value)},min:1,max:50,step:1}),i.a.createElement(A.a.Field,{disabled:s,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Embedding Dimension"),control:j.a,type:"number",value:a,onChange:function(e,t){return l("embeddingDimension",t.value)},min:1,max:500,step:1}),i.a.createElement(A.a.Field,{disabled:s,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Walk Length"),control:j.a,type:"number",value:n,onChange:function(e,t){return l("walkLength",t.value)},min:1,max:500,step:1}),i.a.createElement(A.a.Field,{disabled:s,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"In Out Factor"),control:j.a,type:"number",value:r,step:.01,onChange:function(e,t){return l("inOutFactor",t.value)}}),i.a.createElement(A.a.Field,{disabled:s,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Return Factor"),control:j.a,type:"number",value:o,step:.01,onChange:function(e,t){return l("returnFactor",t.value)}}),i.a.createElement(A.a.Field,{disabled:s,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Window Size"),control:j.a,type:"number",value:c,step:1,onChange:function(e,t){return l("windowSize",t.value)}}))},Ca=function(e){var t=e.readOnly,a=e.label,n=e.relationshipType,r=e.labelOptions,o=e.relationshipTypeOptions,l=e.relationshipOrientationOptions,s=e.propertyKeyOptions,c=e.writeProperty,u=e.onChange,m=e.weightProperty,d=e.defaultValue,p=e.direction,h=e.persist,g=e.children,y=e.iterations,f=e.embeddingDimension,E=e.walkLength,b=e.inOutFactor,v=e.returnFactor,C=e.windowSize,w={label:a,labelOptions:r,relationshipType:n,direction:p,relationshipTypeOptions:o,relationshipOrientationOptions:l,propertyKeyOptions:s,weightProperty:m,defaultValue:d,onChange:u,readOnly:t,relPropertyKeyOptions:e.relPropertyKeyOptions};return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(K,w),i.a.createElement(va,{iterations:y,onChange:u,embeddingDimension:f,readOnly:t,walkLength:E,inOutFactor:b,returnFactor:v,windowSize:C}),i.a.createElement(G,{persist:h,onChange:u,writeProperty:c,readOnly:t}," ",g," "))},wa=function(e){var t=e.embeddingDimension,a=e.normalizationStrength,n=e.onChange,r=e.readOnly;return i.a.createElement(M,{title:"Algorithm Parameters"},i.a.createElement(A.a.Field,{disabled:r,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Embedding Dimension"),control:j.a,type:"number",value:t,onChange:function(e,t){return n("embeddingDimension",t.value)},min:1,max:500,step:1}),i.a.createElement(A.a.Field,{disabled:r,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Normalization Strength"),control:j.a,type:"number",value:a,step:.01,onChange:function(e,t){return n("normalizationStrength",t.value)}}))},Oa=function(e){var t=e.readOnly,a=e.label,n=e.relationshipType,r=e.labelOptions,o=e.relationshipTypeOptions,l=e.relationshipOrientationOptions,s=e.propertyKeyOptions,c=e.writeProperty,u=e.onChange,m=e.weightProperty,d=e.defaultValue,p=e.direction,h=e.persist,g=e.children,y=e.embeddingDimension,f=e.normalizationStrength,E={label:a,labelOptions:r,relationshipType:n,direction:p,relationshipTypeOptions:o,relationshipOrientationOptions:l,propertyKeyOptions:s,weightProperty:m,defaultValue:d,onChange:u,readOnly:t,relPropertyKeyOptions:e.relPropertyKeyOptions};return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(K,E),i.a.createElement(wa,{normalizationStrength:f,onChange:u,embeddingDimension:y,readOnly:t}),i.a.createElement(G,{persist:h,onChange:u,writeProperty:c,readOnly:t}," ",g," "))},Na=Object(b.a)({},{label:"*",relationshipType:"*",persist:!1,direction:"Undirected"},{defaultValue:1,relationshipWeightProperty:null}),Ia={Node2Vec:{algorithmName:"gds.beta.node2vec",Form:Ca,parametersBuilder:Ne,service:ya,ResultView:ba,parameters:Object(b.a)({},Na,{writeProperty:"node2Vec",embeddingDimension:10,iterations:1,walkLength:80,inOutFactor:1,returnFactor:1,windowSize:10}),streamQuery:"CALL gds.beta.node2vec.stream($generatedName, $config)\nYIELD nodeId, embedding\nRETURN gds.util.asNode(nodeId) AS node, embedding\nLIMIT toInteger($limit)",storeQuery:"CALL gds.beta.node2vec.write($generatedName, $config)",getFetchQuery:function(e,t){var a=t.nodeProjection&&"*"!==t.nodeProjection?":`"+t.nodeProjection+"`":"";return"MATCH (node".concat(a,")\nWHERE exists(node.`").concat(t.writeProperty,"`)\nWITH node, node.`").concat(t.writeProperty,'` AS embedding\nWITH node, CASE WHEN apoc.meta.type(embedding) = "float[]" THEN embedding ELSE null END as embedding\nRETURN node, embedding\nLIMIT toInteger($limit)')},description:"computes a vector representation of a node based on random walks in the graph"},FastRP:{algorithmName:"gds.fastRP",Form:Oa,parametersBuilder:Ne,service:ya,ResultView:ba,parameters:Object(b.a)({},Na,{writeProperty:"fastrp",embeddingDimension:10,normalizationStrength:0}),streamQuery:"CALL gds.fastRP.stream($generatedName, $config)\nYIELD nodeId, embedding\nRETURN gds.util.asNode(nodeId) AS node, embedding\nLIMIT toInteger($limit)",storeQuery:"CALL gds.fastRP.write($generatedName, $config)",getFetchQuery:function(e,t){var a=t.nodeProjection&&"*"!==t.nodeProjection?":`"+t.nodeProjection+"`":"";return"MATCH (node".concat(a,")\nWHERE exists(node.`").concat(t.writeProperty,"`)\nWITH node, node.`").concat(t.writeProperty,'` AS embedding\nWITH node, CASE WHEN apoc.meta.type(embedding) = "float[]" THEN embedding ELSE null END as embedding\nRETURN node, embedding\nLIMIT toInteger($limit)')},description:"an inductive algorithm for computing node embeddings"}},Pa={algorithmList:function(e){parseInt(e.split(".")[1]);return["Node2Vec","FastRP"]},algorithmDefinitions:function(e,t){parseInt(t.split(".")[1]);return Ia[e]}},Ta=function(e){var t=e.streamCypher,a=e.parameters,n=e.parseResultStreamFn;return oe(t,a,void 0===n?Sa:n)},Sa=function(e){if(e.records){var t=e.records.map(function(e){var t=e.get("node"),a=t.properties,n=t.labels,r=t.identity;return{properties:se(a),identity:r.toNumber(),labels:n,cost:e.get("cost")}});return{rows:t,ids:t.map(function(e){return e.identity}),labels:Object(v.a)(new Set(t.flatMap(function(e){return e.labels})))}}throw console.error(e.error),new Error(e.error)},La=function(){return i.a.createElement(p.a,{active:!0,inline:"centered"},"Algorithm running")},ka=function(e){var t=e.task;return i.a.createElement(ke.a,{color:"green"},i.a.createElement(ke.a.Header,null,i.a.createElement(ke.a.Row,null,i.a.createElement(ke.a.HeaderCell,null,"Node"),i.a.createElement(ke.a.HeaderCell,null,"Cost"))),i.a.createElement(ke.a.Body,null,t.result?t.result&&t.result.rows.length>0?t.result.rows.map(function(e,a){return i.a.createElement(ke.a.Row,{key:a},i.a.createElement(ke.a.Cell,null," ",i.a.createElement(na,{properties:e.properties,labels:e.labels,database:t.database})),i.a.createElement(ke.a.Cell,null,e.cost))}):i.a.createElement(ke.a.Row,{key:"no-results"},i.a.createElement(ke.a.Cell,{colspan:2},"No results found")):i.a.createElement(ke.a.Row,{key:"loading-centrality-result"},i.a.createElement(ke.a.Cell,{colSpan:2},i.a.createElement(La,null)))))},Ra=a(1095),Aa=function(e){var t=e.startNode,a=e.endNode,n=e.onChange,r=e.readOnly;return i.a.createElement(M,{title:"Algorithm Parameters"},i.a.createElement(A.a.Group,{inline:!0,className:r?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Start Node"),i.a.createElement(A.a.Field,null,i.a.createElement(Ra.a,{size:"tiny",trigger:i.a.createElement(j.a,{basic:"true",value:t,placeholder:"Start Node",onChange:function(e){return n("startNode",e.target.value)}}),content:"Populate this field with the value of any property on any node"}))),i.a.createElement(A.a.Group,{inline:!0,className:r?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"End Node"),i.a.createElement(A.a.Field,{inline:!0},i.a.createElement(Ra.a,{size:"tiny",trigger:i.a.createElement(j.a,{basic:"true",value:a,placeholder:"End Node",onChange:function(e){return n("endNode",e.target.value)}}),content:"Populate this field with the value of any property on any node"}))))},ja=function(e){var t=e.children,a=e.readOnly,n=e.onChange,r=e.labelOptions,o=e.label,l=e.relationshipType,s=e.relationshipTypeOptions,c=e.propertyKeyOptions,u=e.relPropertyKeyOptions,m=e.relationshipOrientationOptions,d=e.startNode,p=e.endNode,h=e.weightProperty,g=e.defaultValue,y=e.direction,f=(e.persist,{label:o,labelOptions:r,relationshipType:l,direction:y,relationshipTypeOptions:s,relationshipOrientationOptions:m,propertyKeyOptions:c,weightProperty:h,defaultValue:g,onChange:n,readOnly:a,relPropertyKeyOptions:u});return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(K,f),i.a.createElement(Aa,{startNode:d,endNode:p,onChange:n,readOnly:a}),i.a.createElement(Ge,null,t))},Da=function(e){var t=e.onChange,a=e.startNode,n=e.endNode,r=e.latitudeProperty,o=e.longitudeProperty,l=e.readOnly,s=e.propertyKeyOptions;return i.a.createElement(M,{title:"Algorithm Parameters"},i.a.createElement(A.a.Group,{inline:!0,className:l?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Start Node"),i.a.createElement(A.a.Field,{inline:!0},i.a.createElement(Ra.a,{size:"tiny",trigger:i.a.createElement(j.a,{basic:"true",value:a,placeholder:"Start Node",onChange:function(e){return t("startNode",e.target.value)}}),content:"Populate this field with the value of any property on any node"}))),i.a.createElement(A.a.Group,{inline:!0,className:l?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"End Node"),i.a.createElement(A.a.Field,{inline:!0},i.a.createElement(Ra.a,{size:"tiny",trigger:i.a.createElement(j.a,{basic:"true",value:n,placeholder:"End Node",onChange:function(e){return t("endNode",e.target.value)}}),content:"Populate this field with the value of any property on any node"}))),i.a.createElement(A.a.Field,{inline:!0,className:l?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Latitude Property"),i.a.createElement(D.a,{disabled:l,placeholder:"Weight Property",value:r,search:!0,selection:!0,options:s,onChange:function(e,a){return t("latitudeProperty",a.value)}})),i.a.createElement(A.a.Field,{inline:!0,className:l?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Longitude Property"),i.a.createElement(D.a,{disabled:l,placeholder:"Weight Property",value:o,search:!0,selection:!0,options:s,onChange:function(e,a){return t("longitudeProperty",a.value)}})))},xa=function(e){var t=e.children,a=e.readOnly,n=e.onChange,r=e.relationshipType,o=e.labelOptions,l=e.label,s=e.propertyKeyOptions,c=e.relationshipTypeOptions,u=e.relPropertyKeyOptions,m=e.relationshipOrientationOptions,d=e.startNode,p=e.endNode,h=e.weightProperty,g=e.defaultValue,y=e.latitudeProperty,f=e.longitudeProperty,E=e.direction,b=(e.persist,{label:l,labelOptions:o,relationshipType:r,direction:E,relationshipTypeOptions:c,relationshipOrientationOptions:m,propertyKeyOptions:s,weightProperty:h,defaultValue:g,onChange:n,readOnly:a,relPropertyKeyOptions:u});return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(K,b),i.a.createElement(Da,{onChange:n,startNode:d,endNode:p,latitudeProperty:y,longitudeProperty:f,readOnly:a,propertyKeyOptions:s}),i.a.createElement(Ge,null,t))},Fa=function(e){var t=e.onChange,a=e.startNode,n=e.readOnly;return i.a.createElement(M,{title:"Algorithm Parameters"},i.a.createElement(A.a.Group,{inline:!0,className:n?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Start Node"),i.a.createElement(A.a.Field,{inline:!0},i.a.createElement(Ra.a,{size:"tiny",trigger:i.a.createElement(j.a,{basic:"true",value:a,placeholder:"Start Node",onChange:function(e){return t("startNode",e.target.value)}}),content:"Populate this field with the value of any property on any node"}))))},Ma=function(e){var t=e.children,a=e.onChange,n=e.readOnly,r=e.relationshipType,o=e.label,l=e.relationshipOrientationOptions,s=e.propertyKeyOptions,c=e.labelOptions,u=e.relationshipTypeOptions,m=e.startNode,d=e.weightProperty,p=e.defaultValue,h=e.direction,g=(e.persist,{label:o,labelOptions:c,relationshipType:r,direction:h,relationshipTypeOptions:u,relationshipOrientationOptions:l,propertyKeyOptions:s,weightProperty:d,defaultValue:p,onChange:a,readOnly:n,relPropertyKeyOptions:e.relPropertyKeyOptions});return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(K,g),i.a.createElement(Fa,{startNode:m,onChange:a,readOnly:n}),i.a.createElement(Ge,null,t))},Ha=function(){return i.a.createElement(p.a,{active:!0,inline:"centered"},"Algorithm running")},Ka={label:"*",relationshipType:"*",persist:!1,direction:"Undirected",defaultValue:1,relationshipWeightProperty:"weight"},Va={"All Pairs Shortest Path":{Form:function(e){var t=e.onChange,a=e.readOnly,n=e.labelOptions,r=e.relationshipType,o=e.label,l=e.propertyKeyOptions,s=e.relPropertyKeyOptions,c=e.relationshipOrientationOptions,u=e.relationshipTypeOptions,m=e.weightProperty,d=e.defaultValue,p=e.direction,h=e.children,g={label:o,labelOptions:n,relationshipType:r,direction:p,relationshipTypeOptions:u,relationshipOrientationOptions:c,propertyKeyOptions:l,weightProperty:m,defaultValue:d,onChange:t,readOnly:a,relPropertyKeyOptions:s};return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(K,g),i.a.createElement(Ge,null,h))},parametersBuilder:Ee,service:function(e){var t=e.streamCypher,a=e.parameters;return Ta({streamCypher:t,parameters:a,parseResultStreamFn:function(e){if(e.records){var t=e.records.map(function(e){var t=e.get("source"),a=e.get("target");return{sourceProperties:se(t.properties),sourceLabels:t.labels,sourceIdentity:t.identity.toNumber(),targetProperties:se(a.properties),targetLabels:a.labels,targetIdentity:a.identity.toNumber(),cost:e.get("cost")}});return{rows:t,ids:Object(v.a)(new Set(t.flatMap(function(e){return[e.sourceIdentity,e.targetIdentity]}))),labels:Object(v.a)(new Set(t.flatMap(function(e){return e.sourceLabels.concat(e.targetLabels)})))}}throw console.error(e.error),new Error(e.error)}})},ResultView:function(e){var t=e.task;return i.a.createElement(ke.a,{color:"green"},i.a.createElement(ke.a.Header,null,i.a.createElement(ke.a.Row,null,i.a.createElement(ke.a.HeaderCell,null,"Source Labels"),i.a.createElement(ke.a.HeaderCell,null,"Source Properties"),i.a.createElement(ke.a.HeaderCell,null,"Target Labels"),i.a.createElement(ke.a.HeaderCell,null,"Target Properties"),i.a.createElement(ke.a.HeaderCell,null,"Cost"))),i.a.createElement(ke.a.Body,null,t.result?t.result&&t.result.rows.length>0?t.result.rows.map(function(e,a){return i.a.createElement(ke.a.Row,{key:a},i.a.createElement(ke.a.Cell,null,e.sourceLabels.join(", ")),i.a.createElement(ke.a.Cell,null," ",i.a.createElement(na,{properties:e.sourceProperties,labels:e.sourceLabels,database:t.database})),i.a.createElement(ke.a.Cell,null,e.targetLabels.join(", ")),i.a.createElement(ke.a.Cell,null," ",i.a.createElement(na,{properties:e.targetProperties,labels:e.targetLabels,database:t.database})),i.a.createElement(ke.a.Cell,null,e.cost))}):i.a.createElement(ke.a.Row,{key:"no-results"},i.a.createElement(ke.a.Cell,{colspan:3},"No results found")):i.a.createElement(ke.a.Row,{key:"loading-centrality-result"},i.a.createElement(ke.a.Cell,{colSpan:5},i.a.createElement(Ha,null)))))},parameters:Object(b.a)({},Ka,{nodeQuery:null,relationshipQuery:null}),streamQuery:"CALL gds.alpha.allShortestPaths.stream($generatedName, $config)\nYIELD sourceNodeId, targetNodeId, distance AS cost\nRETURN gds.util.asNode(sourceNodeId) AS source, gds.util.asNode(targetNodeId) AS target, cost\nLIMIT toInteger($limit)",storeQuery:"",getFetchQuery:function(){return""},description:"The All Pairs Shortest Path (APSP) calculates the shortest (weighted) path between all pairs of nodes."},"Shortest Path":{Form:ja,parametersBuilder:Ee,service:Ta,ResultView:ka,parameters:Object(b.a)({},Ka,{nodeQuery:null,relationshipQuery:null}),streamQuery:"CALL db.propertyKeys() YIELD propertyKey MATCH (start) WHERE start[propertyKey] contains $startNode\nWITH start\nLIMIT 1\nCALL db.propertyKeys() YIELD propertyKey MATCH (end) WHERE end[propertyKey] contains $endNode\nWITH start, end\nLIMIT 1\nWITH $config AS config, start, end\nWITH config { .*, sourceNode: id(start), targetNode: id(end)} as config\nCALL gds.shortestPath.dijkstra.stream($generatedName, config)\nYIELD nodeIds, costs\nUNWIND range(0, size(nodeIds)-1) AS index\nRETURN gds.util.asNode(nodeIds[index]) AS node, costs[index] AS cost",namedGraphStreamQuery:"CALL db.propertyKeys() YIELD propertyKey MATCH (start) WHERE start[propertyKey] contains $startNode\nWITH start\nLIMIT 1\nCALL db.propertyKeys() YIELD propertyKey MATCH (end) WHERE end[propertyKey] contains $endNode\nWITH start, end\nLIMIT 1\nCALL gds.shortestPath.dijkstra.stream($generatedName, {sourceNode: start, targetNode: end})\nYIELD nodeIds, costs\nUNWIND range(0, size(nodeIds)-1) AS index\nRETURN gds.util.asNode(nodeIds[index]) AS node, costs[index] AS cost",storeQuery:"",getFetchQuery:function(){return""},description:"The Shortest Path algorithm calculates the shortest (weighted) path between a pair of nodes. "},"A*":{Form:xa,parametersBuilder:fe,service:Ta,ResultView:ka,parameters:Object(b.a)({},Ka,{nodeQuery:null,relationshipQuery:null,writeProperty:"astar",latitudeProperty:"latitude",longitudeProperty:"longitude"}),streamQuery:"CALL db.propertyKeys() YIELD propertyKey MATCH (start) WHERE start[propertyKey] contains $startNode\nWITH start\nLIMIT 1\nCALL db.propertyKeys() YIELD propertyKey MATCH (end) WHERE end[propertyKey] contains $endNode\nWITH start, end\nLIMIT 1\nWITH $config AS config, start, end\nWITH config { .*, sourceNode: id(start), targetNode: id(end)} as config\nCALL gds.shortestPath.astar.stream($generatedName, config)\nYIELD targetNode, totalCost AS cost\nRETURN gds.util.asNode(targetNode) AS node, cost",namedGraphStreamQuery:"CALL db.propertyKeys() YIELD propertyKey MATCH (start) WHERE start[propertyKey] contains $startNode\nWITH start\nLIMIT 1\nCALL db.propertyKeys() YIELD propertyKey MATCH (end) WHERE end[propertyKey] contains $endNode\nWITH start, end\nLIMIT 1\nCALL gds.shortestPath.astar.stream($generatedName, {\n  sourceNode: id(start), \n  targetNode: id(end),\n  latitudeProperty: $config.latitudeProperty, \n  longitudeProperty: $config.longitudeProperty,\n  relationshipWeightProperty: $config.relationshipWeightProperty\n})\nYIELD targetNode, totalCost AS cost\nRETURN gds.util.asNode(targetNode) AS node, cost",storeQuery:"",getFetchQuery:function(){return""},description:"The A* algorithm improves on the classic Dijkstra algorithm. by using a heuristic that guides the paths taken."},"Single Source Shortest Path":{Form:Ma,parametersBuilder:fe,service:Ta,ResultView:ka,parameters:Object(b.a)({},Ka,{nodeQuery:null,relationshipQuery:null}),streamQuery:"CALL db.propertyKeys() YIELD propertyKey MATCH (start) WHERE start[propertyKey] contains $startNode\nWITH start\nLIMIT 1\nWITH $config AS config, start\nWITH config { .*, sourceNode: id(start)} as config\nCALL gds.allShortestPaths.dijkstra.stream($generatedName, config)\nYIELD targetNode AS nodeId, totalCost AS cost\nRETURN gds.util.asNode(nodeId) AS node, cost\nLIMIT toInteger($limit)",namedGraphStreamQuery:"CALL db.propertyKeys() YIELD propertyKey MATCH (start) WHERE start[propertyKey] contains $startNode\nWITH start\nLIMIT 1\nCALL gds.allShortestPaths.dijkstra.stream($generatedName, {sourceNode: id(start)})\nYIELD targetNode AS nodeId, totalCost AS cost\nRETURN gds.util.asNode(nodeId) AS node, cost",storeQuery:"",getFetchQuery:function(){return""},description:"The Single Source Shortest Path (SSSP) algorithm calculates the shortest (weighted) path from a node to all other nodes in the graph.."}},Wa={algorithmList:function(){return["Shortest Path","A*","Single Source Shortest Path","All Pairs Shortest Path"]},algorithmDefinitions:function(e,t){parseInt(t.split(".")[1]);return Va[e]}},Ba=function(e){var t=e.streamCypher,a=e.storeCypher,n=e.fetchCypher,r=e.parameters,i=e.persisted,o=e.parseResultStreamFn,l=void 0===o?za:o;return i?le(a,n,r,l):oe(t,r,l)},Ga=function(e){throw console.error(e),new Error(e)},$a=function(e){var t=e.streamCypher,a=e.storeCypher,n=e.fetchCypher,r=e.parameters,i=e.persisted,o=e.parseResultStreamFn,l=void 0===o?za:o;return i?new Promise(function(e,t){re(a(),r).then(function(){re(n,r).then(function(t){return e(l(t))}).catch(t)}).catch(t)}):function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:za;return re(e,t).then(function(e){return a(e)}).catch(Ga)}(t(),r,l)},za=function(e){if(e.records){var t=e.records.map(function(e){var t=e.get("from"),a=e.get("to");return{fromProperties:se(t.properties),fromLabels:t.labels,fromIdentity:t.identity.toNumber(),toProperties:a.properties,toLabels:a.labels,toIdentity:a.identity.toNumber(),similarity:e.get("similarity")}});return{rows:t,ids:Object(v.a)(new Set(t.flatMap(function(e){return[e.fromIdentity,e.toIdentity]}))),labels:Object(v.a)(new Set(t.flatMap(function(e){return e.fromLabels.concat(e.toLabels)})))}}throw console.error(e.error),new Error(e.error)},Ua=function(e,t,a){var n=Qa(e)?"(item:`".concat(e,"`)"):"(item)",r=t?"[:`".concat(t,"`]"):"",i=Qa(a)?"(category:`".concat(a,"`)"):"(category)";return"MATCH ".concat(n,"-").concat(r,"->").concat(i,"\nWITH {item:id(item), categories: collect(distinct id(category))} as userData\nWITH collect(userData) as data")},Qa=function(e){return e&&"*"!==e},Ya=function(e,t,a,n){var r=Qa(e)?"(item:`".concat(e,"`)"):"(item)",i=t?"[rel:`".concat(t,"`]"):"[rel]",o=Qa(a)?"(category:`".concat(a,"`)"):"(category)";return"MATCH ".concat(r,", ").concat(o,"\nOPTIONAL MATCH ").concat(r,"-").concat(i,"->").concat(o,"\nWITH {item:id(item), weights: collect(coalesce(rel.`").concat(n,"`, gds.util.NaN()))} as userData\nWITH collect(userData) as data")},_a=function(e){var t=e.persist,a=e.onChange,n=e.writeProperty,r=e.writeRelationshipType,o=e.readOnly,l=e.children;return i.a.createElement(M,{title:"Results"},i.a.createElement(A.a.Field,{inline:!0,style:{display:"flex",alignItems:"center"},className:o?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Store results?"),i.a.createElement(W.a,{toggle:!0,checked:t,onChange:function(e,t){a("persist",t.checked)}})),t?i.a.createElement(A.a.Field,{inline:!0,className:o?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Write Property"),i.a.createElement(j.a,{basic:"true",value:n,placeholder:"Write Property",onChange:function(e){return a("writeProperty",e.target.value)}})):null,t?i.a.createElement(A.a.Field,{inline:!0,className:o?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Write Relationship Type"),i.a.createElement(j.a,{basic:"true",value:r,placeholder:"Write Relationship Type",onChange:function(e){return a("writeRelationshipType",e.target.value)}})):null,i.a.createElement(B.a,null),l)},qa=function(e){var t=e.onChange,a=e.similarityCutoff,r=e.degreeCutoff,o=e.readOnly,l=i.a.useState(!0),s=Object(n.a)(l,2),c=s[0],u=s[1],m={display:c?"":"none"};return i.a.createElement(x.a,null,i.a.createElement(F.a,{as:"a",attached:"top left",onClick:function(){return u(!c)}},"Algorithm Parameters"),i.a.createElement(A.a,{style:m},i.a.createElement(A.a.Field,{inline:!0,className:o?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Similarity Cutoff"),i.a.createElement("input",{value:a,onChange:function(e){return t("similarityCutoff",e.target.value)},style:{width:"7em"}})),i.a.createElement(A.a.Field,{inline:!0,className:o?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Degree Cutoff"),i.a.createElement("input",{value:r,onChange:function(e){return t("degreeCutoff",e.target.value)},style:{width:"7em"}}))))},Ja=function(){return i.a.createElement(p.a,{active:!0,inline:"centered"},"Algorithm running")},Xa=function(e){var t=e.task;return i.a.createElement(xe.a.Pane,{key:t.startTime.toLocaleString(),style:{padding:"1em 0",borderTop:"0"}},i.a.createElement(ke.a,{color:"green"},i.a.createElement(ke.a.Header,null,i.a.createElement(ke.a.Row,null,i.a.createElement(ke.a.HeaderCell,null,"From Labels"),i.a.createElement(ke.a.HeaderCell,null,"From Properties"),i.a.createElement(ke.a.HeaderCell,null,"To Labels"),i.a.createElement(ke.a.HeaderCell,null,"To Properties"),i.a.createElement(ke.a.HeaderCell,null,"Similarity"))),i.a.createElement(ke.a.Body,null,t.result?t.result&&t.result.rows.length>0?t.result.rows.map(function(e,a){return i.a.createElement(ke.a.Row,{key:a},i.a.createElement(ke.a.Cell,null,e.fromLabels.join(", ")),i.a.createElement(ke.a.Cell,null," ",i.a.createElement(na,{properties:e.fromProperties,labels:e.fromLabels,database:t.database})),i.a.createElement(ke.a.Cell,null,e.toLabels.join(", ")),i.a.createElement(ke.a.Cell,null," ",i.a.createElement(na,{properties:e.toProperties,labels:e.toLabels,database:t.database})),i.a.createElement(ke.a.Cell,null,e.similarity))}):i.a.createElement(ke.a.Row,{key:"no-results"},i.a.createElement(ke.a.Cell,{colspan:5},"No results found")):i.a.createElement(ke.a.Row,{key:"loading-centrality-result"},i.a.createElement(ke.a.Cell,{colSpan:5},i.a.createElement(Ja,null))))))},Za=function(e){var t=e.itemLabel,a=e.labelOptions,n=e.onChange,r=e.relationshipTypeOptions,o=e.relationshipType,l=e.categoryLabel,s=e.weightProperty,c=e.propertyKeyOptions,u=e.readOnly;return i.a.createElement(M,{title:"Projected Graph"},i.a.createElement(A.a.Field,{inline:!0,className:u?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Item Label"),i.a.createElement(D.a,{value:t,placeholder:"Item Label",search:!0,selection:!0,options:a,onChange:function(e,t){return n("itemLabel",t.value)}})),i.a.createElement(A.a.Field,{inline:!0,className:u?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Relationship Type"),i.a.createElement(D.a,{placeholder:"RelationshipType",search:!0,selection:!0,options:r,value:o,onChange:function(e,t){return n("relationshipType",t.value)}})),i.a.createElement(A.a.Field,{inline:!0,className:u?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Weight Property"),i.a.createElement(D.a,{placeholder:"Weight Property",value:s,search:!0,selection:!0,options:c,onChange:function(e,t){return n("weightProperty",t.value)}})),i.a.createElement(A.a.Field,{inline:!0,className:u?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Category Label"),i.a.createElement(D.a,{value:l,placeholder:"Category Label",search:!0,selection:!0,options:a,onChange:function(e,t){return n("categoryLabel",t.value)}})))},en=function(e){var t=e.children,a=e.readOnly,n=e.onChange,r=(e.direction,e.itemLabel),o=e.categoryLabel,l=e.relationshipType,s=e.persist,c=e.writeProperty,u=e.weightProperty,m=e.writeRelationshipType,d=e.similarityCutoff,p=e.degreeCutoff,h=e.labelOptions,g=e.relationshipTypeOptions,y=e.propertyKeyOptions;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Za,{onChange:n,itemLabel:r,categoryLabel:o,relationshipTypeOptions:g,weightProperty:u,propertyKeyOptions:y,labelOptions:h,readOnly:a,relationshipType:l}),i.a.createElement(qa,{onChange:n,similarityCutoff:d,degreeCutoff:p,readOnly:a}),i.a.createElement(_a,{persist:s,onChange:n,writeProperty:c,readOnly:a,writeRelationshipType:m},t))},tn=function(e){var t=e.children,a=e.onChange,n=e.readOnly,r=e.labelOptions,o=e.itemLabel,l=e.categoryLabel,s=e.relationshipType,c=e.relationshipTypeOptions,u=e.propertyKeyOptions,m=e.writeProperty,d=e.writeRelationshipType,p=e.similarityCutoff,h=e.degreeCutoff,g=e.direction,y=e.persist;return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(en,{onChange:a,direction:g,writeProperty:m,persist:y,readOnly:n,itemLabel:o,categoryLabel:l,relationshipType:s,labelOptions:r,writeRelationshipType:d,similarityCutoff:p,degreeCutoff:h,propertyKeyOptions:u,relationshipTypeOptions:c},t))},an=function(e){var t=e.readOnly,a=e.children,n=e.onChange,r=e.labelOptions,o=e.relationshipTypeOptions,l=e.propertyKeyOptions,s=e.writeProperty,c=e.writeRelationshipType,u=e.similarityCutoff,m=e.degreeCutoff,d=e.direction,p=e.persist,h=e.itemLabel,g=e.categoryLabel,y=e.relationshipType;return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(en,{onChange:n,direction:d,writeProperty:s,persist:p,readOnly:t,labelOptions:r,writeRelationshipType:c,similarityCutoff:u,itemLabel:h,categoryLabel:g,relationshipType:y,degreeCutoff:m,propertyKeyOptions:l,relationshipTypeOptions:o},a))},nn=function(e){var t=e.labelOptions,a=e.onChange,n=e.relationshipTypeOptions,r=e.itemLabel,o=e.categoryLabel,l=e.readOnly,s=e.relationshipType;return i.a.createElement(M,{title:"Projected Graph"},i.a.createElement(A.a.Field,{inline:!0,className:l?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Item Label"),i.a.createElement(D.a,{value:r,placeholder:"Item Label",search:!0,selection:!0,options:t,onChange:function(e,t){return a("itemLabel",t.value)}})),i.a.createElement(A.a.Field,{inline:!0,className:l?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Relationship Type"),i.a.createElement(D.a,{placeholder:"RelationshipType",search:!0,selection:!0,options:n,value:s,onChange:function(e,t){return a("relationshipType",t.value)}})),i.a.createElement(A.a.Field,{inline:!0,className:l?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Category Label"),i.a.createElement(D.a,{value:o,placeholder:"Category Label",search:!0,selection:!0,options:t,onChange:function(e,t){return a("categoryLabel",t.value)}})))},rn=function(e){var t=e.readOnly,a=e.onChange,n=e.labelOptions,r=e.itemLabel,o=e.categoryLabel,l=e.relationshipType,s=e.children,c=e.relationshipTypeOptions,u=e.propertyKeyOptions,m=e.writeProperty,d=e.writeRelationshipType,p=e.similarityCutoff,h=e.degreeCutoff,g=e.direction,y=e.persist;return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(en,{onChange:a,direction:g,writeProperty:m,persist:y,readOnly:t,itemLabel:r,categoryLabel:o,relationshipType:l,labelOptions:n,writeRelationshipType:d,similarityCutoff:p,degreeCutoff:h,propertyKeyOptions:u,relationshipTypeOptions:c},s))},on=function(e){var t=e.onChange,a=e.readOnly,r=e.nodeWeightProperty,o=e.propertyKeyOptions,l=e.sampleRate,s=e.deltaThreshold,c=e.topK,u=e.randomJoins,m=i.a.useState(!0),d=Object(n.a)(m,2),p=d[0],h=d[1],g={display:p?"":"none"};return i.a.createElement(x.a,null,i.a.createElement(F.a,{as:"a",attached:"top left",onClick:function(){return h(!p)}},"Algorithm Parameters"),i.a.createElement(A.a,{style:g},i.a.createElement(A.a.Field,{disabled:a,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"# of neighbors per nodes"),control:j.a,type:"number",value:c,onChange:function(e,a){return t("topK",a.value)},min:1,max:50,step:1}),i.a.createElement(A.a.Field,{inline:!0,className:a?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Node Weight Property"),i.a.createElement(D.a,{disabled:a,placeholder:"Weight Property",value:r,search:!0,selection:!0,options:o,onChange:function(e,a){return t("nodeWeightProperty",a.value)}})),i.a.createElement(A.a.Field,{disabled:a,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Sample Rate"),control:j.a,type:"number",value:l,step:.01,onChange:function(e,a){return t("sampleRate",a.value)}}),i.a.createElement(A.a.Field,{disabled:a,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Delta Threshold"),control:j.a,type:"number",value:s,step:.01,onChange:function(e,a){return t("deltaThreshold",a.value)}}),i.a.createElement(A.a.Field,{disabled:a,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Random Joins"),control:j.a,type:"number",value:u,onChange:function(e,a){return t("randomJoins",a.value)},min:1,max:50,step:1})))},ln=function(e){var t=e.onChange,a=e.readOnly,n=e.relationshipType,r=e.label,o=e.children,l=e.propertyKeyOptions,s=e.labelOptions,c=e.relationshipOrientationOptions,u=e.relationshipTypeOptions,m=e.writeProperty,d=e.writeRelationshipType,p=e.nodeWeightProperty,h=e.sampleRate,g=e.deltaThreshold,y=e.topK,f=e.randomJoins,E=e.direction,b=e.persist,v={label:r,labelOptions:s,relationshipType:n,direction:E,relationshipTypeOptions:u,relationshipOrientationOptions:c,onChange:t,readOnly:a};return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(V,v),i.a.createElement(on,{onChange:t,readOnly:a,propertyKeyOptions:l,nodeWeightProperty:p,sampleRate:h,topK:y,deltaThreshold:g,randomJoins:f}),i.a.createElement(_a,{persist:b,onChange:t,writeProperty:m,writeRelationshipType:d,readOnly:a},o))},sn=function(e){var t=e.onChange,a=e.readOnly,r=e.nodeWeightProperty,o=e.propertyKeyOptions,l=e.sampleRate,s=e.deltaThreshold,c=e.topK,u=e.randomJoins,m=e.similarityMetric,d=i.a.useState(!0),p=Object(n.a)(d,2),h=p[0],g=p[1],y={display:h?"":"none"},f=["COSINE","EUCLIDEAN","PEARSON","JACCARD","OVERLAP"].map(function(e){return{key:e,text:e,value:e}});return i.a.createElement(x.a,null,i.a.createElement(F.a,{as:"a",attached:"top left",onClick:function(){return g(!h)}},"Algorithm Parameters"),i.a.createElement(A.a.Field,{inline:!0,className:a?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Similarity Metric"),i.a.createElement(D.a,{disabled:a,placeholder:"Similarity Metric",value:m,search:!0,selection:!0,options:f,onChange:function(e,a){return t("similarityMetric",a.value)}})),i.a.createElement(A.a,{style:y},i.a.createElement(A.a.Field,{disabled:a,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"# of neighbors per nodes"),control:j.a,type:"number",value:c,onChange:function(e,a){return t("topK",a.value)},min:1,max:50,step:1}),i.a.createElement(A.a.Field,{inline:!0,className:a?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Node Property"),i.a.createElement(D.a,{disabled:a,placeholder:"Weight Property",value:r,search:!0,selection:!0,options:o,onChange:function(e,a){return t("nodeWeightProperty",a.value)}})),i.a.createElement(A.a.Field,{disabled:a,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Sample Rate"),control:j.a,type:"number",value:l,step:.01,onChange:function(e,a){return t("sampleRate",a.value)}}),i.a.createElement(A.a.Field,{disabled:a,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Delta Threshold"),control:j.a,type:"number",value:s,step:.01,onChange:function(e,a){return t("deltaThreshold",a.value)}}),i.a.createElement(A.a.Field,{disabled:a,inline:!0,label:i.a.createElement("label",{style:{width:"12em"}},"Random Joins"),control:j.a,type:"number",value:u,onChange:function(e,a){return t("randomJoins",a.value)},min:1,max:50,step:1})))},cn=function(e){var t=e.onChange,a=e.readOnly,n=e.relationshipType,r=e.label,o=e.children,l=e.propertyKeyOptions,s=e.labelOptions,c=e.relationshipOrientationOptions,u=e.relationshipTypeOptions,m=e.writeProperty,d=e.writeRelationshipType,p=e.nodeWeightProperty,h=e.sampleRate,g=e.deltaThreshold,y=e.topK,f=e.randomJoins,E=e.direction,b=e.persist,v=e.similarityMetric,C={label:r,labelOptions:s,relationshipType:n,direction:E,relationshipTypeOptions:u,relationshipOrientationOptions:c,onChange:t,readOnly:a,similarityMetric:v};return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(V,C),i.a.createElement(sn,{onChange:t,readOnly:a,propertyKeyOptions:l,nodeWeightProperty:p,sampleRate:h,topK:y,deltaThreshold:g,randomJoins:f,similarityMetric:v}),i.a.createElement(_a,{persist:b,onChange:t,writeProperty:m,writeRelationshipType:d,readOnly:a},o))},un=function(){return i.a.createElement(p.a,{active:!0,inline:"centered"},"Algorithm running")},mn=function(e){var t=e.onChange,a=e.readOnly,r=e.relationshipType,o=e.label,l=e.children,s=(e.propertyKeyOptions,e.labelOptions),c=e.relationshipOrientationOptions,u=e.relationshipTypeOptions,m=e.writeProperty,d=e.writeRelationshipType,p=e.similarityCutoff,h=e.degreeCutoff,g=e.direction,y=e.persist,f=e.similarityMetric,E={label:o,labelOptions:s,relationshipType:r,direction:g,relationshipTypeOptions:u,relationshipOrientationOptions:c,onChange:t,readOnly:a,similarityMetric:f},b=i.a.useState(!0),v=Object(n.a)(b,2),C=v[0],w=v[1],O={display:C?"":"none"},N=["Jaccard","Overlap"].map(function(e){return{key:e,text:e,value:e}});return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(V,E),i.a.createElement(x.a,null,i.a.createElement(F.a,{as:"a",attached:"top left",onClick:function(){return w(!C)}},"Algorithm Parameters"),i.a.createElement(A.a,{style:O},i.a.createElement(A.a.Field,{inline:!0,className:a?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Similarity Metric"),i.a.createElement(D.a,{disabled:a,placeholder:"Similarity Metric",value:f,search:!0,selection:!0,options:N,onChange:function(e,a){return t("similarityMetric",a.value)}})),i.a.createElement(A.a.Field,{inline:!0,className:a?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Similarity Cutoff"),i.a.createElement("input",{value:p,onChange:function(e){return t("similarityCutoff",e.target.value)},style:{width:"7em"}})),i.a.createElement(A.a.Field,{inline:!0,className:a?"disabled":null},i.a.createElement("label",{style:{width:"12em"}},"Degree Cutoff"),i.a.createElement("input",{value:h,onChange:function(e){return t("degreeCutoff",e.target.value)},style:{width:"7em"}})))),i.a.createElement(_a,{persist:y,onChange:t,writeProperty:m,writeRelationshipType:d,readOnly:a},l))},dn=function(e,t){return function(a,n,r,i){return"".concat(t(a,n,r,i),"\nWITH $config AS config, data\nWITH config { .*, data: data} as config\n\n").concat(e,"\n\nYIELD item1, item2, similarity\nRETURN gds.util.asNode(item1) AS from, gds.util.asNode(item2) AS to, similarity\nORDER BY similarity DESC\nLIMIT toInteger($limit)")}},pn=function(e,t){return function(a,n,r,i){return"".concat(t(a,n,r,i),"\nWITH $config AS config, data\nWITH config { .*, data: data} as config\n\n").concat(e,"\n\nYIELD nodes, similarityPairs, writeRelationshipType, writeProperty, min, max, mean, stdDev, p25, p50, p75, p90, p95, p99, p999, p100\nRETURN nodes, similarityPairs, writeRelationshipType, writeProperty, min, max, mean, p95")}},hn=function(e,t,a){var n=e&&"*"!==e?"(from:`".concat(e,"`)"):"(from)",r=e&&"*"!==e?"(to:`".concat(e,"`)"):"(to)",i="[rel:`".concat(t,"`]");return"MATCH ".concat(n,"-").concat(i,"-").concat(r,"\nWHERE exists(rel.`").concat(a.writeProperty,"`)\nRETURN from, to, rel.`").concat(a.writeProperty,"` AS similarity\nORDER BY similarity DESC\nLIMIT toInteger($limit)")},gn={Jaccard:{algorithmName:"gds.nodeSimilarity",Form:function(e){var t=e.onChange,a=e.readOnly,n=e.relationshipType,r=e.label,o=e.children,l=(e.propertyKeyOptions,e.labelOptions),s=e.relationshipOrientationOptions,c=e.relationshipTypeOptions,u=e.writeProperty,m=e.writeRelationshipType,d=e.similarityCutoff,p=e.degreeCutoff,h=e.direction,g=e.persist,y={label:r,labelOptions:l,relationshipType:n,direction:h,relationshipTypeOptions:c,relationshipOrientationOptions:s,onChange:t,readOnly:a};return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(V,y),i.a.createElement(qa,{onChange:t,similarityCutoff:d,degreeCutoff:p,readOnly:a}),i.a.createElement(_a,{persist:g,onChange:t,writeProperty:u,writeRelationshipType:m,readOnly:a},o))},parametersBuilder:function(e){var t=e.label,a=e.relationshipType,n=e.direction,r=e.persist,i=e.writeProperty,o=e.defaultValue,l=e.weightProperty,s=e.writeRelationshipType,c=e.similarityCutoff,u=e.degreeCutoff,m=e.limit,d=e.requiredProperties,p={limit:parseInt(m)||50},h={similarityCutoff:parseFloat(c),degreeCutoff:null==u?null:Object(U.int)(u),nodeProjection:t||"*",relationshipProjection:Ie(a,n,l,o)};be(h,r,i,s);return p.graphConfig=Te(Object(b.a)({},p.config,h),["nodeProjection","relationshipProjection"]),p.config=Te(Object(b.a)({},p.config,h),d),p},service:Ba,ResultView:Xa,parameters:{label:"*",relationshipType:"*",persist:!1,writeProperty:"score",writeRelationshipType:"SIMILAR_JACCARD",similarityCutoff:.1,degreeCutoff:1,direction:"Natural"},streamQuery:"CALL gds.nodeSimilarity.stream($generatedName, $config) YIELD node1, node2, similarity\nRETURN gds.util.asNode(node1) AS from, gds.util.asNode(node2) AS to, similarity\nORDER BY similarity DESC\nLIMIT toInteger($limit)",storeQuery:"CALL gds.nodeSimilarity.write($generatedName, $config)",getFetchQuery:hn,description:"measures similarities between sets. It is defined as the size of the intersection divided by the size of the union of two sets."},Overlap:{algorithmName:"gds.alpha.similarity",Form:function(e){var t=e.readOnly,a=e.onChange,n=e.children,r=e.itemLabel,o=e.categoryLabel,l=e.labelOptions,s=e.relationshipType,c=e.relationshipTypeOptions,u=e.writeProperty,m=e.writeRelationshipType,d=e.similarityCutoff,p=e.degreeCutoff,h=(e.direction,e.persist);return i.a.createElement(A.a,{size:"mini",style:{marginBottom:"1em"}},i.a.createElement(nn,{onChange:a,relationshipTypeOptions:c,itemLabel:r,relationshipType:s,categoryLabel:o,readOnly:t,labelOptions:l}),i.a.createElement(qa,{onChange:a,similarityCutoff:d,degreeCutoff:p,readOnly:t}),i.a.createElement(_a,{persist:h,onChange:a,writeProperty:u,readOnly:t,writeRelationshipType:m},n))},parametersBuilder:Ce,service:$a,ResultView:Xa,parameters:{itemLabel:"*",relationshipType:"*",categoryLabel:"*",persist:!1,writeProperty:"score",writeRelationshipType:"SIMILAR_OVERLAP",similarityCutoff:.1,degreeCutoff:0,write:!0},streamQuery:dn("CALL gds.alpha.similarity.overlap.stream(config)",Ua),storeQuery:pn("CALL gds.alpha.similarity.overlap.write(config)",Ua),getFetchQuery:hn,description:"measures overlap between two sets. It is defined as the size of the intersection of two sets, divided by the size of the smaller of the two sets."},Cosine:{algorithmName:"gds.alpha.similarity.cosine",Form:tn,parametersBuilder:Ce,service:$a,ResultView:Xa,parameters:{itemLabel:"*",relationshipType:"*",categoryLabel:"*",persist:!1,writeProperty:"score",writeRelationshipType:"SIMILAR_COSINE",similarityCutoff:.1,degreeCutoff:0,write:!0,weightProperty:"weight"},streamQuery:dn("CALL gds.alpha.similarity.cosine.stream(config)",Ya),storeQuery:pn("CALL gds.alpha.similarity.cosine.write(config)",Ya),getFetchQuery:hn,description:"calculates the dot product of the two vectors divided by the product of the two vectors' lengths (or magnitudes)."},Pearson:{algorithmName:"gds.alpha.similarity.pearson",Form:an,parametersBuilder:Ce,service:$a,ResultView:Xa,parameters:{itemLabel:"*",relationshipType:"*",categoryLabel:"*",persist:!1,writeProperty:"score",writeRelationshipType:"SIMILAR_PEARSON",similarityCutoff:.1,degreeCutoff:0,write:!0,weightProperty:"weight"},streamQuery:dn("CALL gds.alpha.similarity.pearson.stream(config)",Ya),storeQuery:pn("CALL gds.alpha.similarity.pearson.write(config)",Ya),getFetchQuery:hn,description:"the covariance of the two n-dimensional vectors divided by the product of their standard deviations."},Euclidean:{algorithmName:"gds.alpha.similarity.euclidean",Form:rn,parametersBuilder:Ce,service:$a,ResultView:Xa,parameters:{itemLabel:"*",relationshipType:"*",categoryLabel:"*",persist:!1,writeProperty:"score",writeRelationshipType:"SIMILAR_EUCLIDEAN",similarityCutoff:.1,degreeCutoff:0,write:!0,weightProperty:"weight"},streamQuery:dn("CALL gds.alpha.similarity.euclidean.stream(config)",Ya),storeQuery:pn("CALL gds.alpha.similarity.euclidean.write(config)",Ya),getFetchQuery:hn,description:"measures the straight line distance between two points in n-dimensional space."},"Node Similarity":{algorithmName:"gds.nodeSimilarity",Form:mn,parametersBuilder:function(e){var t=e.label,a=e.relationshipType,n=e.direction,r=e.persist,i=e.writeProperty,o=e.defaultValue,l=e.weightProperty,s=e.similarityMetric,c=e.writeRelationshipType,u=e.similarityCutoff,m=e.degreeCutoff,d=e.limit,p=e.requiredProperties,h={limit:parseInt(d)||50},g={similarityMetric:s,similarityCutoff:parseFloat(u),degreeCutoff:null==m?null:Object(U.int)(m),nodeProjection:t||"*",relationshipProjection:Ie(a,n,l,o)};be(g,r,i,c);return h.graphConfig=Te(Object(b.a)({},h.config,g),["nodeProjection","relationshipProjection"]),h.config=Te(Object(b.a)({},h.config,g),p),h},service:Ba,ResultView:Xa,parameters:{label:"*",relationshipType:"*",persist:!1,writeProperty:"score",writeRelationshipType:"SIMILAR",similarityCutoff:.1,degreeCutoff:1,direction:"Natural",similarityMetric:"Jaccard"},streamQuery:"CALL gds.nodeSimilarity.stream($generatedName, $config) YIELD node1, node2, similarity\nRETURN gds.util.asNode(node1) AS from, gds.util.asNode(node2) AS to, similarity\nORDER BY similarity DESC\nLIMIT toInteger($limit)",storeQuery:"CALL gds.nodeSimilarity.write($generatedName, $config)",getFetchQuery:hn,description:"measures similarities between sets. It can use either the Jaccard or Overlap similarity metric."}},yn={algorithmName:"gds.beta.knn",Form:ln,parametersBuilder:function(e){var t=e.label,a=e.relationshipType,n=e.direction,r=e.persist,i=e.writeProperty,o=e.defaultValue,l=e.weightProperty,s=e.writeRelationshipType,c=e.nodeWeightProperty,u=e.topK,m=e.sampleRate,d=e.deltaThreshold,p=e.randomJoins,h=e.limit,g=e.requiredProperties,y={limit:parseInt(h)||50},f={nodeProjection:t||"*",relationshipProjection:Ie(a,n,l,o),nodeWeightProperty:c,topK:Object(U.int)(u)||10,randomJoins:Object(U.int)(p)||10,sampleRate:parseFloat(m)||.5,deltaThreshold:parseFloat(d)||.001};c&&(f.nodeProperties=[c]),be(f,r,i,s);return y.graphConfig=Te(Object(b.a)({},y.config,f),["nodeProjection","relationshipProjection","nodeProperties"]),y.config=Te(Object(b.a)({},y.config,f),g),y.config.nodeWeightProperty=c,y},service:function(e){var t=e.streamCypher,a=e.storeCypher,n=e.fetchCypher,r=e.parameters,i=e.persisted;return Ba({streamCypher:t,storeCypher:a,fetchCypher:n,parameters:r,persisted:i,parseResultStreamFn:function(e){if(e.records){var t=e.records.map(function(e){var t=e.get("from"),a=e.get("to");return{fromProperties:se(t.properties),fromLabels:t.labels,fromIdentity:t.identity.toNumber(),to:a.map(function(e){return{properties:se(e.node.properties),labels:e.node.labels,identity:e.node.identity.toNumber(),similarity:parseFloat(e.similarity.toFixed(2))}})}});return{rows:t,ids:Object(v.a)(new Set(t.flatMap(function(e){return[e.fromIdentity].concat(e.to.map(function(e){return e.identity}))}))),labels:Object(v.a)(new Set(t.flatMap(function(e){return e.fromLabels.concat(e.to.flatMap(function(e){return e.labels}))})))}}throw console.error(e.error),new Error(e.error)}})},ResultView:function(e){var t=e.task;return i.a.createElement(xe.a.Pane,{key:t.startTime.toLocaleString(),style:{padding:"1em 0",borderTop:"0"}},i.a.createElement(ke.a,{color:"green"},i.a.createElement(ke.a.Header,null,i.a.createElement(ke.a.Row,null,i.a.createElement(ke.a.HeaderCell,{width:2},"From"),i.a.createElement(ke.a.HeaderCell,null,"Nodes"))),i.a.createElement(ke.a.Body,null,t.result?t.result&&t.result.rows.length>0?t.result.rows.map(function(e,a){return i.a.createElement(ke.a.Row,{key:a},i.a.createElement(ke.a.Cell,null,i.a.createElement(na,{properties:e.fromProperties,labels:e.fromLabels,database:t.database})),i.a.createElement(ke.a.Cell,null,e.to.map(function(e,a){return i.a.createElement(na,{key:"properties-"+a,properties:e.properties,labels:e.labels,database:t.database,similarity:e.similarity})})))}):i.a.createElement(ke.a.Row,{key:"no-results"},i.a.createElement(ke.a.Cell,{colspan:5},"No results found")):i.a.createElement(ke.a.Row,{key:"loading-centrality-result"},i.a.createElement(ke.a.Cell,{colSpan:5},i.a.createElement(un,null))))))},parameters:{label:"*",relationshipType:"*",persist:!1,writeProperty:"score",writeRelationshipType:"SIMILAR_KNN",direction:"Natural",nodeWeightProperty:"weight",topK:10,sampleRate:.5,deltaThreshold:.001,maxIterations:100,randomJoins:10},streamQuery:"CALL gds.beta.knn.stream($generatedName, $config) \nYIELD node1, node2, similarity\nWITH node1, collect({node: gds.util.asNode(node2), similarity: similarity}) AS to\nRETURN gds.util.asNode(node1) AS from, to\nLIMIT toInteger($limit)",storeQuery:"CALL gds.beta.knn.write($generatedName, $config)",getFetchQuery:function(e,t,a){var n=e&&"*"!==e?"(from:`".concat(e,"`)"):"(from)",r=e&&"*"!==e?"(to:`".concat(e,"`)"):"(to)",i="[rel:`".concat(t,"`]");return"MATCH ".concat(n,"-").concat(i,"->").concat(r,"\nWHERE exists(rel.`").concat(a.writeProperty,"`)\nWITH from, to, rel.`").concat(a.writeProperty,"` AS similarity\nORDER BY from, similarity DESC\nWITH from, collect({node: to, similarity: similarity}) AS to\nRETURN from, to\nLIMIT toInteger($limit)")},description:"computes similarities between node pairs based on node properties"},fn={algorithmList:function(e){parseInt(e.split(".")[1]);return 1==parseInt(e.split(".")[0])?["Jaccard","Overlap","Cosine","Pearson","Euclidean","K-Nearest Neighbors"]:["Node Similarity","K-Nearest Neighbors"]},algorithmDefinitions:function(e,t){var a=parseInt(t.split(".")[0]);parseInt(t.split(".")[1]);switch(e){case"K-Nearest Neighbors":return 1==a?yn:(yn.streamQuery="CALL gds.knn.stream($generatedName, $config) \n\t\t\t\tYIELD node1, node2, similarity\n\t\t\t\tWITH node1, collect({node: gds.util.asNode(node2), similarity: similarity}) AS to\n\t\t\t\tRETURN gds.util.asNode(node1) AS from, to\n\t\t\t\tLIMIT toInteger($limit)",yn.storeQuery="CALL gds.knn.write($generatedName, $config)",yn.Form=cn,yn.parametersBuilder=ve,yn.algorithmName="gds.knn",Object.assign(yn.parameters,{similarityMetric:"COSINE"}),yn);default:return gn[e]}}},En=function(e){parseInt(e.split(".")[1]);return{Centralities:ga,"Community Detection":ct,"Path Finding":Wa,Similarity:fn,"Graph Embeddings":Pa}},bn=function(e,t){return(En(t)[e]||{algorithmList:function(){return[]}}).algorithmList(t)},vn=function(e,t,a){return En(a)[e].algorithmDefinitions(t,a)},Cn=function(e,t){var a={};return Object.keys(En(t)).forEach(function(e){bn(e,t||"1.4.0").forEach(function(t){a[t]=e})}),a[e]},wn="".concat("ALGORITHMS","/SELECT_GROUP"),On="".concat("ALGORITHMS","/SELECT_ALGORITHM"),Nn=function(e,t){return{type:wn,group:e,gdsVersion:t}},In=function(e){return{type:On,algorithm:e}},Pn={group:"Home",algorithm:""},Tn="".concat("connection","/SET_STATUS"),Sn="".concat("connection","/SET_CREDENTIALS"),Ln="".concat("connection","/SET_CONNECTED"),kn="".concat("connection","/SET_DISCONNECTED"),Rn=function(){return{type:kn}},An={status:"INITIAL",credentials:null},jn="".concat("MENU","/SELECT_MENU_ITEM"),Dn={item:"Home"},xn={algorithms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wn:return{algorithm:bn(t.group,t.gdsVersion)[0],group:t.group};case On:return Object(b.a)({},e,{algorithm:t.algorithm});default:return e}},menu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jn:return{item:t.item};default:return e}},tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:var a=Object(v.a)(e);return a.unshift({taskId:t.taskId,group:t.group,algorithm:t.algorithm,startTime:t.startTime,result:t.result,parameters:t.parameters,formParameters:t.formParameters,status:I,completed:!1,persisted:t.persisted,database:t.database}),a;case w:var n=Object(v.a)(e),r=n.find(function(e){return e.taskId===t.taskId});return r?(r.status=P,r.query=t.query,r.namedGraphQueries=t.namedGraphQueries,r.parameters=t.parameters,r.formParameters=t.formParameters,r.persisted=t.persisted,r.result=null,n):e;case O:var i=Object(v.a)(e),o=i.find(function(e){return e.taskId===t.taskId});return o?(t.error?(o.error=t.error,o.status="FAILED"):(o.status=T,o.result=t.result),o.completed=!0,i):e;case N:return Object(v.a)(e).filter(function(e){return e.taskId!==t.taskId});default:return e}},metadata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ot:return{labels:t.labels,relationshipTypes:t.relationshipTypes};case Nt:return Object(b.a)({},e,{labels:t.labels});case It:return Object(b.a)({},e,{relationshipTypes:t.relationshipTypes});case Pt:return Object(b.a)({},e,{propertyKeys:t.propertyKeys});case Tt:return Object(b.a)({},e,{nodePropertyKeys:t.nodePropertyKeys});case St:return Object(b.a)({},e,{relPropertyKeys:t.relPropertyKeys});case Lt:return Object(b.a)({},e,{versions:t.version});case kt:return Object(b.a)({},e,{databases:t.databases});case Rt:return Object(b.a)({},e,{activeDatabase:t.activeDatabase});case At:var a=Object(b.a)({},e.allLabels);return t.database in a||(a[t.database]={}),Object(b.a)({},e,{allLabels:a});case jt:var n=Object(b.a)({},e.allLabels);return t.label in n[t.database]||(n[t.database][t.label]={color:t.color,propertyKeys:t.propertyKeys}),Object(b.a)({},e,{allLabels:n});case Dt:var r=Object(b.a)({},e.allLabels);return r[t.database][t.label].color=t.color,Object(b.a)({},e,{allLabels:r});case xt:var i=Object(b.a)({},e.allLabels);return i[t.database][t.label].propertyKeys=t.propertyKeys,Object(b.a)({},e,{allLabels:i});default:return e}},connections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Tn:return Object(b.a)({},e,{status:t.status});case Sn:return Object(b.a)({},e,{credentials:t.credentials});case Ln:return{status:"CONNECTED",credentials:t.credentials};case kn:return{status:"DISCONNECTED",credentials:null};default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{hiddenProperties:{_ALL_NEULER_:gt()},limit:42,communityNodeLimit:10,labels:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mt:return Object(b.a)({},e,{limit:t.limit});case dt:return Object(b.a)({},e,{communityNodeLimit:t.limit});case ut:return Object(b.a)({},e,Object(de.a)({},t.key,t.value));case pt:var a=Object(b.a)({},e.hiddenProperties);return t.labels.forEach(function(e){var n=a[e];n?n.includes(t.key)||n.push(t.key):a[e]=[t.key]}),Object(b.a)({},e,{hiddenProperties:a});case ht:var n=Object(b.a)({},e.hiddenProperties);return t.labels.forEach(function(e){return delete n[e]}),Object(b.a)({},e,{hiddenProperties:n});default:return e}}},Fn=Object(f.b)(Object(b.a)({},xn)),Mn=(a(860),a(269)),Hn=a(1092),Kn=a(1093),Vn=a(1007),Wn='\nSHOW PROCEDURES\nYIELD name\nWHERE name STARTS WITH "apoc"\nRETURN count(*) AS count',Bn="CALL apoc.meta.schema() YIELD value RETURN count(*) AS count",Gn='SHOW PROCEDURES\nYIELD name\nWHERE name STARTS WITH "gds"\nRETURN count(*) AS count',$n=function(e){throw console.error(e),new Error(e)},zn=function(e){return!!e.records&&e.records[0].get("count").toNumber()>0},Un={env:window.location.href.indexOf("neuler.graphapp.io")>-1?"prod":"dev",mixpanelId:{dev:"e71d493fc40289f04b92ba09c751d698",prod:"c4488ddf14af6efe91014e60cecef01e"},defaultLimit:42,defaultCommunityNodeLimit:10,version:"0.1.57"},Qn=a(862),Yn=Un.env;Qn.init(Un.mixpanelId[Yn]);var _n=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(window.neo4jDesktopApi)window.neo4jDesktopApi.sendMetrics(e,t,a);else if(Qn&&Qn.track){var n="NEULER_".concat(e,"_").concat(t);Qn.track(n,Object(b.a)({},a))}},qn=a(259),Jn=a(1091),Xn=a(74),Zn={padding:"11px"},er=new URL(window.location.href),tr=function(e){return er.protocol.includes("http")?"/".concat(e):"".concat(er.protocol,"//").concat(er.pathname.split("/dist/")[0],"/dist/").concat(e)},ar=Object(E.b)(function(e){return{activeAlgorithm:e.algorithms.algorithm,activeMenuItem:e.menu.item}},function(e){return{setDisconnected:function(){return e(Rn())}}})(function(e){var t=e.metadata,a=e.setDatasetsActive,n=e.credentials,r=e.setDisconnected;return i.a.createElement("header",{style:{display:"flex",justifyContent:"space-between",background:"#000",color:"#fff",height:"37px"}},i.a.createElement("div",{style:{display:"flex"}},i.a.createElement(Vn.a,{src:tr("images/noun_Sandbox Toys_1207953.png"),style:{height:"37px"}}),i.a.createElement("span",{style:{padding:"10px 0 10px 0"}},"NEuler")),i.a.createElement("div",{style:Zn},i.a.createElement("nav",null,i.a.createElement(Xn.c,{exact:!0,activeClassName:"selected",to:"/"},"Home"),i.a.createElement(Xn.c,{activeClassName:"selected",to:"/algorithms"},"Run Single Algorithm"),i.a.createElement(Xn.c,{activeClassName:"selected",to:"/recipes"},"Run Algorithm Recipe"))),i.a.createElement("div",{style:Zn},i.a.createElement("nav",null,i.a.createElement(Ra.a,{trigger:i.a.createElement(qn.a,{name:"setting",size:"large"}),flowing:!0,hoverable:!0,className:"about-menu"},i.a.createElement(Jn.a,null,i.a.createElement(Jn.a.Item,{className:"connection-list-item"},i.a.createElement(Jn.a,{className:"connection"},i.a.createElement(Jn.a.Item,{className:"connection-item"},i.a.createElement("label",null,"Username"),i.a.createElement("span",null,n.username)),i.a.createElement(Jn.a.Item,{className:"connection-item"},i.a.createElement("label",null,"Server"),i.a.createElement("span",null,n.host)),i.a.createElement(Jn.a.Item,{className:"connection-item"},i.a.createElement("label",null,"Database"),i.a.createElement("span",null,t.activeDatabase))),i.a.createElement("div",{className:"configure-database"},i.a.createElement(Xn.c,{to:"/database"},"Configure Database"))),i.a.createElement(B.a,null),i.a.createElement(Jn.a.Item,null,i.a.createElement(Jn.a,{className:"connection"},i.a.createElement(Jn.a.Item,{className:"connection-item"},i.a.createElement("label",null,"NEuler"),i.a.createElement("span",null,Un.version)),i.a.createElement(Jn.a.Item,{className:"connection-item"},i.a.createElement("label",null,"GDSL"),i.a.createElement("span",null,t.versions.gdsVersion)),i.a.createElement(Jn.a.Item,{className:"connection-item"},i.a.createElement("label",null,"Neo4j Server"),i.a.createElement("span",null,t.versions.neo4jVersion)))),i.a.createElement(B.a,null),i.a.createElement(Jn.a.Item,{as:"a",onClick:function(){return a(!0)},className:"about-menu"},i.a.createElement(Vn.a,{size:"mini",src:tr("images/noun_Import Database_281767.png")}),i.a.createElement(Jn.a.Content,null,i.a.createElement(Jn.a.Header,{as:"a"},"Sample Graphs"))),i.a.createElement(Jn.a.Item,{as:"a",onClick:function(){return r()},className:"about-menu"},i.a.createElement(Vn.a,{size:"mini",src:tr("images/noun_sign out_1157133.png")}),i.a.createElement(Jn.a.Content,null,i.a.createElement(Jn.a.Header,{as:"a"},"Sign Out"))))))))}),nr=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(A.a,{className:"attached fluid segment"},i.a.createElement("div",{align:"center",className:"attached fluid segment"},i.a.createElement(Vn.a,{src:tr("images/gds-plugin.png")}))),i.a.createElement(Hn.a,{color:"grey",attached:!0,align:"center",className:"loading-message"},i.a.createElement(Hn.a.Content,null,i.a.createElement("p",null,"This application relies on the Graph Data Science Library.",i.a.createElement("br",null),"You can install it via the 'Plugins' tab of your database."))),i.a.createElement(x.a,{attached:!0},"We check whether the library is installed by running the following query:",i.a.createElement("pre",null,Gn,";")))},rr=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Hn.a,{color:"grey",attached:!0,align:"center",className:"loading-message"},i.a.createElement(Hn.a.Content,null,i.a.createElement("p",null,"This application relies on the Graph Data Science Library.",i.a.createElement("br",null),"You can find installation instructions at ",i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://neo4j.com/docs/graph-data-science/current/installation/"},"neo4j.com/docs/graph-data-science/current/installation")))))},ir=function(e){var t=Object(r.useState)(!1),a=Object(n.a)(t,2),o=a[0],l=a[1],s=Object(r.useState)(!0),c=Object(n.a)(s,2),u=c[0],m=c[1];return i.a.useEffect(function(){var t=!0;return re(Gn).then(function(e){return zn(e)}).catch($n).then(function(a){t&&(a?(e.gdsInstalled(),l(!0)):(_n("neuler-connected","missing-dependency",{library:"gds"}),e.didNotFindPlugin("gds"),l(!0)),m(a))}),function(){return t=!1}},["gds"]),o?u?i.a.createElement("div",{className:"loading-container"},i.a.createElement(Hn.a,{color:"grey",attached:!0,header:"GDS Library Installed"}),i.a.createElement(Hn.a,{color:"grey",attached:!0,align:"center",className:"loading-message"},i.a.createElement(Hn.a.Content,null,i.a.createElement("p",null,"The GDS Library is installed on this Neo4j Server. Proceeding to the next step.")))):i.a.createElement("div",{className:"loading-container"},i.a.createElement(Hn.a,{color:"grey",attached:!0,header:"Graph Data Science Library Missing"}),e.desktop?i.a.createElement(nr,null):i.a.createElement(rr,null)):i.a.createElement("div",{className:"loading-container"},i.a.createElement(Hn.a,{color:"grey",attached:!0,header:"Checking GDS Library Installation"}),i.a.createElement(x.a,{attached:!0},"We are checking whether the library is installed by running the following query:",i.a.createElement("pre",null,Gn,";")))},or=a(284),lr=a.n(or),sr=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(A.a,{className:"attached fluid segment"},i.a.createElement("div",{align:"center",className:"attached fluid segment"},i.a.createElement(Vn.a,{src:tr("images/apoc-plugin.png")}))),i.a.createElement(Hn.a,{color:"grey",attached:!0,align:"center",className:"loading-message"},i.a.createElement(Hn.a.Content,null,i.a.createElement("p",null,"This application relies on the APOC Library.",i.a.createElement("br",null),"You can install it via the 'Plugins' tab of your database."))))},cr=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Hn.a,{color:"grey",attached:!0,align:"center",className:"loading-message"},i.a.createElement(Hn.a.Content,null,i.a.createElement("p",null,"This application relies on the APOC Library.",i.a.createElement("br",null),"You can find installation instructions at ",i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://neo4j.com/labs/apoc/4.1/installation/"},"neo4j.com/labs/apoc/4.1/installation")))))},ur=function(){var e="dbms.security.procedures.unrestricted=,jwt.security.*,gds.*,apoc.*";return i.a.createElement(i.a.Fragment,null,i.a.createElement(Hn.a,{color:"grey",attached:!0,align:"center"},i.a.createElement(Hn.a.Content,null,i.a.createElement("p",null,"This application uses the ",i.a.createElement("i",null,"apoc.meta.schema")," procedure, which is currently unavailable because it is sandboxed and has dependencies outside of the sandbox. Sandboxing is controlled by the ",i.a.createElement("i",null,"dbms.security.procedures.unrestricted setting"),"."),i.a.createElement("p",null,"You can add the following entry to your Neo4j configuration file to allow access:"),i.a.createElement(Hn.a,null,i.a.createElement("pre",null,e),i.a.createElement(lr.a,{onSuccess:function(e){e.trigger.textContent="Copied",setTimeout(function(){e.trigger.textContent="Copy"},2e3)},"button-className":"code","data-clipboard-text":e},"Copy")))))},mr=function(e){var t=Object(r.useState)(!1),a=Object(n.a)(t,2),o=a[0],l=a[1],s=Object(r.useState)(!1),c=Object(n.a)(s,2),u=c[0],m=c[1],d=Object(r.useState)(!1),p=Object(n.a)(d,2),h=p[0],g=p[1];return i.a.useEffect(function(){var t=!0;return re(Wn).then(function(e){return zn(e)}).catch($n).then(function(a){t&&(a?(m(!0),re(Bn).then(function(e){return!0}).catch(function(e){return!1}).then(function(a){t&&(a?e.apocInstalled():(_n("neuler-connected","missing-dependency",{library:"apoc",description:"apoc.meta.nodeTypeProperties is unavailable"}),e.didNotFindPlugin("apoc")),l(!0),g(a))})):(_n("neuler-connected","missing-dependency",{library:"apoc"}),e.didNotFindPlugin("apoc"),m(!1),l(!0)))}),function(){return t=!1}},["apoc"]),o?u?h?i.a.createElement("div",{className:"loading-container"},i.a.createElement(Hn.a,{color:"grey",attached:!0,header:"APOC Library Installed"}),i.a.createElement(Hn.a,{color:"grey",attached:!0,align:"center",className:"loading-message"},i.a.createElement(Hn.a.Content,null,i.a.createElement("p",null,"The APOC Library is installed on this Neo4j Server. Proceeding to the next step.")))):i.a.createElement("div",{className:"loading-container"},i.a.createElement(Hn.a,{color:"grey",attached:!0,header:"APOC Metadata Procedure Unavailable"}),i.a.createElement(ur,null)):i.a.createElement("div",{className:"loading-container"},i.a.createElement(Hn.a,{color:"grey",attached:!0,header:"APOC Library Missing"}),e.desktop?i.a.createElement(sr,null):i.a.createElement(cr,null),i.a.createElement(x.a,{attached:!0},"We check whether the library is installed by running the following queries:",i.a.createElement("pre",null,Wn,";"),i.a.createElement("pre",null,Bn,";"))):i.a.createElement("div",{className:"loading-container"},i.a.createElement(Hn.a,{color:"grey",attached:!0,header:"Checking APOC Library Installation"}),i.a.createElement(x.a,{attached:!0},"We are checking whether the library is installed by running the following queries:",i.a.createElement("pre",null,Wn,";"),i.a.createElement("pre",null,Bn,";")))},dr=function(e){return ae(e)>=4?ie("SHOW DATABASES").then(br).catch(vr):Promise.resolve([{name:"neo4j",default:!0}])},pr=function(e){return dr(e).then(function(e){return re("CALL db.labels()",{}).then(hr).catch(vr).then(function(t){return re("CALL db.relationshipTypes() \nYIELD relationshipType\nRETURN relationshipType\nORDER BY relationshipType",{}).then(gr).catch(vr).then(function(a){return re("call db.propertyKeys()\nYIELD propertyKey\nRETURN propertyKey\nORDER BY propertyKey",{}).then(fr).catch(vr).then(function(n){return re('CALL apoc.meta.schema({maxRels: 0})\n  YIELD value\n  UNWIND keys(value) AS key\n  WITH key, value \n  WHERE value[key].type = "relationship"\n  UNWIND keys(value[key].properties) AS propertyKey\n  RETURN distinct propertyKey\n  ORDER BY propertyKey\n  ',{}).then(fr).catch(vr).then(function(r){return re('CALL apoc.meta.schema({maxRels: 0})\nYIELD value\nUNWIND keys(value) AS key\nWITH key, value \nWHERE value[key].type = "node"\nRETURN key AS label, keys(value[key].properties) AS propertyKeys',{}).then(yr).catch(vr).then(function(i){return{labels:t,relationships:a,propertyKeys:n,nodePropertyKeys:i,databases:e,relPropertyKeys:r}})})})})})})},hr=function(e){if(e.records)return e.records.map(function(e){return{label:e.get("label")}});throw console.error(e.error),new Error(e.error)},gr=function(e){if(e.records)return e.records.map(function(e){return{label:e.get("relationshipType")}});throw console.error(e.error),new Error(e.error)},yr=function(e){if(e.records)return e.records.reduce(function(e,t){return e[t.get("label")]=t.get("propertyKeys"),e},{});throw console.error(e.error),new Error(e.error)},fr=function(e){if(e.records)return e.records.map(function(e){return{propertyKey:e.get("propertyKey")}});throw console.error(e.error),new Error(e.error)},Er=function(e){if(e.records){var t=e.records[0];return{gdsVersion:t.get("gdsVersion"),neo4jVersion:t.get("neo4jVersion")}}throw console.error(e.error),new Error(e.error)},br=function(e){if(e.records)return e.records.filter(function(e){return"system"!==e.get("name")}).map(function(e){return{name:e.get("name"),default:e.get("default")}});throw console.error(e.error),new Error(e.error)},vr=function(e){throw console.error(e),new Error(e)},Cr=["connect-server","gds","apoc","select-database","all-done"],wr=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return re("CALL dbms.components() \nYIELD versions\nUNWIND versions as version \nRETURN version AS neo4jVersion, gds.version() AS gdsVersion\nLIMIT 1",{}).then(Er).catch(vr).then(function(n){return t&&_n("neuler-connected",!0,n),e.setGds(n),Z(n.neo4jVersion),pr(n.neo4jVersion).then(function(t){return Or(e,t,e.metadata.activeDatabase||"neo4j"),a(n),Promise.resolve(t)})})},Or=function(e,t,a){e.setLabels(t.labels),e.setRelationshipTypes(t.relationships),e.setPropertyKeys(t.propertyKeys),e.setRelPropertyKeys(t.relPropertyKeys),e.setNodePropertyKeys(t.nodePropertyKeys),e.setDatabases(t.databases),t.databases.forEach(function(t){e.addDatabase(t.name)}),t.labels.forEach(function(n){e.initLabel(a,n.label,Xt[Math.floor(50*Math.random())],function(e){if(!e)return[];var t=["name","title","id","value"].filter(function(t){return e.includes(t)})||e[Math.floor(Math.random()*e.length)];return t.length>0?t:[e[Math.floor(Math.random()*e.length)]]}(t.nodePropertyKeys[n.label]))})},Nr=function(e){var t=e.if,a=e.children;return t?i.a.Children.only(a):null},Ir={scheme:"neo4j",port:7687,address:"localhost"},Pr=[{key:"neo4j",value:"neo4j",text:"neo4j"},{key:"neo4j+s",value:"neo4j+s",text:"neo4j+s"},{key:"neo4j+ssc",value:"neo4j+ssc",text:"neo4j+ssc"},{key:"bolt",value:"bolt",text:"bolt"},{key:"bolt+s",value:"bolt+s",text:"bolt+s"},{key:"bolt+ssc",value:"bolt+ssc",text:"bolt+ssc"}],Tr=function(e){if(!e)return Ir;var t=e.split("://"),a=Object(n.a)(t,2),r=a[0],i=a[1];if(!r)return Ir;Pr.map(function(e){return e.key}).includes(r)||(r="neo4j"),i||(i="localhost:7687");var o=i.split(":");return o.length>1?{scheme:r,port:parseInt(o[o.length-1]),address:o[0]}:{scheme:r,address:o[0],port:7687}},Sr=function(e){var t=e.errorMsg,a=e.extraErrorMessage,r=e.clearErrorMessages,o=i.a.useState("neo4j"),l=Object(n.a)(o,2),s=l[0],c=l[1],u=i.a.useState(""),m=Object(n.a)(u,2),d=m[0],p=m[1],h=i.a.useState("neo4j"),g=Object(n.a)(h,2),y=g[0],f=g[1],E=i.a.useState("localhost"),b=Object(n.a)(E,2),v=b[0],C=b[1],w=i.a.useState(7687),O=Object(n.a)(w,2),N=O[0],I=O[1],P=i.a.useState(!1),T=Object(n.a)(P,2),S=T[0],L=T[1],k=i.a.useState("neo4j://localhost:7687"),R=Object(n.a)(k,2),x=R[0],F=R[1],M=function(){var t=S?x:"".concat(y,"://").concat(v,":").concat(N),a=t.split("://"),r=Object(n.a)(a,1)[0];Pr.map(function(e){return e.key}).includes(r)?e.onSubmit(t,s,d):(e.hasError(),e.setErrorMessage("Could not get a connection! Unknown scheme: "+r+". "),e.setExtraErrorMessage("Valid schemes are: "+Pr.map(function(e){return e.key})))};return i.a.useEffect(function(){c(e.queryParameters.username||"neo4j"),p(e.queryParameters.accessToken||"");var t=Tr(e.queryParameters.url),a=t.scheme,n=t.port,r=t.address;f(a),I(n),C(r)},[e.queryParameters]),i.a.createElement("div",{className:"loading-container"},i.a.createElement(Hn.a,{color:"grey",attached:!0,header:"Connect to Neo4j Server"}),i.a.createElement(A.a,{error:!!t,onSubmit:M,className:"attached fluid segment"},i.a.createElement(A.a.Field,null,i.a.createElement("label",null,"Server Address"),i.a.createElement(A.a.Field,{inline:!0},!S&&i.a.createElement(i.a.Fragment,null,i.a.createElement(D.a,{style:{minWidth:"7em"},selection:!0,search:!0,value:y,options:Pr,onChange:function(e,t){var a=t.value;r(),f(a)},onClick:r}),i.a.createElement("p",{style:{margin:"0 .85714286em 0 0"}},"://"),i.a.createElement(j.a,{style:{margin:"0 .85714286em 0 0"},value:v,name:"address",onChange:function(e,t){var a=t.value;r(),C(a)},onClick:r,placeholder:"Server Address"}),i.a.createElement("p",{style:{margin:"0 .85714286em 0 0"}},":"),i.a.createElement(j.a,{style:{width:"7em",minWidth:"7em",marginRight:"1em"},value:N,type:"number",name:"port",onChange:function(e,t){var a=t.value;I(a),r()},onClick:r,placeholder:"Port"})),S&&i.a.createElement(j.a,{style:{width:"31.45rem"},value:x,name:"boltUri",onChange:function(e,t){var a=t.value;r(),F(a)},onClick:r,placeholder:"Bolt URI"}),i.a.createElement("div",{className:"ui input"},i.a.createElement("a",{href:"#",onClick:function(){r(),L(!S),S?function(){var e=Tr(x);f(e.scheme),I(e.port),C(e.address)}():F("".concat(y,"://").concat(v,":").concat(N))}},S?"Structured":"Raw")))),i.a.createElement(A.a.Field,null,i.a.createElement("label",null,"Username"),i.a.createElement(j.a,{value:s,name:"username",onChange:function(e,t){var a=t.value;r(),c(a)},onClick:r,placeholder:"Username"})),i.a.createElement(A.a.Field,null,i.a.createElement("label",null,"Password"),i.a.createElement(j.a,{value:d,name:"password",onChange:function(e,t){var a=t.value;r(),p(a)},onClick:r,type:"password",placeholder:"Password"})),i.a.createElement(Nr,{if:t},i.a.createElement(Hn.a,{error:!0},i.a.createElement(Hn.a.Header,null,"Error connecting to ",y,"://",v,":",N),i.a.createElement(Hn.a.Content,null,t),i.a.createElement(B.a,null),i.a.createElement(Hn.a.Content,{style:{fontStyle:"italic"}},i.a.createElement("p",null,a)))),i.a.createElement(B.a,null),i.a.createElement(Kn.a,{onClick:function(){r(),M()},positive:!0,icon:"right arrow",labelPosition:"right",content:"Connect"})))},Lr=function(e){var t=i.a.useState(!0),a=Object(n.a)(t,2),r=a[0],o=a[1],l=!r&&e.errorMsg;return i.a.createElement(Sr,{onSubmit:function(t,a,n){o(!1),e.onSubmit(t,a,n)},hasError:function(){return o(!1)},setErrorMessage:e.setErrorMessage,queryParameters:e.queryParameters,errorMsg:l,extraErrorMessage:e.extraErrorMessage,setExtraErrorMessage:e.setExtraErrorMessage,clearErrorMessages:e.clearErrorMessages})},kr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)return null;var t=e.projects;return Array.isArray(t)&&t.find(function(e){return!!e&&(!(!e.graphs||!Array.isArray(e.graphs))&&e.graphs.find(function(e){return"ACTIVE"===e.status}))})||null},Rr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=kr(e);return t?t.graphs.find(function(e){return"ACTIVE"===e.status}):null},Ar=function(e,t){var a=Rr(t);return a&&"undefined"!==typeof a.connection&&function(e,t){if(!t)return null;var a=t.configuration,n=void 0===a?null:a;return n&&n.constructor&&n.constructor===Object&&n.protocols&&n.protocols.constructor&&n.protocols.constructor===Object?"undefined"===typeof n.protocols[e]?null:n.protocols[e]:null}(e,a.connection)||null},jr=function(e){var t=Ar("bolt",e);return t?{host:t.url||"bolt://".concat(t.host,":").concat(t.port),encrypted:"REQUIRED"===t.tlsLevel,username:t.username,password:t.password}:null},Dr=function(e,t,a){e&&e.getContext&&(e.getContext().then(function(e){var n=jr(e),r=kr(e),i=Rr(e);n?t(n,{name:r.name,id:r.id},{name:i.name,id:i.id,description:i.description}):a()}).catch(function(e){}),e.onContextUpdate(function(e,n,r){switch(e.type){case"GRAPH_ACTIVE":var i=jr(n),o=kr(n),l=Rr(n);i?t(i,{name:o.name,id:o.id},{name:l.name,id:l.id,description:l.description}):a();break;case"GRAPH_INACTIVE":a()}}))},xr=function(e){return X(e).then(function(e){return ae(e)<4?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Y().session().run(e,t)}("RETURN 1"):ie("show databases")})},Fr=Object(E.b)(function(e){return{metadata:e.metadata}})(function(e){var t=e.metadata,a=e.onRefresh;return i.a.createElement("div",null,i.a.createElement(Hn.a,{color:"grey",style:{color:"#000000"}},i.a.createElement(Hn.a.Header,null,"Database Contents"),i.a.createElement(Hn.a.Content,null,i.a.createElement(ke.a,{basic:"very",celled:!0,collapsing:!0},i.a.createElement(ke.a.Body,null,i.a.createElement(ke.a.Row,null,i.a.createElement(ke.a.Cell,{style:{width:"150px"}},"Node Labels"),i.a.createElement(ke.a.Cell,{style:{display:"flex",flexWrap:"wrap"}},t.labels.map(function(e){return i.a.createElement(ea,{key:e.label,database:t.activeDatabase,labels:[e.label],caption:e.label})}))),i.a.createElement(ke.a.Row,null,i.a.createElement(ke.a.Cell,{style:{width:"150px"}},"Relationship Types"),i.a.createElement(ke.a.Cell,null,t.relationshipTypes.map(function(e){return i.a.createElement("span",{style:{background:"#ccc"},key:e.label,className:"label"},e.label)}))))),i.a.createElement(Kn.a,{size:"tiny",className:"code",onClick:function(e,t){var n=e.target;n.textContent="Refreshing",setTimeout(function(){n.textContent="Refresh"},2e3),a()}},"Refresh"))))}),Mr=function(e){var t=e.labels.length>0,a=e.relationshipTypes.length>0;return t||a?t?a?null:"relationships":"nodes":"nodes or relationships"},Hr=Object(E.b)(function(e){return{metadata:e.metadata}})(function(e){var t=e.metadata,a=e.setDatasetsActive;return i.a.createElement("div",null,i.a.createElement(Hn.a,{color:"purple"},i.a.createElement(Hn.a.Header,null,"Missing: ",Mr(t),"."),i.a.createElement(Hn.a.Content,null,i.a.createElement("div",null,i.a.createElement("p",null,"This database does not contain any ",Mr(t),". You need to load some data, otherwise the graph algorithms won't return any results."),i.a.createElement("p",null,"If you don't have any data, you can load one of the sample graphs."),i.a.createElement(Kn.a,{primary:!0,onClick:function(){return a(!0)}},"View Sample Graphs")))))}),Kr=function(e){return e.labels.length>0&&e.relationshipTypes.length>0},Vr=Object(E.b)(function(e){return{metadata:e.metadata,labels:e.metadata.allLabels,connectionInfo:e.connections}},function(e){return{setActiveDatabase:function(t){return e(Gt(t))},setDatabases:function(t){return e(Bt(t))},setLabels:function(t){return e(Ft(t))},setRelationshipTypes:function(t){return e(Mt(t))},setPropertyKeys:function(t){return e(Ht(t))},setRelPropertyKeys:function(t){return e(Vt(t))},setNodePropertyKeys:function(t){return e(Kt(t))},addDatabase:function(t){return e($t(t))},initLabel:function(t,a,n,r){return e(zt(t,a,n,r))}}})(function(e){var t=e.setActiveDatabase,a=e.metadata,r=i.a.useState(!0),o=Object(n.a)(r,2),l=o[0],s=o[1],c=function(t){s(!1),pr(e.metadata.versions.neo4jVersion).then(function(a){Or(e,a,t),s(!0)})},u=e.connectionInfo.credentials,m=a.databases.map(function(e){return{key:e.name,value:e.name,text:e.name+(e.default?" (default)":"")}});return i.a.createElement("div",{style:{padding:"1em"}},i.a.createElement(h.a,{fluid:!0},i.a.createElement(M,{title:"Database Connection"},i.a.createElement(Jn.a,{className:"connection update"},i.a.createElement(Jn.a.Item,{className:"connection-item update"},i.a.createElement("label",null,"Username"),i.a.createElement("span",null,u.username)),i.a.createElement(Jn.a.Item,{className:"connection-item update"},i.a.createElement("label",null,"Server"),i.a.createElement("span",null,u.host)),i.a.createElement(Jn.a.Item,{className:"connection-item update"},i.a.createElement("label",null,"Database"),i.a.createElement(D.a,{compact:!0,value:a.activeDatabase,placeholder:"Database",search:!0,selection:!0,style:{width:"290px"},options:m,onChange:function(e,a){a.value!==q()&&(t(a.value),ee(a.value),c(a.value))}}),J()?i.a.createElement(Kn.a,{icon:!0,style:{marginLeft:"10px"},onClick:function(){c(e.metadata.activeDatabase)}},"Refresh databases"):null)),i.a.createElement("div",{style:{paddingTop:"10px"}},l?Kr(e.metadata)?i.a.createElement(Fr,{onRefresh:function(){return c(e.metadata.activeDatabase)}}):i.a.createElement(Hr,{setDatasetsActive:e.setDatasetsActive}):i.a.createElement(Hn.a,null,i.a.createElement(Hn.a.Header,null,"Refreshing"),i.a.createElement(Hn.a.Content,null,i.a.createElement(p.a,{active:!0,inline:!0,style:{padding:"5px 0"}})))))))});function Wr(){Wr=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,a){return e[t]=a}}function c(e,t,a,r){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),l=new I(r||[]);return n(o,"_invoke",{value:C(e,a,l)}),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=c;var m={};function d(){}function p(){}function h(){}var g={};s(g,i,function(){return this});var y=Object.getPrototypeOf,f=y&&y(y(P([])));f&&f!==t&&a.call(f,i)&&(g=f);var E=h.prototype=d.prototype=Object.create(g);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;n(this,"_invoke",{value:function(n,i){function o(){return new t(function(r,o){!function n(r,i,o,l){var s=u(e[r],e,i);if("throw"!==s.type){var c=s.arg,m=c.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){n("next",e,o,l)},function(e){n("throw",e,o,l)}):t.resolve(m).then(function(e){c.value=e,o(c)},function(e){return n("throw",e,o,l)})}l(s.arg)}(n,i,r,o)})}return r=r?r.then(o,o):o()}})}function C(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return T()}for(a.method=r,a.arg=i;;){var o=a.delegate;if(o){var l=w(o,a);if(l){if(l===m)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var s=u(e,t,a);if("normal"===s.type){if(n=a.done?"completed":"suspendedYield",s.arg===m)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(n="completed",a.method="throw",a.arg=s.arg)}}}function w(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),m;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,n(E,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=s(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},b(v.prototype),s(v.prototype,o,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var o=new v(c(t,a,n,r),i);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(E),s(E,l,"Generator"),s(E,i,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=P,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return o.type="throw",o.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;N(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:P(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}var Br=function(e){var t=e.connectionStatus,a=e.isNeo4jDesktop,n=e.currentStep,r=e.setCurrentStep,o=e.setCurrentStepFailed,l=e.setConnected,s=e.setDisconnected,c=e.setCurrentStepInProgress,u=e.queryParameters,m=e.prepareMetadata,d=i.a.createElement(p.a,{size:"massive"},"Checking plugin is installed"),h=function(){o(!0)};switch(n){case"connect-server":return i.a.createElement($r,{connectionStatus:t,setCurrentStep:r,setCurrentStepFailed:o,setCurrentStepInProgress:c,setConnected:l,setDisconnected:s,queryParameters:u,prepareMetadata:m});case"gds":return i.a.createElement(ir,{didNotFindPlugin:h,desktop:a,gdsInstalled:function(){r("apoc"),o(!1)}},d);case"apoc":return i.a.createElement(mr,{didNotFindPlugin:h,desktop:a,apocInstalled:function(){r("select-database"),o(!1)}},d);case"select-database":return i.a.createElement(Gr,{currentStep:n,setCurrentStep:r,setCurrentStepFailed:o});case"all-done":return i.a.createElement("div",{className:"loading-container"},i.a.createElement(Hn.a,{color:"grey",attached:!0,header:"Neuler ready to launch",content:"Connected to database and all dependencies found. Neuler will launch shortly"}));default:return i.a.createElement(Hn.a,null,"Unknown State")}},Gr=Object(E.b)(function(e){return{metadata:e.metadata,labels:e.metadata.allLabels}},function(e){return{selectGroup:function(t,a){return e(Nn(t,a))},selectAlgorithm:function(t){return e(In(t))},setActiveDatabase:function(t){return e(Gt(t))},setDatabases:function(t){return e(Bt(t))},setLabels:function(t){return e(Ft(t))},setGds:function(t){return e(Wt(t))},setRelationshipTypes:function(t){return e(Mt(t))},setPropertyKeys:function(t){return e(Ht(t))},setRelPropertyKeys:function(t){return e(Vt(t))},setNodePropertyKeys:function(t){return e(Kt(t))},addDatabase:function(t){return e($t(t))},initLabel:function(t,a,n,r){return e(zt(t,a,n,r))}}})(function(e){var t=e.setActiveDatabase,a=e.setCurrentStep,r=e.setCurrentStepFailed,o=i.a.useState([]),l=Object(n.a)(o,2),s=l[0],c=l[1],u=i.a.useState(null),m=Object(n.a)(u,2),d=m[0],h=m[1],g=i.a.useState(!1),y=Object(n.a)(g,2),f=y[0],E=y[1],b=i.a.useState(!1),v=Object(n.a)(b,2),C=v[0],w=v[1],O=i.a.useState(null),N=Object(n.a)(O,2),I=N[0],P=N[1];i.a.useEffect(function(){dr(_()).then(function(e){if(c(e),E(!0),1===e.length&&h(e[0].name),e.length>1){var t=e.find(function(e){return e.default});t&&h(t.name)}})},[]),i.a.useEffect(function(){!function(){var t=Object(Mn.a)(Wr().mark(function t(){return Wr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr(e,!0,function(t){w(!0),e.selectGroup("Centralities",t.gdsVersion),e.selectAlgorithm("Degree")});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()()},[e.connectionInfo]);var T=s.map(function(e){return{key:e.name,value:e.name,text:e.name+(e.default?" (default)":"")}}),S=function(){d?(t(d),ee(d),a("all-done")):(P("No database selected. Pick a database to connect to from the dropdown above."),r(!0))},L=function(t){w(!1),pr(e.metadata.versions.neo4jVersion).then(function(a){Or(e,a,t||d),w(!0)})};return i.a.createElement("div",{className:"loading-container"},i.a.createElement(Hn.a,{color:"grey",attached:!0,header:"Select database"}),i.a.createElement(A.a,{error:!!I,className:"attached fluid segment",onSubmit:S},T.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement(D.a,{placeholder:"Database",fluid:!0,search:!0,selection:!0,value:d,style:{width:"290px"},options:T,onChange:function(e,a){a.value!==q()&&(P(null),h(a.value),t(a.value),ee(a.value),L(a.value))}}),i.a.createElement(Nr,{if:I},i.a.createElement(Hn.a,{error:!0},i.a.createElement(Hn.a.Header,null,"No database selected"),i.a.createElement(Hn.a.Content,null,I))),i.a.createElement(B.a,null),C?Kr(e.metadata)?i.a.createElement("div",{className:"startup-selectDatabase"},i.a.createElement(Fr,{onRefresh:function(){return L()}})):i.a.createElement(Hn.a,{color:"purple"},i.a.createElement(Hn.a.Header,null,"Missing nodes or relationships"),i.a.createElement(Hn.a.Content,null,i.a.createElement("div",null,i.a.createElement("p",null,"This database does not contain nodes or relationships."),i.a.createElement("p",null,"You can import sample datasets once you launch the application.")))):i.a.createElement(Hn.a,null,i.a.createElement(Hn.a.Header,null,"Refreshing"),i.a.createElement(Hn.a.Content,null,i.a.createElement(p.a,{active:!0,inline:!0,style:{padding:"5px 0"}}))),i.a.createElement(Kn.a,{positive:!0,disabled:!C,icon:"right arrow",labelPosition:"right",content:"Select database",onClick:S})),f&&0===T.length&&i.a.createElement(Hn.a,null,i.a.createElement(Hn.a.Header,null,"No databases available"),i.a.createElement(Hn.a.Content,null,"The selected user does not have permissions to access any databases on this server")),!f&&i.a.createElement(p.a,{active:!0,inline:"centered"},"Loading")))}),$r=Object(E.b)(function(){return{}},function(e){return{setActiveDatabase:function(t){return e(Gt(t))}}})(function(e){var t=e.connectionStatus,a=e.setCurrentStep,r=e.setConnected,o=e.setDisconnected,l=e.setCurrentStepFailed,s=e.setCurrentStepInProgress,c=e.queryParameters,u=e.setActiveDatabase,m=(e.prepareMetadata,i.a.useState(null)),d=Object(n.a)(m,2),p=d[0],h=d[1],g=i.a.useState(null),y=Object(n.a)(g,2),f=y[0],E=y[1],b=i.a.createElement("div",{className:"loading-container"},i.a.createElement(Hn.a,{color:"grey",attached:!0,header:"Trying to connect",content:"Trying to connect to active database. This should only take a few seconds. If it takes longer than that, check that you have a running database."}));switch(t){case"INITIAL":case"DISCONNECTED":return i.a.createElement(Lr,{key:"modal",errorMsg:p,extraErrorMessage:f,setErrorMessage:h,setExtraErrorMessage:E,clearErrorMessages:function(){h(null),E(null)},queryParameters:c,onSubmit:function(e,t,n){s(!0),h(null),E(null);var i={host:e,username:t,password:n};xr(i).then(function(){return r(i),dr(_())}).then(function(e){if(0===e.length)l(!0);else{if(1===e.length)ee(e[0].name),u(e[0].name);else{var t=e.find(function(e){return e.default});if(t)ee(t.name),u(t.name);else{var n=e[Math.floor(Math.random()*e.length)];ee(n),u(n)}}a("gds"),l(!1)}}).catch(function(e){s(!1),l(!0),o(),h("Could not get a connection! Check that you entered the correct credentials and that the database is running."),E(e.message)})},show:!0});case"CONNECTING":default:return b}}),zr=function(e){var t=e.steps,a=e.step,n=e.currentStep,r=e.currentStepFailed,o=t.indexOf(n),l=t.indexOf(a);return a===n?r?i.a.createElement(qn.a,{size:"big",name:"close",color:"red",className:"loading-icon"}):i.a.createElement(p.a,{active:!0,inline:!0,className:"loading-icon",size:"large"}):l>o?i.a.createElement(qn.a,{size:"big",name:"question circle",color:"grey",className:"loading-icon"}):i.a.createElement(qn.a,{size:"big",name:"checkmark",color:"green",className:"loading-icon"})},Ur=function(e){var t=e.steps,a=e.step,n=e.currentStep,r=e.currentStepFailed,o=e.currentStepInProgress,l=t.indexOf(n),s=t.indexOf(a);return a===n?o?i.a.createElement(p.a,{active:!0,inline:!0,className:"loading-icon",size:"large"}):r?i.a.createElement(qn.a,{size:"big",name:"close",color:"red",className:"loading-icon"}):i.a.createElement(qn.a,{size:"big",name:"keyboard",color:"red",className:"loading-icon"}):s>l?i.a.createElement(qn.a,{size:"big",name:"question circle",color:"grey",className:"loading-icon"}):i.a.createElement(qn.a,{size:"big",name:"checkmark",color:"green",className:"loading-icon"})},Qr=a(603),Yr=a(1014),_r={4:{"Game of Thrones":{name:"Game of Thrones",author:"Andrew Beveridge",authorLink:"https://networkofthrones.wordpress.com/",description:"A dataset containing interactions between the characters across the first 7 seasons of the popular TV show.",queries:["CREATE CONSTRAINT ON (c:Character) ASSERT c.id IS UNIQUE",'UNWIND range(1,7) AS season\nLOAD CSV WITH HEADERS FROM "https://github.com/neo4j-apps/neuler/raw/master/sample-data/got/got-s" + season + "-nodes.csv" AS row\nMERGE (c:Character {id: row.Id})\nON CREATE SET c.name = row.Label','UNWIND range(1,7) AS season\nLOAD CSV WITH HEADERS FROM "https://github.com/neo4j-apps/neuler/raw/master/sample-data/got/got-s" + season + "-edges.csv" AS row\nMATCH (source:Character {id: row.Source})\nMATCH (target:Character {id: row.Target})\nCALL apoc.merge.relationship(source, "INTERACTS_SEASON" + season, {}, {}, target) YIELD rel\nSET rel.weight = toInteger(row.Weight)'],algorithms:[{name:"Page Rank",category:"Centralities",description:"Find the most influential characters in Westeros and elsewhere."},{name:"Shortest Path",category:"Path Finding",description:"Who can introduce Jon to Daenerys? Or Sansa to Drogo?"}]},"European Roads":{name:"European Roads",author:"Lasse Westh-Nielsen",authorLink:"http://lassewesth.blogspot.com/2018/07/the-international-e-road-network-and.html",description:"A dataset containing European Roads.",queries:["CREATE CONSTRAINT ON (p:Place) ASSERT p.name IS UNIQUE",'USING PERIODIC COMMIT 1000\nLOAD CSV WITH HEADERS FROM "https://github.com/neo4j-apps/neuler/raw/master/sample-data/eroads/roads.csv"\nAS row\n\nMERGE (origin:Place {name: row.origin_reference_place})\nSET origin.countryCode = row.origin_country_code\n\nMERGE (destination:Place {name: row.destination_reference_place})\nSET destination.countryCode = row.destination_country_code\n\nMERGE (origin)-[eroad:EROAD {road_number: row.road_number}]->(destination)\nSET eroad.distance = toInteger(row.distance), eroad.watercrossing = row.watercrossing'],algorithms:[{name:"Degree",category:"Centralities",description:"Find the most connected cities on the continent."},{name:"All Pairs Shortest Path",category:"Path Finding",description:"What's the quickest route between the different European cities."}]},Twitter:{name:"Twitter",author:"Mark Needham",authorLink:"https://markhneedham.com/blog/",description:"A dataset containing Twitter followers of the graph community",queries:["CREATE CONSTRAINT ON(u:User) ASSERT u.id IS unique",'CALL apoc.load.json("https://github.com/neo4j-apps/neuler/raw/master/sample-data/twitter/users.json")\nYIELD value\nMERGE (u:User {id: value.user.id })\nSET u += value.user\nFOREACH (following IN value.following |\n  MERGE (f1:User {id: following})\n  MERGE (u)-[:FOLLOWS]->(f1))\nFOREACH (follower IN value.followers |\n  MERGE(f2:User {id: follower})\n  MERGE (u)<-[:FOLLOWS]-(f2));'],algorithms:[{name:"Page Rank",category:"Centralities",description:"Find the most influential accounts in the Neo4j twittersphere."},{name:"Strongly Connected Components",category:"Community Detection",description:"Find groups of people that follow each other."}]},Recipes:{name:"Recipes",author:"DBpedia",authorLink:"https://wiki.dbpedia.org/",description:"A dataset containing recipes and their ingredients.",queries:["CREATE CONSTRAINT ON (r:Recipe) ASSERT r.name IS UNIQUE","CREATE CONSTRAINT ON (i:Ingredient) ASSERT i.name IS UNIQUE","USING PERIODIC COMMIT 1000\nLOAD CSV WITH HEADERS FROM \"https://github.com/neo4j-apps/neuler/raw/master/sample-data/recipes/recipes.csv\"\nAS row\nMERGE (r:Recipe{name:row.recipe})\nWITH r,row.ingredients as ingredients\nUNWIND split(ingredients,',') as ingredient\nMERGE (i:Ingredient{name:ingredient})\nMERGE (r)-[:CONTAINS_INGREDIENT]->(i)"],algorithms:[{name:"Degree",category:"Centralities",description:"Find the most used ingredients or most diverse recipes."},{name:"Node Similarity",category:"Similarity",description:"Find the most similar recipes."}]},FIFA:{name:"FIFA",author:"Aman Shrivastava",authorLink:"https://github.com/4m4n5",description:"A dataset of FIFA players and their rankings.",queries:["CREATE CONSTRAINT ON (p:Player) ASSERT p.name IS UNIQUE",'USING PERIODIC COMMIT 500\nload csv with headers from "https://github.com/4m4n5/fifa18-all-player-statistics/raw/master/2019/data.csv" AS row\nMERGE (p:Player {name: row.Name})\nSET p.club = row.Club,\n\n    p.crossing = toInteger(row.Crossing),\n    p.finishing = toInteger(row.Finishing),\n    p.headingAccuracy = toInteger(row.`HeadingAccuracy`),\n    p.shortPassing = toInteger(row.`ShortPassing`),\n    p.volleys = toInteger(row.`Volleys`),\n    \n    p.dribbling = toInteger(row.`Dribbling`),\n    p.curve = toInteger(row.`Curve`),\n    p.fkAccuracy = toInteger(row.`FK Accuracy`),\n    p.longPassing = toInteger(row.`LongPassing`),\n    p.ballControl = toInteger(row.`BallControl`),\n    \n    p.acceleration = toInteger(row.`Acceleration`),\n    p.sprintSpeed = toInteger(row.`SprintSpeed`),\n    p.agility = toInteger(row.`Agility`),\n    p.reactions = toInteger(row.`Reactions`),\n    p.balance = toInteger(row.`Balance`),\n    \n    p.shotPower = toInteger(row.`ShotPower`),\n    p.jumping = toInteger(row.`Jumping`),\n    p.stamina = toInteger(row.`Stamina`),\n    p.strength = toInteger(row.`Strength`),\n    p.longShots = toInteger(row.`LongShots`),\n    \n    p.standingTackle = toInteger(row.`StandingTackle`),\n    p.positioning = toInteger(row.`Positioning`),\n    p.penalties = toInteger(row.`Penalties`),\n    p.aggression = toInteger(row.`Aggression`),\n    p.composure = toInteger(row.`Composure`),\n    p.vision = toInteger(row.`Vision`),\n    p.marking = toInteger(row.`Marking`),\n    p.slidingTackle = toInteger(row.`SlidingTackle`),\n    p.crossing = toInteger(row.`Crossing`),\n    \n    p.gkHandling = toInteger(row.`GKHandling`),\n    p.gkPositioning = toInteger(row.`GKPositioning`),\n    p.gkReflexes = toInteger(row.`GKReflexes`),\n    p.gkDiving = toInteger(row.`GKDiving`),\n    p.gkKicking = toInteger(row.`GKKicking`),\n\n    p.overall = toInteger(row.`Overall`),\n    \n    p.position = row.`Position`,\n    p.value = row.`Value`','MATCH (p:Player)\nSET p.embedding = [key in keys(p) \n                   WHERE not(key IN ["name", "position", "value", "overall"]) \n                   AND apoc.meta.cypher.type(p[key]) = "INTEGER"\n                   | p[key] * 1.0]',"match (p:Player)\nWHERE size(p.embedding) = 0\nDELETE p"],algorithms:[{name:"K-Nearest Neighbors",category:"Similarity",description:"Find similar pairs of players based on node properties."}]}},5:{"Game of Thrones":{name:"Game of Thrones",author:"Andrew Beveridge",authorLink:"https://networkofthrones.wordpress.com/",description:"A dataset containing interactions between the characters across the first 7 seasons of the popular TV show.",queries:["CREATE CONSTRAINT IF NOT EXISTS FOR (c:Character) REQUIRE c.id IS UNIQUE",'UNWIND range(1,7) AS season\nLOAD CSV WITH HEADERS FROM "https://github.com/neo4j-apps/neuler/raw/master/sample-data/got/got-s" + season + "-nodes.csv" AS row\nMERGE (c:Character {id: row.Id})\nON CREATE SET c.name = row.Label','UNWIND range(1,7) AS season\nLOAD CSV WITH HEADERS FROM "https://github.com/neo4j-apps/neuler/raw/master/sample-data/got/got-s" + season + "-edges.csv" AS row\nMATCH (source:Character {id: row.Source})\nMATCH (target:Character {id: row.Target})\nCALL apoc.merge.relationship(source, "INTERACTS_SEASON" + season, {}, {}, target) YIELD rel\nSET rel.weight = toInteger(row.Weight)'],algorithms:[{name:"Page Rank",category:"Centralities",description:"Find the most influential characters in Westeros and elsewhere."},{name:"Shortest Path",category:"Path Finding",description:"Who can introduce Jon to Daenerys? Or Sansa to Drogo?"}]},"European Roads":{name:"European Roads",author:"Lasse Westh-Nielsen",authorLink:"http://lassewesth.blogspot.com/2018/07/the-international-e-road-network-and.html",description:"A dataset containing European Roads.",queries:["CREATE CONSTRAINT IF NOT EXISTS FOR (p:Place) REQUIRE p.name IS UNIQUE",'\nLOAD CSV WITH HEADERS FROM "https://github.com/neo4j-apps/neuler/raw/master/sample-data/eroads/roads.csv"\nAS row\n\nMERGE (origin:Place {name: row.origin_reference_place})\nSET origin.countryCode = row.origin_country_code\n\nMERGE (destination:Place {name: row.destination_reference_place})\nSET destination.countryCode = row.destination_country_code\n\nMERGE (origin)-[eroad:EROAD {road_number: row.road_number}]->(destination)\nSET eroad.distance = toInteger(row.distance), eroad.watercrossing = row.watercrossing'],algorithms:[{name:"Degree",category:"Centralities",description:"Find the most connected cities on the continent."},{name:"All Pairs Shortest Path",category:"Path Finding",description:"What's the quickest route between the different European cities."}]},Twitter:{name:"Twitter",author:"Mark Needham",authorLink:"https://markhneedham.com/blog/",description:"A dataset containing Twitter followers of the graph community",queries:["CREATE CONSTRAINT FOR (u:User) REQUIRE u.id IS unique",'CALL apoc.load.json("https://github.com/neo4j-apps/neuler/raw/master/sample-data/twitter/users.json")\nYIELD value\nMERGE (u:User {id: value.user.id })\nSET u += value.user\nFOREACH (following IN value.following |\n  MERGE (f1:User {id: following})\n  MERGE (u)-[:FOLLOWS]->(f1))\nFOREACH (follower IN value.followers |\n  MERGE(f2:User {id: follower})\n  MERGE (u)<-[:FOLLOWS]-(f2));'],algorithms:[{name:"Page Rank",category:"Centralities",description:"Find the most influential accounts in the Neo4j twittersphere."},{name:"Strongly Connected Components",category:"Community Detection",description:"Find groups of people that follow each other."}]},Recipes:{name:"Recipes",author:"DBpedia",authorLink:"https://wiki.dbpedia.org/",description:"A dataset containing recipes and their ingredients.",queries:["CREATE CONSTRAINT FOR (r:Recipe) REQUIRE r.name IS UNIQUE","CREATE CONSTRAINT FOR (i:Ingredient) REQUIRE i.name IS UNIQUE","\nLOAD CSV WITH HEADERS FROM \"https://github.com/neo4j-apps/neuler/raw/master/sample-data/recipes/recipes.csv\"\nAS row\nCALL {\n    WITH row\nMERGE (r:Recipe{name:row.recipe})\nWITH r,row.ingredients as ingredients\nUNWIND split(ingredients,',') as ingredient\nMERGE (i:Ingredient{name:ingredient})\nMERGE (r)-[:CONTAINS_INGREDIENT]->(i)} IN TRANSACTIONS"],algorithms:[{name:"Degree",category:"Centralities",description:"Find the most used ingredients or most diverse recipes."},{name:"Node Similarity",category:"Similarity",description:"Find the most similar recipes."}]},FIFA:{name:"FIFA",author:"Aman Shrivastava",authorLink:"https://github.com/4m4n5",description:"A dataset of FIFA players and their rankings.",queries:["CREATE CONSTRAINT FOR (p:Player) REQUIRE p.name IS UNIQUE",'\nLOAD CSV WITH HEADERS FROM "https://github.com/4m4n5/fifa18-all-player-statistics/raw/master/2019/data.csv" AS row\nCALL {\n    WITH row\n\n    MERGE (p:Player {name: row.Name})\n    SET p.club = row.Club,\n\n    p.crossing = toInteger(row.Crossing),\n    p.finishing = toInteger(row.Finishing),\n    p.headingAccuracy = toInteger(row.`HeadingAccuracy`),\n    p.shortPassing = toInteger(row.`ShortPassing`),\n    p.volleys = toInteger(row.`Volleys`),\n    \n    p.dribbling = toInteger(row.`Dribbling`),\n    p.curve = toInteger(row.`Curve`),\n    p.fkAccuracy = toInteger(row.`FK Accuracy`),\n    p.longPassing = toInteger(row.`LongPassing`),\n    p.ballControl = toInteger(row.`BallControl`),\n    \n    p.acceleration = toInteger(row.`Acceleration`),\n    p.sprintSpeed = toInteger(row.`SprintSpeed`),\n    p.agility = toInteger(row.`Agility`),\n    p.reactions = toInteger(row.`Reactions`),\n    p.balance = toInteger(row.`Balance`),\n    \n    p.shotPower = toInteger(row.`ShotPower`),\n    p.jumping = toInteger(row.`Jumping`),\n    p.stamina = toInteger(row.`Stamina`),\n    p.strength = toInteger(row.`Strength`),\n    p.longShots = toInteger(row.`LongShots`),\n    \n    p.standingTackle = toInteger(row.`StandingTackle`),\n    p.positioning = toInteger(row.`Positioning`),\n    p.penalties = toInteger(row.`Penalties`),\n    p.aggression = toInteger(row.`Aggression`),\n    p.composure = toInteger(row.`Composure`),\n    p.vision = toInteger(row.`Vision`),\n    p.marking = toInteger(row.`Marking`),\n    p.slidingTackle = toInteger(row.`SlidingTackle`),\n    p.crossing = toInteger(row.`Crossing`),\n    \n    p.gkHandling = toInteger(row.`GKHandling`),\n    p.gkPositioning = toInteger(row.`GKPositioning`),\n    p.gkReflexes = toInteger(row.`GKReflexes`),\n    p.gkDiving = toInteger(row.`GKDiving`),\n    p.gkKicking = toInteger(row.`GKKicking`),\n\n    p.overall = toInteger(row.`Overall`),\n    \n    p.position = row.`Position`,\n    p.value = row.`Value`} IN TRANSACTIONS','MATCH (p:Player)\nSET p.embedding = [key in keys(p) \n                   WHERE not(key IN ["name", "position", "value", "overall"]) \n                   AND apoc.meta.cypher.type(p[key]) = "INTEGER"\n                   | p[key] * 1.0]',"match (p:Player)\nWHERE size(p.embedding) = 0\nDELETE p"],algorithms:[{name:"K-Nearest Neighbors",category:"Similarity",description:"Find similar pairs of players based on node properties."}]}}},qr=function(e){var t=new URLSearchParams;t.append("project","neuler"),t.append("helpful",e.helpful),t.append("url","@neuler/".concat(e.page)),e.reason&&t.append("reason",e.reason),e.moreInformation&&t.append("moreInformation",e.moreInformation),fetch("https://uglfznxroe.execute-api.us-east-1.amazonaws.com/dev/Feedback",{method:"post",body:t,mode:"no-cors"}).then(function(e){return e}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},Jr=function(e){var t,a=Object(r.useState)(!0),o=Object(n.a)(a,2),l=o[0],s=o[1],c=Object(r.useState)({complete:!1}),u=Object(n.a)(c,2),m=u[0],d=u[1],p=Object(r.useState)(e.page),h=Object(n.a)(p,2),g=h[0],y=h[1];Object(r.useEffect)(function(){y(e.page),d({complete:!1})},[e.page]);var f="http://community.neo4j.com/new-topic?title=NEuler%20Problem&body=Hi%20%40mark.needham%2C%0A%0AI%27m%20having%20problems%20getting%20NEuler%20to%20work.%20%0A%0A%3CAdd%20detail%20here%3E%0A%0APlease%20can%20you%20help%3F%0A%0A&category=neo4j-graph-platform/graph-algorithms&tags=neuler";if(m.complete){var E=m.success?"Thanks for your feedback. We're happy to hear that NEuler is serving you well!":i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"Thanks for your feedback. We'll take it account when we're updating NEuler."),i.a.createElement("p",null,"Feedback submitted via this form is anonymous. If you need a reply to help you solve a problem you're having with NEuler, you can ",i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:f},"create a topic on the community site")," and we'll try to help."),i.a.createElement(Kn.a,{primary:!0,as:"a",href:f,target:"_blank"},"Post on community site"));t=i.a.createElement(ti,{open:l,setOpen:s,message:E})}else t=void 0===m.success?i.a.createElement(Zr,{open:l,setOpen:s,response:function(e){var t={success:e};e&&(t.complete=!0,qr({page:g,helpful:!0})),d(t)}}):i.a.createElement(ei,{open:l,setOpen:s,skip:function(){d({complete:!0,success:!1}),qr({page:g,helpful:!1})},submit:function(e,t){d({complete:!0,success:!1,reason:e,moreInformation:t}),qr({page:g,helpful:!1,reason:e,moreInformation:t})}});return i.a.createElement("div",{id:"search-feedback-module",style:{boxShadow:"rgba(0, 0, 0, 0.17) 0px 2px 10px",width:"300px",background:"rgb(249, 251, 253)",position:"fixed",bottom:"12px",right:"12px",borderRadius:"5px",opacity:"1"}},t)},Xr={padding:"18px 24px",fontSize:"16px",margin:"0px",borderTopLeftRadius:"5px",borderTopRightRadius:"5px",fontWeight:"normal",borderBottom:"1px solid rgba(210, 213, 218, 0.5)",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",background:"hsl(210, 16%, 82%)",color:"hsl(209, 20%, 25%)  "},Zr=function(e){var t={padding:"24px"},a={marginBottom:"10px",color:"#000"};return e.open||(a.display="none",t.display="none"),i.a.createElement(i.a.Fragment,null,i.a.createElement("h4",{style:Xr,onClick:function(){return e.setOpen(!e.open)}},"Help us improve NEuler ",i.a.createElement(qn.a,{className:"angle down large"})),i.a.createElement("div",{style:t},i.a.createElement("form",null,i.a.createElement("div",{style:a},i.a.createElement("p",null,"Were you able to do what you wanted?"),i.a.createElement("div",null,i.a.createElement(qn.a,{className:"thumbs up big green feedback-icon",style:{marginRight:"5px",fontSize:"2.5em"},onClick:function(){return e.response(!0)}}),i.a.createElement(qn.a,{className:"thumbs down big red feedback-icon",style:{fontSize:"2.5em"},onClick:function(){return e.response(!1)}}))))))},ei=function(e){var t={padding:"24px"},a={marginBottom:"10px",color:"#000"};e.open||(a.display="none",t.display="none");var o=Object(r.useState)("results"),l=Object(n.a)(o,2),s=l[0],c=l[1],u=Object(r.useState)(""),m=Object(n.a)(u,2),d=m[0],p=m[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("h4",{style:Xr},"Help us improve NEuler ",i.a.createElement(qn.a,{className:"angle down large",onClick:function(){return e.setOpen(!e.open)}})),i.a.createElement("div",{style:t},i.a.createElement("form",null,i.a.createElement("div",{style:a},i.a.createElement("p",null,"Thanks for your feedback. How can we improve?"),i.a.createElement(A.a,{style:{marginBottom:"10px"}},i.a.createElement(A.a.Field,null,i.a.createElement(W.a,{className:"feedback-form",radio:!0,label:"Results are confusing or don't make sense",name:"checkboxRadioGroup",value:"results",checked:"results"===s,onChange:function(){return c("results")}})),i.a.createElement(A.a.Field,null,i.a.createElement(W.a,{className:"feedback-form",radio:!0,label:"Missing algorithm or functionality",name:"checkboxRadioGroup",value:"missing",checked:"missing"===s,onChange:function(){return c("missing")}})),i.a.createElement(A.a.Field,null,i.a.createElement(W.a,{className:"feedback-form",radio:!0,label:"The app is confusing/I don't know what to do",name:"checkboxRadioGroup",value:"hard-to-follow",checked:"hard-to-follow"===s,onChange:function(){return c("hard-to-follow")}})),i.a.createElement(A.a.Field,null,i.a.createElement(W.a,{className:"feedback-form",radio:!0,label:"It has another problem not covered by the above",name:"checkboxRadioGroup",value:"other",checked:"other"===s,onChange:function(){return c("other")}})),i.a.createElement(Yr.a,{id:"feedback-form",placeholder:"Tell us more",onChange:function(e,t){return p(t.value)},rows:5})),i.a.createElement(Kn.a,{onClick:function(t){e.submit(s,d),t.preventDefault()}},"Submit")))))},ti=function(e){var t={padding:"24px"},a={color:"#000"};return e.open||(a.display="none",t.display="none"),i.a.createElement(i.a.Fragment,null,i.a.createElement("h4",{style:Xr},"Help us improve NEuler",i.a.createElement(qn.a,{className:"angle down large",onClick:function(){return e.setOpen(!e.open)}})),i.a.createElement("div",{style:t},i.a.createElement("div",{style:a},i.a.createElement("p",null,e.message))))},ai=a(6),ni=Object(E.b)(function(e){return{connectionInfo:e.connections,metadata:e.metadata,limit:e.settings.limit,communityNodeLimit:e.settings.communityNodeLimit}},function(e){return{setLabels:function(t){return e(Ft(t))},setRelationshipTypes:function(t){return e(Mt(t))},setPropertyKeys:function(t){return e(Ht(t))},setRelPropertyKeys:function(t){return e(Vt(t))},setNodePropertyKeys:function(t){return e(Kt(t))},setGds:function(t){return e(Wt(t))},setDatabases:function(t){return e(Bt(t))},setConnected:function(t){return e(function(e){return{type:Ln,credentials:e}}(t))},setDisconnected:function(){return e(Rn())},addDatabase:function(t){return e($t(t))},initLabel:function(t,a,n,r){return e(zt(t,a,n,r))},updateLimit:function(t){return e(yt(t))},updateCommunityNodeLimit:function(t){return e(ft(t))}}})(function(e){var t=i.a.useState({}),a=Object(n.a)(t,2),r=a[0],o=a[1];i.a.useEffect(function(){o(Qr.parse(e.location.search,{ignoreQueryPrefix:!0})),e.history.push(e.location.pathname)},[e.isNeo4jDesktop]),i.a.useEffect(function(){e.isNeo4jDesktop&&Dr(window.neo4jDesktopApi,function(e,t,a){o({username:e.username,accessToken:e.password,url:e.host})},function(){})},[e.isNeo4jDesktop]);var l=i.a.useState("connect-server"),s=Object(n.a)(l,2),c=s[0],u=s[1],m=i.a.useState(!1),d=Object(n.a)(m,2),p=d[0],g=d[1],y=i.a.useState(!1),f=Object(n.a)(y,2),E=f[0],v=f[1],C=i.a.useState(!1),w=Object(n.a)(C,2),O=w[0],N=w[1],I=i.a.useState(!1),P=Object(n.a)(I,2),T=P[0],S=P[1],L=e.setConnected,k=e.setDisconnected,R=e.connectionInfo,A=i.a.useState(null),j=Object(n.a)(A,2),D=j[0],F=j[1];if(i.a.useEffect(function(){"CONNECTED"===e.connectionInfo.status&&F(e.connectionInfo.credentials.username+"@"+e.connectionInfo.credentials.host)},[e.connectionInfo.status]),i.a.useEffect(function(){"all-done"===c&&(S(!0),function(e){e.updateLimit(Un.defaultLimit),e.updateCommunityNodeLimit(Un.defaultCommunityNodeLimit)}(e))},[c]),"all-done"===c&&T){if(O)return i.a.createElement(ai.a,{to:"/"});setTimeout(function(){N(!0)},1e3)}var M={fontSize:"1.2rem",lineHeight:"20px",fontStyle:"italic"};return i.a.createElement(h.a,{fluid:!0,style:{display:"flex",height:"100%",overflowY:"auto"}},i.a.createElement("div",{style:{width:"100%"}},i.a.createElement(x.a,{basic:!0,inverted:!0,vertical:!1},i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement("h1",{className:"loading"},"Launching NEuler - The Graph Data Science Playground")),i.a.createElement(B.a,null),i.a.createElement("div",{className:"loading-wrapper"},i.a.createElement("div",{className:"loading"},i.a.createElement(Ur,{step:"connect-server",currentStep:c,steps:Cr,currentStepInProgress:E,setCurrentStepInProgress:v,currentStepFailed:p}),i.a.createElement("p",null,"Connecting to server")),i.a.createElement("div",{className:"loading"},i.a.createElement(zr,{step:"gds",currentStep:c,steps:Cr,currentStepFailed:p}),i.a.createElement("p",null,"Checking GDS plugin")),i.a.createElement("div",{className:"loading"},i.a.createElement(zr,{step:"apoc",currentStep:c,steps:Cr,currentStepFailed:p}),i.a.createElement("p",null,"Checking APOC plugin")),i.a.createElement("div",{className:"loading"},i.a.createElement(Ur,{step:"select-database",currentStep:c,steps:Cr,currentStepFailed:p}),i.a.createElement("p",null,"Select database"))),i.a.createElement("div",{style:Object(b.a)({},M,{paddingBottom:"10px",textAlign:"center",color:"#ccc"})},i.a.createElement("div",{style:M},D?i.a.createElement(i.a.Fragment,null,"Connected to: ",D):null)),i.a.createElement(B.a,null),i.a.createElement("div",null,i.a.createElement(Br,{setDisconnected:k,setConnected:L,connectionStatus:R.status,currentStep:c,setCurrentStep:u,isNeo4jDesktop:e.isNeo4jDesktop,setCurrentStepFailed:g,setCurrentStepInProgress:v,queryParameters:r})),i.a.createElement(Jr,{page:Un.version+(e.isNeo4jDesktop?"/DesktopApp-Startup":"/WebApp-Startup")}))))}),ri=Object(E.b)(function(e){return{metadata:e.metadata}})(function(e){return i.a.createElement(Et.a,{open:e.open,onClose:e.onClose,centered:!1,closeIcon:!0,size:"small"},i.a.createElement(Et.a.Header,null,"Versions"),i.a.createElement(Et.a.Content,null,i.a.createElement("div",{style:{margin:"1em"}},i.a.createElement(h.a,{fluid:!0},i.a.createElement(ke.a,{basic:"very",celled:!0,collapsing:!0},i.a.createElement(ke.a.Header,null,i.a.createElement(ke.a.Row,null,i.a.createElement(ke.a.HeaderCell,null,"Component"),i.a.createElement(ke.a.HeaderCell,null,"Version"))),i.a.createElement(ke.a.Body,null,i.a.createElement(ke.a.Row,null,i.a.createElement(ke.a.Cell,null,"NEuler"),i.a.createElement(ke.a.Cell,null,Un.version)),i.a.createElement(ke.a.Row,null,i.a.createElement(ke.a.Cell,null,"Graph Data Science Library"),i.a.createElement(ke.a.Cell,null,e.metadata.versions.gdsVersion)),i.a.createElement(ke.a.Row,null,i.a.createElement(ke.a.Cell,null,"Neo4j Server"),i.a.createElement(ke.a.Cell,null,e.metadata.versions.neo4jVersion))))))))}),ii=a(876),oi=a(1004),li={background:"#e5f9e7"},si=function(e){var t=e.selectedDataset,a=e.selectedStyle,n=e.show,r=e.mainNeo4jVersion;return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"Below are some sample graphs that are useful for learning how to use the Graph Data Science library."),i.a.createElement(ii.a,null,Object.keys(_r[r]).map(function(e){return i.a.createElement(oi.a,{key:_r[r][e].name,raised:_r[r][e].name===t},i.a.createElement(oi.a.Content,{style:_r[r][e].name===t?a:null},i.a.createElement(qn.a,{name:"sitemap"}),i.a.createElement(oi.a.Header,null,_r[r][e].name),i.a.createElement(oi.a.Meta,null,"Author:"," ",i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:_r[r][e].authorLink},_r[r][e].author)),i.a.createElement(oi.a.Description,null,_r[r][e].description)),i.a.createElement(oi.a.Content,{extra:!0,style:_r[r][e].name===t?a:null},i.a.createElement("div",{className:"ui two buttons"},i.a.createElement(Kn.a,{basic:!0,color:"green",onClick:n(!0,_r[r][e].name)},"Select"))))})))},ci=function(e){var t=e.selectedDataset,a=e.completedQueryIndexes,n=e.currentQueryIndex,r=e.completed,o=e.loadDataset,l=e.mainNeo4jVersion;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Hn.a,{color:"purple"},i.a.createElement(Hn.a.Header,null,"Do you want to load the sample graph?"),i.a.createElement(Hn.a.Content,null,i.a.createElement("p",null,"Pressing the 'Yes, load it!' button below will run the following Cypher statements:"))),i.a.createElement("div",null,_r[l][t].queries.map(function(e,r){return i.a.createElement(Hn.a,{key:r},a[r]?i.a.createElement(qn.a,{color:"green",name:"check"}):null,i.a.createElement("pre",{style:{whiteSpace:"pre-wrap"}},e,";"),i.a.createElement(lr.a,{onSuccess:function(e){_n("neuler-sample-graphs","copied-code",{type:"sample-graph-query",graph:t}),e.trigger.textContent="Copied",setTimeout(function(){e.trigger.textContent="Copy"},2e3)},"button-className":"code","data-clipboard-text":e},"Copy"),i.a.createElement(d.a,{active:r===n},i.a.createElement(p.a,null,"Running")))})),r.includes(t)?null:i.a.createElement("div",{style:{padding:"12px 0 0 0"}},i.a.createElement(Kn.a,{disabled:n>=0,positive:!0,fluid:!0,color:"green",content:"Yes, load it!",onClick:o})))},ui=function(e){var t=e.selectedDataset,a=e.mainNeo4jVersion,n=Object(ai.g)(),r=function(t,a){var n=vn(t,a,e.metadata.versions.gdsVersion),r=n.parameters;return{group:t,algorithm:a,newParameters:(0,n.parametersBuilder)(Object(b.a)({},r,{requiredProperties:Object.keys(r)})),formParameters:function(t){return Object(b.a)({},t,{limit:e.limit,communityNodeLimit:e.communityNodeLimit})}(r)}};return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"The following algorithms are well suited to the ",t," sample graph:"),i.a.createElement(ii.a,null,_r[a][t].algorithms.map(function(t){return i.a.createElement(oi.a,{key:t.name},i.a.createElement(oi.a.Content,null,i.a.createElement(qn.a,{name:"sitemap"}),i.a.createElement(oi.a.Header,null,t.name),i.a.createElement(oi.a.Description,null,t.description)),i.a.createElement(oi.a.Content,{extra:!0},i.a.createElement("div",{className:"ui two buttons"},i.a.createElement(Kn.a,{basic:!0,color:"green",onClick:function(){_n("neuler-sample-graphs","try-out-algorithm",{category:t.category,name:t.name}),n.push({pathname:"/algorithms/new",state:r(t.category,t.name)}),e.allDone()}},"Try it out"))))})))},mi=Object(E.b)(function(e){return{metadata:e.metadata,limit:e.settings.limit,communityNodeLimit:e.settings.communityNodeLimit}})(function(e){var t=i.a.useState("select-dataset"),a=Object(n.a)(t,2),r=a[0],o=a[1],l=i.a.useState(null),s=Object(n.a)(l,2),c=s[0],u=s[1],m=i.a.useState(-1),d=Object(n.a)(m,2),p=d[0],g=d[1],y=i.a.useState({}),f=Object(n.a)(y,2),E=f[0],C=f[1],w=i.a.useState([]),O=Object(n.a)(w,2),N=O[0],I=O[1],P=i.a.useState(!1),T=Object(n.a)(P,2),S=T[0],L=T[1],k=i.a.useState(!1),R=Object(n.a)(k,2),A=R[0],j=R[1],D=e.neo4jVersion,x=D&&D.split(".")[0],F=function(){e.onClose(),g(-1),C({}),u(null),L(!1),o("select-dataset")},M=function(e,t){return function(){g(-1),C({}),I([]),u(t),L(!0)}},H=function(){_r[x][c].queries.reduce(function(e,t,a){return e.then(function(e){return g(a),re(t).catch(function(e){if("Neo.ClientError.Schema.EquivalentSchemaRuleAlreadyExists"!==e.code)throw new Error(e)}).then(function(t){return C(function(e){return Object(b.a)({},e,Object(de.a)({},a,!0))}),[].concat(Object(v.a)(e),[t])})})},Promise.resolve([])).then(function(t){N.push(c),g(-1),I(N),L(!0),e.onComplete(),_n("neuler-loaded-dataset",c,{dataset:c})})},K=function(t){switch(t){case"select-dataset":return{header:"Select Sample Graph",view:i.a.createElement(si,{selectedDataset:c,selectedStyle:li,show:M,nextEnabled:S,setNextEnabled:L,mainNeo4jVersion:x}),next:i.a.createElement(Kn.a,{disabled:!S,primary:!0,onClick:function(){o("import-dataset"),L(!1),j(!0)}},"Next ",i.a.createElement(qn.a,{name:"chevron right"}))};case"import-dataset":return{header:"Import Sample Graph",view:i.a.createElement(ci,{selectedDataset:c,completedQueryIndexes:E,currentQueryIndex:p,completed:N,loadDataset:H,mainNeo4jVersion:x}),previous:i.a.createElement(Kn.a,{disabled:!A,style:{float:"left"},primary:!0,onClick:function(){o("select-dataset"),j(!1),L(!0)}},i.a.createElement(qn.a,{name:"chevron left"})," Previous"," "),next:i.a.createElement(Kn.a,{disabled:!S,primary:!0,onClick:function(){return o("select-algorithm")}},"Next ",i.a.createElement(qn.a,{name:"chevron right"}))};case"select-algorithm":return{header:"Choose algorithm",view:i.a.createElement(ui,{allDone:F,selectedDataset:c,metadata:e.metadata,limit:e.limit,communityNodeLimit:e.communityNodeLimit,mainNeo4jVersion:x}),next:i.a.createElement(Kn.a,{disabled:!S,positive:!0,onClick:F},"All Done")};default:return null}}(r);return i.a.createElement(Et.a,{open:e.open,onClose:F,centered:!1,closeIcon:!0,size:"large"},i.a.createElement(Et.a.Header,null,K.header),i.a.createElement(Et.a.Content,null,i.a.createElement("div",{style:{margin:"1em"}},i.a.createElement(h.a,{fluid:!0},K.view))),i.a.createElement(Et.a.Actions,null,K.previous,K.next))}),di=Object(E.b)(function(e){return{metadata:e.metadata,labels:e.metadata.allLabels,connectionInfo:e.connections,limit:e.settings.limit,communityNodeLimit:e.settings.communityNodeLimit}},function(e){return{setActiveDatabase:function(t){return e(Gt(t))},setDatabases:function(t){return e(Bt(t))},setLabels:function(t){return e(Ft(t))},setRelationshipTypes:function(t){return e(Mt(t))},setPropertyKeys:function(t){return e(Ht(t))},setRelPropertyKeys:function(t){return e(Vt(t))},setNodePropertyKeys:function(t){return e(Kt(t))},addDatabase:function(t){return e($t(t))},initLabel:function(t,a,n,r){return e(zt(t,a,n,r))}}})(function(e){var t=e.metadata,a=e.connectionInfo.credentials,n=Object(ai.g)(),r=function(t,a){var n=vn(t,a,e.metadata.versions.gdsVersion),r=n.parameters;return{group:t,algorithm:a,newParameters:(0,n.parametersBuilder)(Object(b.a)({},r,{requiredProperties:Object.keys(r)})),formParameters:function(t){return Object(b.a)({},t,{limit:e.limit,communityNodeLimit:e.communityNodeLimit})}(r)}};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"page-heading"},"Welcome to NEuler - The Graph Data Science Playground"),i.a.createElement("div",{className:"top-level-container"},i.a.createElement(h.a,{fluid:!0},i.a.createElement(M,{title:"Database Connection"},i.a.createElement(Jn.a,{className:"connection"},i.a.createElement(Jn.a.Item,{className:"connection-item"},i.a.createElement("label",null,"Username"),i.a.createElement("span",null,a.username)),i.a.createElement(Jn.a.Item,{className:"connection-item"},i.a.createElement("label",null,"Server"),i.a.createElement("span",null,a.host)),i.a.createElement(Jn.a.Item,{className:"connection-item"},i.a.createElement("label",null,"Database"),i.a.createElement("span",null,t.activeDatabase))),i.a.createElement(Kn.a,{onClick:function(){n.push({pathname:"/database"})}},"Configure Database")),i.a.createElement(M,{title:"Getting Started",className:"getting-started"},!Kr(e.metadata)&&i.a.createElement(Hr,{setDatasetsActive:e.setDatasetsActive}),Kr(e.metadata)&&i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"intro"},"NEuler supports running graph algorithms in two ways:"),i.a.createElement(ii.a,null,i.a.createElement(oi.a,{key:"run-algorithm"},i.a.createElement(oi.a.Content,null,i.a.createElement(Vn.a,{src:tr("images/noun_algorithm_563285.png")}),i.a.createElement(oi.a.Header,null,"Run single algorithm"),i.a.createElement(oi.a.Meta,null,"Choose this option if you want to choose from any of the available algorithms in the Graph Data Science Library.")),i.a.createElement(oi.a.Content,{extra:!0},i.a.createElement("div",{className:"ui two buttons"},i.a.createElement(Kn.a,{basic:!0,color:"green",onClick:function(){n.push({pathname:"/algorithms/new",state:r("Centralities","Degree")})}},"Select")))),i.a.createElement(oi.a,{key:"run-algorithm-recipe"},i.a.createElement(oi.a.Content,null,i.a.createElement(Vn.a,{src:tr("images/noun_recipes_1566765.png")}),i.a.createElement(oi.a.Header,null,"Run Algorithm Recipe"),i.a.createElement(oi.a.Meta,null,"Choose this option if you aren't sure which algorithm to run and would like to suggestions of commonly used combinations of algorithms.")),i.a.createElement(oi.a.Content,{extra:!0},i.a.createElement("div",{className:"ui two buttons"},i.a.createElement(Kn.a,{basic:!0,color:"green",onClick:function(){n.push({pathname:"/recipes"})}},"Select"))))))))))}),pi=a(1005),hi=function(e){var t=e.activeItem,a=e.handleMenuItemClick;return i.a.createElement(pi.a,{attached:"top",tabular:!0,pointing:!0,secondary:!0,className:"results-bar",style:{display:"flex",justifyContent:"space-between"}},i.a.createElement("div",{style:{display:"flex"}},i.a.createElement(pi.a.Item,{name:"Configure",active:"Configure"===t,onClick:a},"1. Configure"),i.a.createElement(pi.a.Item,{name:"Results",active:"Results"===t,onClick:a},"2. Results"),i.a.createElement(pi.a.Item,{name:"Code",active:"Code"===t,onClick:a},"3. Code")))},gi=a(1096),yi=a(604),fi=a.n(yi),Ei=Object(E.b)(function(e){return{metadata:e.metadata}},function(e){return{selectAlgorithm:function(t){return e(In(t))},selectGroup:function(t,a){return e(Nn(t,a))}}})(function(e){var t=e.currentAlgorithm,a=e.metadata,r=e.selectAlgorithm,o=e.selectGroup,l=i.a.useState(null),s=Object(n.a)(l,2),c=s[0],u=s[1],m=i.a.useState(!1),d=Object(n.a)(m,2),p=d[0],h=d[1],g=En(a.versions.gdsVersion);i.a.useEffect(function(){u(t)},[]);var y={};Object.keys(g).forEach(function(e){bn(e,a.versions.gdsVersion).forEach(function(t){y[t]={description:vn(e,t,a.versions.gdsVersion).description,group:e}})});var f=i.a.createElement(qn.a,{className:"arrow alternate circle left grey arrow-prev"}),E=i.a.createElement(qn.a,{className:"arrow alternate circle right grey arrow-next"});return c&&i.a.createElement(M,{title:"Algorithm"},i.a.createElement("div",{style:{border:"1px solid rgba(34,36,38,.15)",borderRadius:".28571429rem",padding:"10px"}},i.a.createElement("div",{style:{display:"flex",cursor:"pointer",justifyContent:"space-between"},onClick:function(){return h(!p)}},i.a.createElement(gi.a,{as:"h3"},c,i.a.createElement(gi.a.Subheader,null,y[c].description)),i.a.createElement(qn.a,{name:p?"triangle up":"triangle down",size:"big"})),i.a.createElement("div",{style:p?{display:""}:{display:"none"},className:"algorithm-groups"},Object.keys(g).map(function(e){return i.a.createElement("div",{key:e,className:"algorithm-group-container"},i.a.createElement("div",{className:"algorithm-group"},i.a.createElement("span",null,e)),i.a.createElement(fi.a,{data:bn(e,a.versions.gdsVersion).map(function(e){return i.a.createElement("div",{key:"card-"+e,className:c===e?"select-algorithm selected":"select-algorithm",onClick:function(){!function(e){var t=e.value,n=Cn(t,a.versions.gdsVersion);o(n,a.versions.gdsVersion),r(t),u(t)}({value:e})}},e)}),transition:.4,arrowLeft:f,arrowRight:E,scrollBy:0,hideArrows:!0,translate:0}))}))))}),bi=function(e){var t=e.task,a=i.a.useState({}),r=Object(n.a)(a,2),o=r[0],l=r[1],s=i.a.useState([{key:"*",value:"*",text:"Any"}]),c=Object(n.a)(s,2),u=c[0],m=c[1],d=i.a.useState([{key:"*",value:"*",text:"Any"}]),p=Object(n.a)(d,2),h=p[0],g=p[1],y=i.a.useState([]),f=Object(n.a)(y,2),E=f[0],v=f[1],C=i.a.useState([]),w=Object(n.a)(C,2),O=w[0],N=w[1],P=i.a.useState([{key:"Natural",value:"Natural",text:"Natural"}]),T=Object(n.a)(P,2),S=T[0],L=T[1];i.a.useEffect(function(){!function(e){var t=e.labels.map(function(e){return{key:e.label,value:e.label,text:e.label}});t.unshift({key:"*",value:"*",text:"Any"}),m(t);var a=e.relationshipTypes.map(function(e){return{key:e.label,value:e.label,text:e.label}});a.unshift({key:"*",value:"*",text:"Any"}),g(a);var n=e.propertyKeys.map(function(e){return{key:e.propertyKey,value:e.propertyKey,text:e.propertyKey}});n.unshift({key:null,value:null,text:"None"}),v(n);var r=e.relPropertyKeys.map(function(e){return{key:e.propertyKey,value:e.propertyKey,text:e.propertyKey}});r.unshift({key:null,value:null,text:"None"}),N(r),L([{key:"Natural",value:"Natural",text:"Natural"},{key:"Reverse",value:"Reverse",text:"Reverse"},{key:"Undirected",value:"Undirected",text:"Undirected"}])}(e.metadata)},[e.metadata]),i.a.useEffect(function(){l(e.task.formParameters)},[e.task.taskId]);var k=function(e,t){l(Object(b.a)({},o,Object(de.a)({},e,t)))},R=function(){var a=vn(t.group,t.algorithm,e.metadata.versions.gdsVersion),n=a.service,r=a.parametersBuilder;if(n){var i=o,l=r(Object(b.a)({},i,{requiredProperties:Object.keys(i)})),s=i.persist,c=e.metadata.versions.gdsVersion;e.onRun(Object(b.a)({},l,{limit:e.limit,communityNodeLimit:e.communityNodeLimit,gdsVersion:c}),i,s)}},A=vn(t.group,t.algorithm,e.metadata.versions.gdsVersion),j=A.Form,D=A.returnsCommunities,x=t.status!==I,F=e.selectedAlgorithmReadOnly||x;return i.a.createElement("div",{style:{overflow:"hidden",height:"100%",marginRight:"0"}},F&&i.a.createElement(vi,{currentAlgorithm:A,task:t}),!F&&i.a.createElement(Ei,{currentAlgorithm:t.algorithm}),i.a.createElement("div",{style:{marginBottom:"1em"}},i.a.createElement(j,Object.assign({},o,{labelOptions:u,relationshipTypeOptions:h,relationshipOrientationOptions:S,propertyKeyOptions:E,relPropertyKeyOptions:O,readOnly:x,onChange:k}),i.a.createElement(Be,{limit:o.limit,communityNodeLimit:o.communityNodeLimit,readOnly:x,returnsCommunities:D,updateLimit:function(t,a){k("limit",parseInt(a.value)),e.updateLimit(parseInt(a.value))},updateCommunityNodeLimit:function(t,a){k("communityNodeLimit",parseInt(a.value)),e.updateCommunityNodeLimit(parseInt(a.value))}}))),i.a.createElement("div",null,t.status===I&&i.a.createElement(Kn.a,{color:"green",onClick:R},"Run Algorithm"),t.status!==I&&t.completed&&i.a.createElement(Kn.a,{title:"Make a copy of the algorithm with parameters pre-populated",color:"blue",onClick:function(){var a=vn(t.group,t.algorithm,e.metadata.versions.gdsVersion),n=a.service,r=a.parametersBuilder;if(n){var i=o,l=r(Object(b.a)({},i,{requiredProperties:Object.keys(i)}));e.onCopy(t.group,t.algorithm,Object(b.a)({},l,{limit:e.limit,communityNodeLimit:e.communityNodeLimit}),i)}}},"Edit configuration"),t.status!==I&&!t.completed&&i.a.createElement(Kn.a,{disabled:!0,color:"green",onClick:R},"Run Algorithm")))},vi=function(e){var t=e.task,a=e.currentAlgorithm.description;return i.a.createElement(M,{title:"Algorithm"},i.a.createElement(gi.a,{disabled:!0,as:"h3"},t.algorithm,i.a.createElement(gi.a.Subheader,null,a)))},Ci=Object(E.b)(function(e){return{metadata:e.metadata,limit:e.settings.limit,communityNodeLimit:e.settings.communityNodeLimit}},function(e){return{updateLimit:function(t){return e(yt(t))},updateCommunityNodeLimit:function(t){return e(ft(t))}}})(bi),wi=a(3),Oi=a(4),Ni=a(30),Ii=a(7),Pi=a(67),Ti=a(10),Si=a(429),Li=a.n(Si);function ki(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(Ti.a)(e);if(t){var r=Object(Ti.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(Pi.a)(this,a)}}var Ri=function(e){Object(Ii.a)(a,e);var t=ki(a);function a(){return Object(wi.a)(this,a),t.apply(this,arguments)}return Object(Oi.a)(a,[{key:"extractValue",value:function(e,t){return e[t]?"string"===typeof e[t]?"'".concat(e[t].replace(/'/g,"\\'"),"'"):"object"===typeof e[t]?"".concat(Li()(e[t],{indent:"  ",transform:function(e,t,a){return Object(U.isInt)(e[t])?e[t].toNumber():a}})):" ".concat(e[t]):"null"}},{key:"getText",value:function(){var e=this,t=this.props.parameters;return Object.keys(t).filter(function(e){return"gdsVersion"!==e}).map(function(a){return":param ".concat(a," => (").concat(e.extractValue(t,a),")")}).join(";\n")+";"}},{key:"render",value:function(){var e=this,t=this.props,a=t.parameters,n=t.activeTab;return i.a.createElement(i.a.Fragment,{key:n},Object.keys(a).filter(function(e){return"gdsVersion"!==e}).map(function(t){return i.a.createElement("pre",{key:t},":param ",t," => (",e.extractValue(a,t),");")}),i.a.createElement(lr.a,{onSuccess:function(e){_n("neuler-code-view","copied-code",{type:"parameters",tab:n}),e.trigger.textContent="Copied",setTimeout(function(){e.trigger.textContent="Copy"},2e3)},"button-className":"code","button-onfocusout":function(){return console.log("focusout")},"option-text":this.getText.bind(this)},"Copy"))}}]),a}(i.a.Component),Ai=a(274);function ji(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(Ti.a)(e);if(t){var r=Object(Ti.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(Pi.a)(this,a)}}var Di=function(e){return e.replace(/^[^\S\r\n]+|[^\S\r\n]+$/gm,"")},xi=function(e){return e?"object"===typeof e?"{"+Object.keys(e).map(function(t){return"".concat(t,": ").concat(JSON.stringify(e[t]))}).join(", ")+"}":JSON.stringify(e):"null"},Fi=function(e){Object(Ii.a)(a,e);var t=ji(a);function a(){var e;Object(wi.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={browserGuide:{},activeTab:"Named Graph"},e.renderNamedDatabaseParam=function(t){return J()?i.a.createElement(Hn.a,null,i.a.createElement("pre",null,":use ",t,";"),i.a.createElement(lr.a,{onSuccess:function(t){_n("neuler-code-view","copied-code",{type:"database-name",tab:e.state.activeTab}),t.trigger.textContent="Copied",setTimeout(function(){t.trigger.textContent="Copy"},2e3)},"button-className":"code","data-clipboard-text":":use ".concat(t,";")},"Copy")):null},e.renderParams=function(t){return t.parameters?i.a.createElement(Hn.a,null,i.a.createElement(Ri,{parameters:t.parameters,activeTab:e.state.activeTab})):null},e.renderQueries=function(t){return t.map(function(t){"function"===typeof t&&(t=t());var a=Di(t.replace("\n  ","\n"))+";";return i.a.createElement(Hn.a,{key:a},i.a.createElement("pre",null,t&&a),i.a.createElement(lr.a,{onSuccess:function(t){_n("neuler-code-view","copied-code",{type:"query",tab:e.state.activeTab}),t.trigger.textContent="Copied",setTimeout(function(){t.trigger.textContent="Copy"},2e3)},"button-className":"code","data-clipboard-text":t&&a},"Copy"))})},e.onTabChange=function(t,a){e.setState({activeTab:a.panes[a.activeIndex].menuItem})},e.supportsNamedGraph=function(e,t){var a={Similarity:["Cosine","Pearson","Euclidean","Overlap"]};return!(a[e]&&a[e].includes(t))},e.codeFragments=function(t){if(!t.query)return null;if(e.supportsNamedGraph(t.group,t.algorithm))return i.a.createElement("div",null,i.a.createElement(xe.a,{menu:{color:"blue",secondary:!0},panes:e.createPanes(t),onTabChange:e.onTabChange.bind(Object(Ni.a)(e))}));var a=e.renderQueries(t.query),n=e.renderNamedDatabaseParam(),r=e.renderParams(t);return i.a.createElement(i.a.Fragment,null,n,r,a)},e}return Object(Oi.a)(a,[{key:"extractValue",value:function(e,t){return e[t]?"string"===typeof e[t]?"'".concat(e[t].replace(/'/g,"\\'"),"'"):"object"===typeof e[t]?"".concat(Li()(e[t],{indent:"  ",transform:function(e,t,a){return U.isInt(e[t])?e[t].toNumber():a}})):" ".concat(e[t]):"null"}},{key:"constructPayload",value:function(e,t,a,n,r){var i=this;return{uuid:a,params:Object.keys(e).filter(function(e){return"gdsVersion"!==e}).map(function(t){return":param ".concat(t," => (").concat(i.extractValue(e,t),");")}).join("\n"),query:t,supportsNamedGraph:n,namedGraphQueries:r}}},{key:"generateGuide",value:function(e){var t=this,a=e.parameters,n=e.query,r=e.namedGraphQueries,i=e.taskId,o=e.algorithm,l=e.group,s=Object(Ai.v4)(),c=this.supportsNamedGraph(l,o),u=this.constructPayload(a,n,s,c,r);return fetch("https://3uvkamww2b.execute-api.us-east-1.amazonaws.com/dev/generateBrowserGuide",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then(function(e){return _n("neuler-code-view","generated-browser-guide",{guideId:s}),t.setState({browserGuide:Object(b.a)({},t.state.browserGuide,Object(de.a)({},i,":play neuler/user-content-".concat(s,".html")))}),s}).catch(function(e){throw console.log("GENERATE GUIDE CALL ERROR",e),e})}},{key:"openBrowser",value:function(e){this.generateGuide(e).then(function(e){window.open("neo4j-desktop://graphapps/neo4j-browser?cmd=play&arg=neuler/user-content-".concat(e,".html"),"_self")})}},{key:"createPanes",value:function(e){var t=this.renderQueries(e.namedGraphQueries),a=this.renderNamedDatabaseParam(e.database),n=this.renderParams(e);return[{menuItem:"Named Graph",render:function(){return i.a.createElement("div",null,i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"A named graph is created in memory and remains there until it is explicitly deleted. Multiple algorithms can be run against a single named graph."),a,n,t))}}]}},{key:"render",value:function(){var e=this,t=this.props.task,a=this.state.browserGuide[t.taskId];return i.a.createElement("div",{style:{overflowY:"auto",overflowX:"hidden"}},i.a.createElement(M,{title:"Generate Neo4j Browser Guide"},i.a.createElement("p",null,"You can generate a Neo4j Browser guide that contains the code to reproduce the algorithm run:"),t.query?i.a.createElement("div",null,i.a.createElement(Kn.a,{basic:!0,color:"green",icon:"play",content:"Send to Neo4j Browser",onClick:function(){return e.openBrowser.bind(e)(t)},style:{marginBottom:"1rem"}}),a&&i.a.createElement("p",null,"If the Neo4j Browser doesn't automatically open, you can copy/paste the following command into the Neo4j Browser:"),a?i.a.createElement(Hn.a,{style:{margin:"1em 1em 0em 0em"}},i.a.createElement("pre",null,a),i.a.createElement(lr.a,{onSuccess:function(e){_n("neuler-code-view","copied-code",{type:"browser-guide"}),e.trigger.textContent="Copied",setTimeout(function(){e.trigger.textContent="Copy"},2e3)},"button-className":"code","data-clipboard-text":a},"Copy")):null):null),i.a.createElement(M,{title:"Run code fragments"},i.a.createElement("p",{style:{margin:"1rem 0"}},"Or you can reproduce the algorithm run by running the following code fragments:"),this.codeFragments(t)))}}]),a}(r.Component),Mi=function(e){var t=e.task,a=e.activeItem,n=e.handleMenuItemClick;return i.a.createElement(pi.a,{attached:"top",tabular:!0,pointing:!0,secondary:!0,className:"results-bar",style:{display:"flex",justifyContent:"space-between"}},i.a.createElement("div",{style:{display:"flex"}},i.a.createElement(pi.a.Item,{name:"Configure",active:"Configure"===a,onClick:n},"1. Configure"),[P,T].includes(t.status)?i.a.createElement(i.a.Fragment,null,i.a.createElement(pi.a.Item,{name:"Results",active:"Results"===a,onClick:n},"2. Results"),i.a.createElement(pi.a.Item,{name:"Code",active:"Code"===a,onClick:n},"3. Code")):null))},Hi=function(){return i.a.createElement(pi.a,{attached:"top",tabular:!0,pointing:!0,secondary:!0,className:"results-bar",style:{display:"flex",justifyContent:"space-between"}},i.a.createElement("div",{style:{display:"flex"}},i.a.createElement(pi.a.Item,{name:"Configure",active:!0},"1. Configure"),i.a.createElement(pi.a.Item,{name:"Results",active:!1,disabled:!0},"2. Results"),i.a.createElement(pi.a.Item,{name:"Code",active:!1,disabled:!0},"3. Code")))},Ki=function(e){var t=e.task,a=e.tasks,n=e.setSelectedTaskId,r=a.map(function(e){return{key:e.taskId,value:e.taskId,text:e.algorithm+(t=e,t.status!==I?" (Started at: ".concat(t.startTime.toLocaleTimeString(),")"):"")};var t});return i.a.createElement("div",{style:{margin:"3px"}},i.a.createElement(A.a,null,i.a.createElement(D.a,{options:r,text:"Algorithm runs",search:!0,selection:!0,value:t.taskId,onChange:function(e,t){return n(t.value)}})))},Vi=a(605),Wi=function(e){var t=e.data;return t.reverse(),i.a.createElement("div",{style:{height:"50em"}},i.a.createElement(Vi.ResponsiveBarCanvas,{data:t,keys:["score"],indexBy:"name",margin:{top:50,right:60,bottom:50,left:60},enableGridX:!1,enableGridY:!0,enableLabel:!0,labelTextColor:"inherit:darker(1.6)",isInteractive:!0,layout:"horizontal",colors:"red_grey",colorBy:"score"}))},Bi=function(e){var t=e.active;return i.a.createElement(p.a,{active:t,inline:"centered"},"Fetching Data")},Gi=function(e){var t=e.task;return t.result&&t.result.rows.length>0?i.a.createElement(Wi,{data:t.result.rows.map(function(e){return{name:e.properties.name||e.properties.title||e.properties.id||"Node",score:e.score}})}):i.a.createElement(Bi,{active:!0})},$i=Object(E.b)(function(e){return{tasks:e.tasks,limit:e.settings.limit,metadata:e.metadata,activeGroup:e.algorithms.group,activeAlgorithm:e.algorithms.algorithm,communityNodeLimit:e.settings.communityNodeLimit}},function(e,t){return{runTask:function(t,a,n,r,i,o){e(L({taskId:t,query:a,namedGraphQueries:n,parameters:r,formParameters:i,persisted:o}))},addTask:function(t,a,n,r,i,o){var l={group:a,algorithm:n,taskId:t,parameters:r,formParameters:i,persisted:o,startTime:new Date,database:q()};e(S(Object(b.a)({},l)))}}})(function(e){var t=e.activeGroup,a=e.activeAlgorithm,n=(e.metadata,e.open),r=e.setOpen,o=e.task;return i.a.createElement(Et.a,{open:n,size:"large",onClose:function(){r(!1)},closeIcon:!0,centered:!1},i.a.createElement(Et.a.Header,null,"Select and configure algorithm"),i.a.createElement(Et.a.Content,null,i.a.createElement(Ci,{task:o,onRun:function(n,i,l){var s;e.addTask(o.taskId,t,a,(s=n,Object(b.a)({},s,{limit:e.limit,communityNodeLimit:e.communityNodeLimit})),i,l),e.onRunAlgo(o,n,i,l),r(!1)},onCopy:function(){}})))}),zi=function(e,t,a,n,r,i,o,l){var s,c=e.taskId,u=e.group,m=e.algorithm,d=vn(u,m,r.gdsVersion),p=d.service,h=d.getFetchQuery,g=d.streamQuery,y=d.storeQuery;if("Similarity"===u){var f=t.itemLabel;t.relationshipType,t.categoryLabel,t.weightProperty;s=h(f,t.config.writeRelationshipType,t.config,t.graphConfig),delete t.itemLabel,delete t.relationshipType,delete t.categoryLabel}else s=h(t.label,t.config,t.graphConfig);var E={streamCypher:g,storeCypher:y,fetchCypher:s,parameters:t,persisted:n},v=Object(b.a)({},r,{taskId:c,algorithm:m,group:u});_n("neuler-call-algorithm",m,v),p(E).then(function(e){_n("neuler","completed-algorithm-call",v),i(c,e),n&&o()}).catch(function(e){console.log("ERROR IN SERVICE",e),i(c,[],e.toString())});var C=function(e,t,a){var n=Te(t.graphConfig?t.graphConfig:{},["nodeProperties"]),r=Te(t.config,["writeProperty","writeRelationshipType","maxIterations","normalization","dampingFactor","samplingSize","similarityCutoff","degreeCutoff","includeIntermediateCommunities","seedProperty","latitudeProperty","longitudeProperty","propertyKeyLat","propertyKeyLon","relationshipWeightProperty","similarityMetric","nodeProperties"]);Object.keys(r).forEach(function(e){U.isInt(r[e])&&(r[e]=r[e].toNumber())});var i=parseInt(t.gdsVersion.split(".")[0]);return{createGraph:"CALL gds.graph.".concat(i>1?"project":"create","($generatedName, $graphConfig.nodeProjection, $graphConfig.relationshipProjection, ").concat(xi(n),")"),dropGraph:"CALL gds.graph.drop($generatedName)",storeAlgorithmNamedGraph:e.storeQuery,streamAlgorithmNamedGraph:e.streamQuery}}(d,t);l(c,n?[y,s]:[g],n?[C.createGraph,C.storeAlgorithmNamedGraph,s,C.dropGraph]:[C.createGraph,C.streamAlgorithmNamedGraph,C.dropGraph],t,a,n)},Ui={overflowY:"auto",overflowX:"hidden"},Qi=(Object(E.b)(function(e){return{tasks:e.tasks,metadata:e.metadata,activeGroup:e.algorithms.group,activeAlgorithm:e.algorithms.algorithm,limit:e.settings.limit,communityNodeLimit:e.settings.communityNodeLimit}},function(e,t){return{runTask:function(t,a,n,r,i,o){e(L({taskId:t,query:a,namedGraphQueries:n,parameters:r,formParameters:i,persisted:o}))},completeTask:function(t,a,n){e(k({taskId:t,result:a,error:n}))},onComplete:function(){t.onComplete()},addTask:function(t,a,n,r,i,o){var l={group:a,algorithm:n,taskId:t,parameters:r,formParameters:i,persisted:o,startTime:new Date,database:q()};e(S(Object(b.a)({},l)))},removeTask:function(t){e(R({taskId:t}))}}})(function(e){var t=Object(r.useState)(null),a=Object(n.a)(t,2),o=a[0],l=a[1];Object(r.useEffect)(function(){e.tasks.length>0&&l(e.tasks[0].taskId)},[0===e.tasks.length]);var s=i.a.useState({}),c=Object(n.a)(s,2),u=c[0],m=c[1],d=function(t,a){var n=Object(Ai.v4)(),r=vn(t,a,e.metadata.versions.gdsVersion),i=r.parameters;return{group:t,algorithm:a,taskId:n,parameters:(0,r.parametersBuilder)(Object(b.a)({},i,{requiredProperties:Object.keys(i)})),formParameters:function(t){return Object(b.a)({},t,{limit:e.limit,communityNodeLimit:e.communityNodeLimit})}(i),persisted:i.persist,startTime:new Date,database:q(),status:I}},p=e.tasks,h=i.a.useState(!1),g=Object(n.a)(h,2),y=g[0],f=g[1];if(i.a.useEffect(function(){m(d(e.activeGroup,e.activeAlgorithm))},[e.activeGroup,e.activeAlgorithm]),p&&p.length>0){var E=o?p.find(function(e){return e.taskId===o}):p[0];return i.a.createElement("div",{style:{width:"100%"}},i.a.createElement("nav",{className:"top-nav"},i.a.createElement(Ki,{task:E,tasks:p,setSelectedTaskId:l}),i.a.createElement(Kn.a,{style:{margin:"4px",fontSize:"0.9rem",padding:".6em 1.2em"},onClick:function(){m(d(e.activeGroup,e.activeAlgorithm)),f(!0)},primary:!0},"New algorithm")),i.a.createElement(go,{metadata:e.metadata,onRunAlgo:zi,onCopyAlgo:function(e,t,a,n){f(!0);var r={group:e,algorithm:t,taskId:Object(Ai.v4)(),parameters:a,formParameters:n,persisted:a.persist,startTime:new Date,database:q(),status:I};m(r)},task:E,totalPages:p.length,gdsVersion:e.metadata.versions.gdsVersion}),i.a.createElement($i,{open:y,setOpen:f,onRunAlgo:zi,task:u}))}return i.a.createElement("div",{style:{width:"50%",margin:"auto",maxHeight:"300px",border:"1px black dashed",padding:"100px",textAlign:"center",position:"absolute",top:"50%",left:"50%","-moz-transform":"translateX(-50%) translateY(-50%)","-webkit-transform":"translateX(-50%) translateY(-50%)",transform:"translateX(-50%) translateY(-50%)"}},i.a.createElement("h1",null,"No algorithms run yet"),i.a.createElement(Kn.a,{onClick:function(){f(!0)},primary:!0},"Run algorithm"),i.a.createElement($i,{open:y,setOpen:f,onRunAlgo:zi,task:u}))}),function(e){var t=e.task,a=e.gdsVersion,n=vn(t.group,t.algorithm,a).ResultView,r=t.result?t.result.labels:[];return i.a.createElement("div",{style:Ui},r.length>0?i.a.createElement("div",{style:{display:"flex"}},r.map(function(e){return i.a.createElement(ea,{key:e,labels:[e],caption:e,database:t.database})})):null,i.a.createElement(n,{task:t}))}),Yi=a(1013),_i=function(e){var t=e.labels,a=e.captions,n=e.nodeSize,r=e.nodeColor,o=e.updateCaption,l=e.updateNodeSize,s=e.updateNodeColor,c=e.onUpdateConfig,u=qi(t);return i.a.createElement(A.a,null,i.a.createElement(A.a.Group,{inline:!0},Object.keys(t).map(function(e){return i.a.createElement(A.a.Field,{inline:!0,key:e},i.a.createElement("label",null,"Caption for ",e),i.a.createElement(Yi.a,{placeholder:"Select caption",value:a[e],options:Array.from(t[e]).map(function(e){return{key:e,value:e,text:e}}),onChange:function(t,a){return o(e,a)}}))}),i.a.createElement(A.a.Field,{inline:!0,key:"nodeSize"},i.a.createElement("label",null,"Node Size"),i.a.createElement(Yi.a,{placeholder:"Select node size",value:n,options:[{key:"None",value:null,text:"None"}].concat(Object(v.a)(u.map(function(e){return{key:e,value:e,text:e}}))),onChange:function(e,t){return l(t.value)}})),i.a.createElement(A.a.Field,{inline:!0,key:"nodeColor"},i.a.createElement("label",null,"Node Color"),i.a.createElement(Yi.a,{placeholder:"Select node color",value:r,options:[{key:"None",value:null,text:"None"}].concat(Object(v.a)(u.map(function(e){return{key:e,value:e,text:e}}))),onChange:function(e,t){return s(t.value)}})),i.a.createElement(A.a.Field,{inline:!0},i.a.createElement(Kn.a,{basic:!0,icon:!0,labelPosition:"right",onClick:c},"Refresh",i.a.createElement(qn.a,{name:"refresh"})))))},qi=function(e){return Array.from(Object.keys(e).reduce(function(t,a){return e[a].forEach(function(e){return t.add(e)}),t},new Set))},Ji=a(629);function Xi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(Ti.a)(e);if(t){var r=Object(Ti.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(Pi.a)(this,a)}}var Zi=["name","title"],eo=["Triangle Count","Local Clustering Coefficient"],to=function(e){Object(Ii.a)(a,e);var t=Xi(a);function a(e){var n;return Object(wi.a)(this,a),(n=t.call(this,e)).state={taskId:null,labels:{},captions:{},nodeSize:null,nodeColor:null,relationshipThickness:"weight",cypher:null,limit:50,data:null},n.networks={},n.config={labels:{Person:{caption:"name",size:"pagerank",community:"louvain"}},initial_cypher:"match (n:Person)\n      where exists(n.pagerank)\n      return n\n      LIMIT 50"},n}return Object(Oi.a)(a,[{key:"getVis",value:function(){return this.networks[this.props.taskId]}},{key:"onUpdateConfig",value:function(e){var t=this,a=this.state,n=a.captions,r=a.cypher,i=a.nodeSize,o=a.nodeColor,l=e.taskId,s=e.relationshipType;this.config.labels=Object.keys(n).reduce(function(e,t){return e[t]={caption:n[t],size:i,community:o},e},{}),this.config.initial_cypher=r,s&&(this.config.relationships=Object(de.a)({},s,{caption:!1,thickness:"weight"}));this.networks[l]&&function(e){t.setState({rendering:!0}),t.networks[e]="foo"}(l)}},{key:"generateCypher",value:function(e,t,a,n){return"match path = (n".concat("*"!==e?":"+e:"",")-[").concat("*"!==t?":"+t:"","]-(m)\n        WHERE id(n) in $ids AND id(m) in $ids\nreturn m, n")}},{key:"dataUpdated",value:function(e){var t=this,a=e.results,n=e.label,r=e.relationshipType,i=e.taskId,o=e.limit,l=e.writeProperty;if(a&&a.rows.length>0){var s=a.labels,c=this.props.metadata.nodePropertyKeys,u=Object.keys(c).filter(function(e){return s.includes(e)}).reduce(function(e,t){return Object(b.a)({},e,Object(de.a)({},t,c[t]))},{}),m=Object.keys(u).reduce(function(e,t){return Object(b.a)({},e,Object(de.a)({},t,function(e){var t=e.find(function(e){return Zi.includes(e)});return t||e[0]}(u[t])))},{});if(this.setState({cypher:this.generateCypher(n,r,l,o),labels:u,captions:m,taskId:i}),null!==this.state.cypher){var d=e.results.ids;re(this.state.cypher,{ids:d}).then(function(e){if(!e.records)throw console.error(e.error),new Error(e.error);var a=[],n=e.records.map(function(e){var t=e.get("m"),n=t.properties;Object.keys(n).forEach(function(e){U.isInt(n[e])&&(n[e]=n[e].toNumber())});var r=t.labels,i=e.get("n"),o=i.properties;Object.keys(o).forEach(function(e){U.isInt(o[e])&&(o[e]=o[e].toNumber())});var l=i.labels,s=Object(b.a)({id:t.identity.toNumber(),label:r[0]},n);a.push(s);var c=Object(b.a)({id:i.identity.toNumber(),label:l[0]},o);return a.push(c),{source:s.id,target:c.id}});t.setState({data:{links:Object(v.a)(new Set(n.map(function(e){return JSON.stringify(e)}))).map(function(e){return JSON.parse(e)}),nodes:Object(v.a)(new Set(a.map(function(e){return JSON.stringify(e)}))).map(function(e){return JSON.parse(e)})}})})}}}},{key:"updateCaption",value:function(e,t){var a=Object(b.a)({},this.state.captions);a[e]=t.value,this.setState({captions:a})}},{key:"updateNodeSize",value:function(e){this.setState({nodeSize:e})}},{key:"updateNodeColor",value:function(e){this.setState({nodeColor:e}),null!==this.state.data&&this.setState(function(e,t){return e.data.nodes.forEach(function(e){delete e.color}),{data:e.data}})}},{key:"componentDidMount",value:function(){this.props.writeProperty&&(("Centralities"===this.props.group||eo.includes(this.props.algorithm))&&this.updateNodeSize(this.props.writeProperty),"Community Detection"!==this.props.group||eo.includes(this.props.algorithm)||this.updateNodeColor(this.props.writeProperty))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.writeProperty!==e.writeProperty&&e.writeProperty&&(("Centralities"===e.group||eo.includes(e.algorithm))&&(this.updateNodeColor(null),this.updateNodeSize(e.writeProperty)),"Community Detection"!==e.group||eo.includes(e.algorithm)||(this.updateNodeColor(e.writeProperty),this.updateNodeSize(null))),e.taskId===this.props.taskId&&e.results===this.props.results&&e.active===this.props.active||this.dataUpdated(e)}},{key:"componentDidUpdate",value:function(e){(!this.props.active||e.taskId===this.props.taskId&&e.results===this.props.results||this.onUpdateConfig(this.props),this.props.active!==e.active)&&(this.props.active&&(this.getVis()||this.onUpdateConfig(this.props)))}},{key:"render",value:function(){var e=this.state,t=e.labels,a=e.nodeSize,n=e.nodeColor,r=e.captions,o=e.data,l=function(e){var t=e[a],n=Math.max.apply(Math,Object(v.a)(o.nodes.map(function(e){return e[a]}))),r=Math.min.apply(Math,Object(v.a)(o.nodes.map(function(e){return e[a]})));return Math.max(.1,(t-r)/(n-r)*10)};return i.a.createElement("div",null,i.a.createElement("div",{style:{marginLeft:"1em"}},i.a.createElement(_i,{labels:t,captions:r,nodeSize:a,nodeColor:n,updateCaption:this.updateCaption.bind(this),updateNodeSize:this.updateNodeSize.bind(this),updateNodeColor:this.updateNodeColor.bind(this),onUpdateConfig:this.onUpdateConfig.bind(this,this.props)})),i.a.createElement("div",null,!o&&i.a.createElement(no,{active:!0}),o&&i.a.createElement(Ji.a,{graphData:o,nodeVal:function(e){return l(e)},nodeCanvasObject:function(e,t,a){var n=3*Math.sqrt(Math.max(0,l(e)||1))+2;t.beginPath(),t.arc(e.x,e.y,n,0,2*Math.PI,!1),t.fillStyle=e.color||"rgba(31, 120, 180, 0.92)",t.fill();var i=12/a;t.font="".concat(i,"px Sans-Serif"),t.textAlign="center",t.textBaseline="middle",t.fillStyle="#000000",t.fillText(e[r[e.label]],e.x,e.y)},nodeAutoColorBy:n,nodeLabel:function(e){return"".concat(e.label,": ").concat(e[r[e.label]])},height:window.innerHeight-270,width:window.innerWidth-166})))}}]),a}(r.Component),ao=Object(E.b)(function(e){return{metadata:e.metadata}})(to),no=function(e){var t=e.active;return i.a.createElement(p.a,{active:t,inline:"centered"},"Rendering")},ro=function(e){var t=e.task,a=e.active;return i.a.createElement("div",{style:Ui},i.a.createElement(ao,{taskId:t.taskId,results:t.result,label:t.parameters.graphConfig.nodeProjection,active:a,algorithm:t.algorithm,limit:t.parameters.limit,relationshipType:t.parameters.graphConfig.relationshipProjection.relType.type,writeProperty:(t.parameters.config||{}).writeProperty,group:t.group}))},io=a(630),oo=a(48),lo=a(360),so=a(627),co=a.n(so),uo=a(256),mo={},po=function(e){var t=e.taskId,a=e.result;if(!e.completed)return!1;var o=function(e){return e.properties.name?e.properties.name:e.properties.title?e.properties.title:e.properties.id?e.properties.id:e.identity},l=Object(r.useState)([]),s=Object(n.a)(l,2),c=s[0],u=s[1],m=Object(r.useState)([]),d=Object(n.a)(m,2),h=d[0],g=d[1],y=Object(r.useState)(!1),f=Object(n.a)(y,2),E=f[0],b=f[1],C=Object(uo.b)({scheme:"nivo"},"id"),w={tooltip:{container:{background:"rgba(51, 51, 51, 0.9)",color:"#fff",fontSize:"12px",borderRadius:"0",boxShadow:"none",padding:"10px 14px"}}};return Object(r.useEffect)(function(){if(mo[t])u(mo[t]);else{var e=function(e){var t=new co.a({dim:2,perplexity:30,earlyExaggeration:4,learningRate:100,nIter:100,metric:"euclidean"});return t.init({data:e,type:"dense"}),t.run(),t.getOutputScaled()}(a.rows.map(function(e){return e.embedding})),n=a.rows.map(function(t,a){return{label:t.labels[0],x:e[a][0],y:e[a][1],caption:o(t)}}).reduce(function(e,t){return e.filter(function(e){return e.id===t.label}).length>0?e.find(function(e){return e.id===t.label}).data.push({x:t.x,y:t.y,caption:t.caption}):e.push({id:t.label,data:[{x:t.x,y:t.y,caption:t.caption}]}),e},[]);mo[t]=n,u(n)}},[t]),0===c.length?i.a.createElement(p.a,{active:!0,inline:"centered"},"Rendering"):i.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"80% 20%",height:"50em"}},i.a.createElement("div",{style:{height:"50em"}},i.a.createElement(io.a,{data:c.filter(function(e){return!h.includes(e.id)}),margin:{top:40,right:140,bottom:70,left:90},xScale:{type:"linear",min:-1,max:1},yScale:{type:"linear",min:-1,max:1},blendMode:"multiply",axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0},tooltip:function(e){return i.a.createElement("div",{style:w.tooltip.container},i.a.createElement("strong",null,"Label: ".concat(e.node.data.serieId),i.a.createElement("br",null)),"Id: ".concat(e.node.data.caption))},renderNode:E?function(e){var t=e.node,a=e.x,n=e.y,r=e.size,o=e.color,l=e.blendMode,s=e.onMouseEnter,c=e.onMouseMove,u=e.onMouseLeave,m=e.onClick;return i.a.createElement("g",{transform:"translate(".concat(a,",").concat(n,")")},i.a.createElement("text",{fontSize:"10px"},t.data.caption),i.a.createElement("circle",{r:r/2,fill:o,style:{mixBlendMode:l},onMouseEnter:s,onMouseMove:c,onMouseLeave:u,onClick:m}))}:function(e){e.node;var t=e.x,a=e.y,n=e.size,r=e.color,o=e.blendMode,l=e.onMouseEnter,s=e.onMouseMove,c=e.onMouseLeave,u=e.onClick;return i.a.createElement("g",{transform:"translate(".concat(t,",").concat(a,")")},i.a.createElement("circle",{r:n/2,fill:r,style:{mixBlendMode:o},onMouseEnter:l,onMouseMove:s,onMouseLeave:c,onClick:u}))}})),i.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},i.a.createElement("div",{style:{paddingTop:"40px"}},i.a.createElement(Kn.a,{toggle:!0,active:E,onClick:function(){b(!E)}},"Toggle captions")),i.a.createElement(oo.e,null,i.a.createElement(oo.d,{height:400,width:80,margin:{left:0,right:0,top:20,bottom:0}},i.a.createElement(lo.a,{anchor:"center",data:c.map(function(e){var t=C(e);return{color:h.includes(e.id)?"rgba(1, 1, 1, .1)":t,id:e.id,label:e.id}}),containerWidth:80,containerHeight:400,height:400,width:80,direction:"column",itemWidth:50,itemHeight:40,itemsSpacing:15,padding:10,symbolSize:14,symbolShape:"circle",onClick:function(e){g(function(t){return t.includes(String(e.id))?t.filter(function(t){return t!==e.id}):[].concat(Object(v.a)(t),[String(e.id)])})}})))))};function ho(e){var t=e.task,a=e.active,n=t.taskId,r=t.result,o=t.completed;return i.a.createElement("div",{style:Ui},a&&i.a.createElement(po,{taskId:n,result:r,completed:o}))}var go=function(e){var t=e.task,a=e.currentPage,r=e.totalPages,o=e.metadata.versions.gdsVersion,l=i.a.createRef(),s=i.a.useState("Results"),c=Object(n.a)(s,2),u=c[0],m=c[1],d=i.a.useState("Table"),p=Object(n.a)(d,2),h=p[0],g=p[1],y=function(e,t){var a=t.name;_n("neuler-click-view",a),m(a)},f=function(e,t){var a=t.name;_n("neuler-click-view",a),g(a)};i.a.useEffect(function(){t.status===I?m("Configure"):m("Results")},[t.status]);var E,b=t.group,v=function(e){return e===u?{display:""}:{display:"none"}},C=function(e){return e===h?{display:""}:{display:"none"}};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"page-heading"},t.group," / ",t.algorithm," - Started at ",t.startTime.toLocaleTimeString()),i.a.createElement("div",{className:"top-level-container"},t.completed&&"FAILED"===t.status?i.a.createElement(i.a.Fragment,null,i.a.createElement(hi,{task:t,activeItem:u,currentPage:a,totalPages:r,handleMenuItemClick:y.bind(void 0)}),i.a.createElement("div",{style:{marginTop:"10px"}},i.a.createElement("div",{style:v("Configure")},i.a.createElement(Ci,{task:t,limit:e.limit,onRun:function(){},onCopy:function(t,a,n,r){e.onCopyAlgo(t,a,n,r)}})),i.a.createElement("div",{style:v("Results")},i.a.createElement(Hn.a,{warning:!0},i.a.createElement(Hn.a.Header,null,"Algorithm failed to complete"),i.a.createElement("p",null,t.error))),i.a.createElement("div",{style:v("Code")},i.a.createElement(Fi,{task:t})))):i.a.createElement(i.a.Fragment,null,i.a.createElement(Mi,{task:t,activeItem:u,activeGroup:b,panelRef:l,handleMenuItemClick:y}),i.a.createElement("div",{ref:l},i.a.createElement("div",null,i.a.createElement("div",{style:v("Configure")},i.a.createElement(Ci,{task:t,limit:e.limit,onRun:function(){},onCopy:function(t,a,n,r){e.onCopyAlgo(t,a,n,r)}})),i.a.createElement("div",{style:v("Code")},i.a.createElement(Fi,{task:t})),i.a.createElement("div",{style:(E="Results",E===u?{display:"flex"}:{display:"none"})},i.a.createElement("div",null,i.a.createElement(pi.a,{pointing:!0,secondary:!0,vertical:!0,className:"resultsMenu"},i.a.createElement(pi.a.Item,{name:"Table",active:"Table"===h,onClick:f}),"Centralities"===Cn(t.algorithm,o)&&i.a.createElement(pi.a.Item,{name:"Chart",active:"Chart"===h,onClick:f}),!["Path Finding","Graph Embeddings","Similarity"].includes(Cn(t.algorithm,o))&&i.a.createElement(pi.a.Item,{name:"Visualisation",active:"Visualisation"===h,onClick:f}),"Graph Embeddings"===Cn(t.algorithm,o)&&i.a.createElement(pi.a.Item,{name:"Scatter Plot",active:"Scatter Plot"===h,onClick:f}))),i.a.createElement("div",{style:{flexGrow:"1",paddingLeft:"10px"}},"Path Finding"!==b&&"Similarity"!==b?i.a.createElement("div",{style:C("Visualisation")},i.a.createElement(ro,{task:t,active:"Visualisation"===h})):null,"Centralities"===b?i.a.createElement("div",{style:C("Chart")},i.a.createElement(Gi,{task:t,active:"Chart"===h})):null,"Graph Embeddings"===b?i.a.createElement("div",{style:C("Scatter Plot")},i.a.createElement(ho,{task:t,active:"Scatter Plot"===h})):null,i.a.createElement("div",{style:C("Table")},i.a.createElement(Qi,{task:t,gdsVersion:e.gdsVersion})))))))))},yo=function(e){var t=Object(ai.g)(),a=e.tasks,n=Object(ai.h)().taskId,r=a.find(function(e){return e.taskId===n});return i.a.createElement(go,{metadata:e.metadata,onRunAlgo:zi,onCopyAlgo:function(e,a,n,r){return t.push({pathname:"/algorithms/new",state:{group:e,algorithm:a,newParameters:n,formParameters:r}})},task:r,totalPages:a.length,gdsVersion:e.metadata.versions.gdsVersion})},fo=Object(E.b)(function(e){return{activeMenuItem:e.menu.item,limit:e.settings.limit,communityNodeLimit:e.settings.communityNodeLimit,metadata:e.metadata,tasks:e.tasks}},function(e){return{updateLimit:function(t){return e(yt(t))},setLabels:function(t){return e(Ft(t))},setGds:function(t){return e(Wt(t))},setRelationshipTypes:function(t){return e(Mt(t))},setPropertyKeys:function(t){return e(Ht(t))},setRelPropertyKeys:function(t){return e(Vt(t))},setNodePropertyKeys:function(t){return e(Kt(t))},setDatabases:function(t){return e(Bt(t))},addDatabase:function(t){return e($t(t))},initLabel:function(t,a,n,r){return e(zt(t,a,n,r))},removeTask:function(t){e(R({taskId:t}))}}})(function(e){var t=Object(ai.g)();if(!e.tasks||0===e.tasks.length)return i.a.createElement(ai.a,{to:"/algorithms/new"});var a=Object(ai.i)(),n=a.path;a.url;return i.a.createElement(ai.d,null,i.a.createElement(ai.b,{exact:!0,path:n},i.a.createElement("div",null,i.a.createElement("nav",{className:"top-nav"},i.a.createElement(Kn.a,{onClick:function(){t.push("/algorithms/new")},icon:"plus",labelPosition:"right",content:"New algorithm",className:"new-algorithm"})),i.a.createElement("div",{className:"page-heading"},"Algorithm Runs"),e.tasks.map(function(t){return i.a.createElement("div",{className:"algorithm-item",key:t.taskId},i.a.createElement(Xn.b,{to:"/algorithms/"+t.taskId},t.group," / ",t.algorithm),i.a.createElement(Kn.a,{onClick:function(){e.removeTask(t.taskId)},icon:"close",className:"close",size:"tiny"}),i.a.createElement("p",{className:"start-time"},"Started at: ",t.startTime.toLocaleTimeString()),i.a.createElement(Jn.a,{className:"algorithm-detail"},i.a.createElement(Jn.a.Item,null,i.a.createElement("label",null,"Node Projection"),i.a.createElement("span",null,t.parameters.config.nodeProjection)),i.a.createElement(Jn.a.Item,null,i.a.createElement("label",null,"Relationship Projection"),i.a.createElement("span",null,"object"==typeof t.parameters.config.relationshipProjection?t.parameters.config.relationshipProjection.relType.type+", "+t.parameters.config.relationshipProjection.relType.orientation:t.parameters.config.relationshipProjection,t.parameters.config.relationshipWeightProperty?", "+t.parameters.config.relationshipWeightProperty:null))))}))),i.a.createElement(ai.b,{path:"".concat(n,"/:taskId")},i.a.createElement("div",null,i.a.createElement("nav",{className:"top-nav"},i.a.createElement(Kn.a,{onClick:function(){t.push("/algorithms/")},icon:"left arrow",labelPosition:"left",content:"All algorithms",className:"back-to-algorithms"}),i.a.createElement(Kn.a,{onClick:function(){t.push("/algorithms/new")},icon:"plus",labelPosition:"right",content:"New algorithm",style:{marginLeft:"3px"},className:"new-algorithm"})),i.a.createElement(yo,{metadata:e.metadata,tasks:e.tasks}))))}),Eo=Object(E.b)(function(e){return{tasks:e.tasks,limit:e.settings.limit,metadata:e.metadata,activeGroup:e.algorithms.group,activeAlgorithm:e.algorithms.algorithm,communityNodeLimit:e.settings.communityNodeLimit}},function(e,t){return{runTask:function(t,a,n,r,i,o){e(L({taskId:t,query:a,namedGraphQueries:n,parameters:r,formParameters:i,persisted:o}))},addTask:function(t,a,n,r,i,o){var l={group:a,algorithm:n,taskId:t,parameters:r,formParameters:i,persisted:o,startTime:new Date,database:q()};e(S(Object(b.a)({},l)))},completeTask:function(t,a,n){e(k({taskId:t,result:a,error:n}))},setGds:function(t){return e(Wt(t))},setLabels:function(t){return e(Ft(t))},setRelationshipTypes:function(t){return e(Mt(t))},setPropertyKeys:function(t){return e(Ht(t))},setRelPropertyKeys:function(t){return e(Vt(t))},setNodePropertyKeys:function(t){return e(Kt(t))},setDatabases:function(t){return e(Bt(t))},addDatabase:function(t){return e($t(t))},initLabel:function(t,a,n,r){return e(zt(t,a,n,r))}}})(function(e){var t=Object(ai.g)(),a=i.a.useState(null),r=Object(n.a)(a,2),o=r[0],l=r[1],s=function(){wr(e)};i.a.useEffect(function(){l(function(e,t,a,n,r){var i=Object(Ai.v4)(),o=vn(e,t,r),l=o.parameters;return{group:e,algorithm:t,taskId:i,parameters:(0,o.parametersBuilder)(Object(b.a)({},l,{requiredProperties:Object.keys(l)})),formParameters:function(e){return Object(b.a)({},e,{limit:a,communityNodeLimit:n})}(l),persisted:l.persist,startTime:new Date,database:q(),status:I}}(e.activeGroup,e.activeAlgorithm,e.limit,e.communityNodeLimit,e.metadata.versions.gdsVersion))},[e.activeGroup,e.activeAlgorithm]),i.a.useEffect(function(){if(e.location.state){var t=e.location.state,a=t.group,n=t.algorithm,r=t.newParameters,i=t.formParameters;l(function(e,t,a,n){return{group:e,algorithm:t,taskId:Object(Ai.v4)(),parameters:a,formParameters:n,persisted:a.persist,startTime:new Date,database:q(),status:I}}(a,n,r,i))}},[e.location.state]);var c=e.metadata.versions,u=e.tasks&&e.tasks.length>0?i.a.createElement("nav",{className:"top-nav"},i.a.createElement(Kn.a,{onClick:function(){t.push("/algorithms/")},icon:"left arrow",labelPosition:"left",content:"All algorithms",className:"back-to-algorithms"})):null;return o&&i.a.createElement("div",null,u,i.a.createElement("div",{className:"page-heading"},"New Algorithm Run"),i.a.createElement("div",{className:"top-level-container"},i.a.createElement(Hi,null),i.a.createElement(Ci,{task:o,onComplete:s,onRun:function(a,n,r){var i;e.addTask(o.taskId,o.group,o.algorithm,(i=a,Object(b.a)({},i,{limit:e.limit,communityNodeLimit:e.communityNodeLimit})),n,r),zi(o,a,n,r,c,e.completeTask,s,e.runTask),t.push("/algorithms/"+o.taskId)},onCopy:function(){}})))}),bo={"directed-graph-influencers":{name:"Directed Graph Influencers",shortDescription:"This recipe contains algorithms that find the most influential nodes in a directed graph.",completionMessage:"You should now have a good idea about how to find the most influential or central nodes in your graph.",slides:[{group:"Centralities",algorithm:"Degree",title:"Degree Centrality",overrides:{formParameters:{}},description:i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"Degree Centrality finds the most influential or central nodes in a graph based on the number of relationships that the node has."),i.a.createElement("p",null,"By default, it counts the number of incoming relationships but this value can be configured via the ",i.a.createElement("i",null,"Relationship Orientation")," parameter."),i.a.createElement("p",null,"The weighted degree centrality for each node is computed by providing an optional relationship property name via the ",i.a.createElement("i",null,"Weight Property")," parameter."))},{group:"Centralities",algorithm:"Page Rank",title:"Page Rank",overrides:{formParameters:{}},description:i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"Page Rank finds the nodes that have the great transitive influence."),i.a.createElement("p",null,"This means that it's not only how many incoming relationships that matters, it's also the importance of the nodes on the other side of that relationship."))},{group:"Centralities",algorithm:"Betweenness",title:"Betweenness Centrality",overrides:{formParameters:{}},description:i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"The Betweenness Centrality algorithm detects the amount of influence a node has over the flow of information in a graph."),i.a.createElement("p",null,"It is often used to find nodes that serve as a bridge from one part of a graph to another."),i.a.createElement("p",null,"We can use this algorithm to find nodes that are well connected to a sub graph within the larger graph."))}]},"community-detection":{name:"Community Detection on Multi Partite Graph",shortDescription:"This recipe contains a sequence of algorithms for detecting communities in a multi partite (more than 1 label) graph.",completionMessage:"You should now understand how to find communities in a graph containing multiple labels",slides:[{group:"Similarity",algorithm:"Node Similarity",title:"Jaccard Similarity",overrides:{formParameters:{persist:!0},parameters:{config:{}},formParametersToPassOn:[{source:"writeRelationshipType",target:"relationshipType"},{source:"writeProperty",target:"weightProperty"},{source:"label",target:"label"}],slidesToUpdate:[1]},description:i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"The Jaccard or Node similarity algorithm computes the similarity of pairs of nodes based on the nodes that they're connected to."),i.a.createElement("p",null,"We can use this algorithm to create a similarity graph by setting ",i.a.createElement("i",null,"Store results?")," and specifying ",i.a.createElement("i",null,"Write Property")," and ",i.a.createElement("i",null,"Write Relationship Type"),"."),i.a.createElement("p",null,"This technique is useful for creating relationships between nodes where none exist in the initial graph. e.g. we could create relationships between ",i.a.createElement("i",null,"Recipe")," nodes based on the ",i.a.createElement("i",null,"Ingredient")," nodes that they have in common."))},{group:"Community Detection",algorithm:"Label Propagation",title:"Label Propagation",overrides:{formParameters:{},parameters:{config:{}}},description:i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"The Label Propagation Algorithm is a fast algorithm for finding communities in a graph, which it does by propagating labels and forming communities based on this process of label propagation"),i.a.createElement("p",null,"On initialisation, every node has its own label, but as labels propagate, densely connected groups of nodes quickly reach a consensus on a unique label. At the end of the propagation only a few labels will remain."))}]}},vo=function(e){return parseInt(e.split(".")[0])>=2?(bo["categorise-unstructured-data"]={name:"Categorise Unstructured Data",shortDescription:"This recipe contains a sequence of algorithms for creating a graph structure based on node property similarities.",completionMessage:"You should now understand how to find build a graph from unstructured data.",slides:[{group:"Similarity",algorithm:"K-Nearest Neighbors",title:"K-Nearest Neighbors",overrides:{formParameters:{persist:!0},parameters:{config:{}},formParametersToPassOn:[{source:"writeRelationshipType",target:"relationshipType"},{source:"writeProperty",target:"weightProperty"},{source:"label",target:"label"}],slidesToUpdate:[1,2]},description:i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"The K-Nearest Neighbors algorithm computes a distance value for all node pairs in the graph and creates new relationships between each node and its k nearest neighbors. The distance is calculated based on node properties."))},{group:"Community Detection",algorithm:"Louvain",title:"Louvain",overrides:{formParameters:{},parameters:{config:{}}},description:i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"The Louvain method for community detection is an algorithm for detecting communities in networks. It maximizes a modularity score for each community, where the modularity quantifies the quality of an assignment of nodes to communities."))},{group:"Community Detection",algorithm:"Label Propagation",title:"Label Propagation",overrides:{formParameters:{},parameters:{config:{}}},description:i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"The Label Propagation Algorithm is a fast algorithm for finding communities in a graph, which it does by propagating labels and forming communities based on this process of label propagation"),i.a.createElement("p",null,"On initialisation, every node has its own label, but as labels propagate, densely connected groups of nodes quickly reach a consensus on a unique label. At the end of the propagation only a few labels will remain."))}]},bo):bo},Co={padding:"1em"},wo=function(e){var t=e.getStyleResultsTab,a=e.selectedTask,n=e.handleResultsMenuItemClick,r=e.activeGroup,o=e.getResultsStyle,l=e.gdsVersion;return i.a.createElement("div",{style:t("Results")},i.a.createElement("div",null,i.a.createElement(pi.a,{pointing:!0,secondary:!0,vertical:!0,className:"resultsMenu"},i.a.createElement(pi.a.Item,{name:"Table",active:"Table"===a.activeItem,onClick:n}),"Centralities"===Cn(a.algorithm,l)&&i.a.createElement(pi.a.Item,{name:"Chart",active:"Chart"===a.activeResultsItem,onClick:n}),!("Path Finding"===Cn(a.algorithm,l)||"Similarity"===Cn(a.algorithm,l))&&i.a.createElement(pi.a.Item,{name:"Visualisation",active:"Visualisation"===a.activeResultsItem,onClick:n}))),i.a.createElement("div",{style:{flexGrow:"1",paddingLeft:"10px"}},"Path Finding"!==r&&"Similarity"!==r?i.a.createElement("div",{style:o("Visualisation")},i.a.createElement(ro,{task:a,active:"Visualisation"===a.activeResultsItem})):null,"Centralities"===r?i.a.createElement("div",{style:o("Chart")},i.a.createElement(Gi,{task:a,active:"Chart"===a.activeResultsItem})):null,i.a.createElement("div",{style:o("Table")},i.a.createElement(Qi,{task:a,gdsVersion:l}))))},Oo=function(e){var t=e.selectedTask,a=e.getStyleResultsTab;return i.a.createElement("div",{style:a("Results")},i.a.createElement(Hn.a,{warning:!0,compact:!0},i.a.createElement(Hn.a.Header,null,"Algorithm failed to complete"),i.a.createElement("p",null,t.error)))},No=Object(E.b)(function(e){return{activeMenuItem:e.menu.item,limit:e.settings.limit,communityNodeLimit:e.settings.communityNodeLimit,metadata:e.metadata,tasks:e.tasks}},function(e){return{updateLimit:function(t){return e(yt(t))},setLabels:function(t){return e(Ft(t))},setGds:function(t){return e(Wt(t))},setRelationshipTypes:function(t){return e(Mt(t))},setPropertyKeys:function(t){return e(Ht(t))},setRelPropertyKeys:function(t){return e(Vt(t))},setNodePropertyKeys:function(t){return e(Kt(t))},setDatabases:function(t){return e(Bt(t))},addDatabase:function(t){return e($t(t))},initLabel:function(t,a,n,r){return e(zt(t,a,n,r))},removeTask:function(t){e(R({taskId:t}))}}})(function(e){var t=i.a.createRef(),a=i.a.useState(0),r=Object(n.a)(a,2),o=r[0],l=r[1],s=i.a.useState("start"),c=Object(n.a)(s,2),u=c[0],m=c[1],d=i.a.useState(vo(e.metadata.versions.gdsVersion)),p=Object(n.a)(d,2),g=p[0],y=p[1],f=Object(ai.h)().recipeId,E=function(){g[f].slides[o].task||y(function(t){var a=Object.assign({},t),n=a[f],r=n.slides[o].group,i=n.slides[o].algorithm,l=vn(r,i,e.metadata.versions.gdsVersion),s=l.parameters,c=l.parametersBuilder,u=Object.assign(s,n.slides[o].overrides.formParameters),m=c(Object(b.a)({},u,{requiredProperties:Object.keys(u)})),d=function(t){return Object(b.a)({},t,{limit:e.limit,communityNodeLimit:e.communityNodeLimit})}(u),p=Object(Ai.v4)();return n.slides[o].task={group:r,algorithm:i,status:I,taskId:p,parameters:m,formParameters:d,persisted:!1,startTime:new Date,database:q(),activeItem:"Configure",activeResultsItem:"Table"},a})};i.a.useEffect(function(){"slide"===u&&E()},[o,f,u]);var C=g[f],w=C.slides.length,O=function(e){return e===C.slides[o].task.activeItem?{display:""}:{display:"none"}},N=function(e){return e===C.slides[o].task.activeItem?{display:"flex"}:{display:"none"}},S=C.slides[o].task,L=S&&S.group,k=function(e){y(function(t){var a=Object.assign({},t),n=a[f].slides[o].task;return a[f].slides[o].task=Object(b.a)({},n,e),a})};return i.a.createElement(i.a.Fragment,null,i.a.createElement(So,{selectedRecipe:C}),i.a.createElement("div",{className:"recipe-body"},i.a.createElement(h.a,{fluid:!0},i.a.createElement("div",{className:"recipes"},i.a.createElement("div",{className:"recipe"},"start"===u&&i.a.createElement(Io,{key:"start-slide",setPage:m,setSelectedSlide:l,selectedRecipe:C,gdsVersion:e.metadata.versions.gdsVersion}),"end"===u&&i.a.createElement(Po,{key:"end-slide",selectedRecipe:C}),"slide"===u&&S&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"left"},i.a.createElement("span",{className:"recipe-heading"},C.slides[o].title),C.slides[o].description),i.a.createElement("div",{className:"right"},"FAILED"!==S.status&&i.a.createElement(Mi,{task:S,panelRef:e.panelRef,activeItem:S.activeItem,handleMenuItemClick:function(e,t){var a=t.name;return k({activeItem:a})}}),S.completed&&"FAILED"===S.status&&i.a.createElement(hi,{activeItem:S.activeItem,handleMenuItemClick:function(e,t){var a=t.name;return k({activeItem:a})}}),i.a.createElement("div",{ref:t},i.a.createElement("div",{style:O("Configure")},i.a.createElement(ko,{selectedAlgorithmReadOnly:!0,task:S,limit:e.limit,onRun:function(t,a,n){zi(S,t,a,n,e.metadata.versions,function(e,t,n){if(_n("neuler","ran-recipe-algorithm",{algorithm:S.algorithm,group:S.group,recipe:C.name}),n)k({status:"FAILED",result:t,error:n,completed:!0});else{k({status:T,result:t,completed:!0});var r=C.slides[o].overrides,i=r.formParametersToPassOn||[];r.slidesToUpdate&&function(e,t){y(function(a){var n=Object.assign({},a);return e.forEach(function(e){var a=n[f].slides[e].overrides;a.formParameters=Object.assign(a.formParameters,t)}),n})}(r.slidesToUpdate,Object.assign.apply(Object,[{}].concat(Object(v.a)(i.map(function(e){return Object(de.a)({},e.target,a[e.source])})))))}},function(){wr(e)},function(e,t,a,n,r,i){k({activeItem:"Results",status:P,query:t,namedGraphQueries:a,parameters:n,formParameters:r,persisted:i,result:null})})},onCopy:function(e,t,a,n){k({status:I,result:null,query:null,namedGraphQueries:null,activeItem:"Configure",formParameters:n,parameters:a})}})),"FAILED"!==S.status&&i.a.createElement(wo,{getStyleResultsTab:N,selectedTask:S,handleResultsMenuItemClick:function(e,t){var a=t.name;k({activeResultsItem:a})},activeGroup:L,getResultsStyle:function(e){return e===C.slides[o].task.activeResultsItem?{display:""}:{display:"none"}},gdsVersion:e.metadata.versions.gdsVersion}),S.completed&&"FAILED"===S.status&&i.a.createElement(Oo,{getStyleResultsTab:N,selectedTask:S}),i.a.createElement("div",{style:O("Code")},i.a.createElement(Fi,{task:S}))))))),i.a.createElement(To,{selectedSlide:o,setSelectedSlide:l,page:u,setPage:m,maxSlide:w}))))}),Io=function(e){var t=e.selectedRecipe,a=e.gdsVersion,n=e.setPage,r=e.setSelectedSlide;return i.a.createElement("div",{className:"left-right"},i.a.createElement("div",{className:"title"},i.a.createElement("span",{className:"title"},"Welcome to the ",t.name," recipe")),i.a.createElement("p",null,t.shortDescription),i.a.createElement("div",{className:"ui cards algorithms"},t.slides.map(function(e,t){var n=vn(e.group,e.algorithm,a);return i.a.createElement(oi.a,{key:"recipe"+t},i.a.createElement(oi.a.Content,null,i.a.createElement(oi.a.Header,null,e.title),i.a.createElement(oi.a.Description,null,n.description)))})),i.a.createElement("div",{className:"ui buttons"},i.a.createElement(Kn.a,{className:"try-recipe",onClick:function(){r(0),n("slide")}},"Try out the recipe")))},Po=function(e){var t=e.selectedRecipe,a=Object(ai.g)();return i.a.createElement("div",{className:"left-right"},i.a.createElement("div",{className:"title"},i.a.createElement("span",{className:"title"},"Congratulations for completing the ",t.name," recipe")),i.a.createElement("p",null,t.completionMessage,i.a.createElement("br",null),"Below are some ideas for things to try next:"),i.a.createElement("div",{className:"ui cards algorithms"},i.a.createElement(oi.a,null,i.a.createElement(oi.a.Content,null,i.a.createElement(oi.a.Header,null,"Another recipe"),i.a.createElement(oi.a.Description,null,"Try out one of the other algorithm recipes")),i.a.createElement(oi.a.Content,{extra:!0},i.a.createElement("div",{className:"ui two buttons"},i.a.createElement(Kn.a,{basic:!0,color:"green",onClick:function(){a.push("/recipes/")}},"Select")))),i.a.createElement(oi.a,null,i.a.createElement(oi.a.Content,null,i.a.createElement(oi.a.Header,null,"Run single algorithm"),i.a.createElement(oi.a.Description,null,"Try out any of the algorithms in the Graph Data Science Library.")),i.a.createElement(oi.a.Content,{extra:!0},i.a.createElement("div",{className:"ui two buttons"},i.a.createElement(Kn.a,{basic:!0,color:"green",onClick:function(){a.push("/algorithms/new")}},"Select"))))))},To=function(e){var t=e.selectedSlide,a=e.setSelectedSlide,n=e.page,r=e.setPage,o=e.maxSlide;switch(n){case"start":return i.a.createElement("div",{className:"recipe-navigation"},i.a.createElement(qn.a,{size:"large",disabled:!0,className:"angle left disabled"}),i.a.createElement("span",null,"Browse"),i.a.createElement(qn.a,{size:"large",className:"angle right",onClick:function(){r("slide"),a(0)}}));case"end":return i.a.createElement("div",{className:"recipe-navigation"},i.a.createElement(qn.a,{size:"large",onClick:function(){r("slide"),a(o-1)},className:"angle left"}),i.a.createElement("span",null,"Browse"),i.a.createElement(qn.a,{size:"large",className:"angle right disabled",disabled:!0}));default:return i.a.createElement("div",{className:"recipe-navigation"},i.a.createElement(qn.a,{size:"large",onClick:function(){0===t?r("start"):a(function(e){return e-1})},className:"angle left"}),i.a.createElement("span",null,"Browse"),t<o&&i.a.createElement(qn.a,{size:"large",className:"angle right",onClick:function(){t===o-1?r("end"):a(function(e){return e+1})}}))}},So=function(e){var t=e.selectedRecipe,a=Object(ai.g)();return i.a.createElement(i.a.Fragment,null,i.a.createElement("nav",{className:"top-nav"},i.a.createElement(Kn.a,{onClick:function(){a.push("/recipes/")},icon:"left arrow",labelPosition:"left",content:"All algorithm recipes",className:"back-to-algorithms"})),i.a.createElement("div",{className:"page-heading"},t.name))},Lo=function(e){var t=Object(ai.g)(),a=e.recipes;return i.a.createElement(ii.a,null,Object.keys(a).map(function(e){return i.a.createElement(oi.a,{key:e},i.a.createElement(oi.a.Content,null,i.a.createElement(qn.a,{name:"sitemap"}),i.a.createElement(oi.a.Header,null,a[e].name),i.a.createElement(oi.a.Meta,null,a[e].shortDescription)),i.a.createElement(oi.a.Content,{extra:!0},i.a.createElement("div",{className:"ui two buttons"},i.a.createElement(Kn.a,{basic:!0,color:"green",onClick:function(){return t.push("/recipes/"+e)}},"Select"))))}))},ko=Object(E.b)(function(e){return{metadata:e.metadata,limit:e.settings.limit,communityNodeLimit:e.settings.communityNodeLimit}},function(e){return{updateLimit:function(t){return e(yt(t))},updateCommunityNodeLimit:function(t){return e(ft(t))}}})(bi),Ro=Object(E.b)(function(e){return{metadata:e.metadata,activeAlgorithm:e.algorithms.algorithm,limit:e.settings.limit}},function(e){return{selectAlgorithm:function(t){return e(In(t))}}})(function(e){var t=Object(ai.i)(),a=t.path;t.url;return i.a.createElement(ai.d,null,i.a.createElement(ai.b,{exact:!0,path:a},i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"page-heading"},"Algorithm Recipes"),i.a.createElement("div",{style:Co},i.a.createElement("p",null,"Algorithm Recipes are collections or series of algorithms that provide provide useful insights on certain types of graphs or can be combined to solve data science problems."),i.a.createElement(Lo,{recipes:vo(e.metadata.versions.gdsVersion)})))),i.a.createElement(ai.b,{path:"".concat(a,"/:recipeId")},i.a.createElement(No,null)))}),Ao={key:"root",storage:u.a,whitelist:["settings"]},jo=Object(s.a)(Ao,Fn),Do=Object(f.c)(jo),xo=Object(s.b)(Do),Fo=i.a.createElement(d.a,{active:!0},i.a.createElement(p.a,{size:"massive"},"Connecting")),Mo=!!window.neo4jDesktopApi,Ho=ni,Ko=Object(E.b)(function(e){return{activeGroup:e.algorithms.group,activeAlgorithm:e.algorithms.algorithm,metadata:e.metadata,labels:e.metadata.allLabels,connectionInfo:e.connections}},function(e){return{setActiveDatabase:function(t){return e(Gt(t))},setDatabases:function(t){return e(Bt(t))},setLabels:function(t){return e(Ft(t))},setRelationshipTypes:function(t){return e(Mt(t))},setPropertyKeys:function(t){return e(Ht(t))},setRelPropertyKeys:function(t){return e(Vt(t))},setGds:function(t){return e(Wt(t))},setNodePropertyKeys:function(t){return e(Kt(t))},addDatabase:function(t){return e($t(t))},initLabel:function(t,a,n,r){return e(zt(t,a,n,r))}}})(function(e){var t=e.View,a=e.connectionInfo,r=e.routeProps,o=e.activeAlgorithm,l=e.activeGroup,s=!(!e.metadata||!e.metadata.versions)&&e.metadata.versions.neo4jVersion;if(!a.credentials)return i.a.createElement(ai.a,{to:{pathname:"/login",search:r.location.search}});var c=o?"".concat(Un.version,":").concat(r.location.pathname,":").concat(l,"/").concat(o):"".concat(Un.version,":").concat(r.location.pathname),u=i.a.useState(!1),m=Object(n.a)(u,2),d=m[0],p=m[1],g=i.a.useState(!1),y=Object(n.a)(g,2),f=y[0],E=y[1];return i.a.createElement(h.a,{fluid:!0,style:{height:"100%",display:"flex",flexFlow:"column",background:"#fff"}},i.a.createElement(ar,{metadata:e.metadata,setDatasetsActive:E,credentials:e.connectionInfo.credentials}),i.a.createElement("div",{style:{width:"100%",overflowY:"auto",flexGrow:"1"}},i.a.createElement(t,Object.assign({},r,{setAboutActive:p,setDatasetsActive:E})),i.a.createElement(Jr,{page:c}),i.a.createElement(ri,{open:d,onClose:function(){return p(!1)}}),i.a.createElement(mi,{onComplete:function(){return wr(e)},open:f,onClose:function(){return E(!1)},neo4jVersion:s})))});l.a.render(i.a.createElement(E.a,{store:Do},i.a.createElement(m.a,{loading:Fo,persistor:xo},i.a.createElement(Xn.a,null,i.a.createElement(ai.d,null,i.a.createElement(ai.b,{path:"/recipes",render:function(e){return i.a.createElement(Ko,{routeProps:e,View:Ro})}}),i.a.createElement(ai.b,{path:"/database",render:function(e){return i.a.createElement(Ko,{routeProps:e,View:Vr})}}),i.a.createElement(ai.b,{path:"/algorithms/new",render:function(e){return i.a.createElement(Ko,{routeProps:e,View:Eo})}}),i.a.createElement(ai.b,{path:"/algorithms",render:function(e){return i.a.createElement(Ko,{routeProps:e,View:fo})}}),i.a.createElement(ai.b,{path:"/login",render:function(e){return i.a.createElement(Ho,Object.assign({},e,{isNeo4jDesktop:Mo}))}}),i.a.createElement(ai.b,{path:"/",render:function(e){return i.a.createElement(Ko,{routeProps:e,View:di})}}))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},646:function(e,t,a){e.exports=a(1e3)},653:function(e,t,a){},860:function(e,t,a){},874:function(e,t){}},[[646,2,1]]]);
//# sourceMappingURL=main.be680593.chunk.js.map